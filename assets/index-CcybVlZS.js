(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function s(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(l){if(l.ep)return;l.ep=!0;const u=s(l);fetch(l.href,u)}})();function Ey(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var nf={exports:{}},co={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jg;function Z1(){if(jg)return co;jg=1;var o=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function s(a,l,u){var f=null;if(u!==void 0&&(f=""+u),l.key!==void 0&&(f=""+l.key),"key"in l){u={};for(var d in l)d!=="key"&&(u[d]=l[d])}else u=l;return l=u.ref,{$$typeof:o,type:a,key:f,ref:l!==void 0?l:null,props:u}}return co.Fragment=t,co.jsx=s,co.jsxs=s,co}var Ug;function W1(){return Ug||(Ug=1,nf.exports=Z1()),nf.exports}var it=W1(),sf={exports:{}},At={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bg;function P1(){if(Bg)return At;Bg=1;var o=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),y=Symbol.iterator;function x(A){return A===null||typeof A!="object"?null:(A=y&&A[y]||A["@@iterator"],typeof A=="function"?A:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,w={};function E(A,L,J){this.props=A,this.context=L,this.refs=w,this.updater=J||b}E.prototype.isReactComponent={},E.prototype.setState=function(A,L){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,L,"setState")},E.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function O(){}O.prototype=E.prototype;function U(A,L,J){this.props=A,this.context=L,this.refs=w,this.updater=J||b}var B=U.prototype=new O;B.constructor=U,S(B,E.prototype),B.isPureReactComponent=!0;var Q=Array.isArray,D={H:null,A:null,T:null,S:null,V:null},M=Object.prototype.hasOwnProperty;function k(A,L,J,et,ht,lt){return J=lt.ref,{$$typeof:o,type:A,key:L,ref:J!==void 0?J:null,props:lt}}function T(A,L){return k(A.type,L,void 0,void 0,void 0,A.props)}function z(A){return typeof A=="object"&&A!==null&&A.$$typeof===o}function G(A){var L={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(J){return L[J]})}var I=/\/+/g;function X(A,L){return typeof A=="object"&&A!==null&&A.key!=null?G(""+A.key):L.toString(36)}function st(){}function nt(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(st,st):(A.status="pending",A.then(function(L){A.status==="pending"&&(A.status="fulfilled",A.value=L)},function(L){A.status==="pending"&&(A.status="rejected",A.reason=L)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function ot(A,L,J,et,ht){var lt=typeof A;(lt==="undefined"||lt==="boolean")&&(A=null);var ct=!1;if(A===null)ct=!0;else switch(lt){case"bigint":case"string":case"number":ct=!0;break;case"object":switch(A.$$typeof){case o:case t:ct=!0;break;case _:return ct=A._init,ot(ct(A._payload),L,J,et,ht)}}if(ct)return ht=ht(A),ct=et===""?"."+X(A,0):et,Q(ht)?(J="",ct!=null&&(J=ct.replace(I,"$&/")+"/"),ot(ht,L,J,"",function(ie){return ie})):ht!=null&&(z(ht)&&(ht=T(ht,J+(ht.key==null||A&&A.key===ht.key?"":(""+ht.key).replace(I,"$&/")+"/")+ct)),L.push(ht)),1;ct=0;var Nt=et===""?".":et+":";if(Q(A))for(var rt=0;rt<A.length;rt++)et=A[rt],lt=Nt+X(et,rt),ct+=ot(et,L,J,lt,ht);else if(rt=x(A),typeof rt=="function")for(A=rt.call(A),rt=0;!(et=A.next()).done;)et=et.value,lt=Nt+X(et,rt++),ct+=ot(et,L,J,lt,ht);else if(lt==="object"){if(typeof A.then=="function")return ot(nt(A),L,J,et,ht);throw L=String(A),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return ct}function R(A,L,J){if(A==null)return A;var et=[],ht=0;return ot(A,et,"","",function(lt){return L.call(J,lt,ht++)}),et}function Y(A){if(A._status===-1){var L=A._result;L=L(),L.then(function(J){(A._status===0||A._status===-1)&&(A._status=1,A._result=J)},function(J){(A._status===0||A._status===-1)&&(A._status=2,A._result=J)}),A._status===-1&&(A._status=0,A._result=L)}if(A._status===1)return A._result.default;throw A._result}var tt=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)};function at(){}return At.Children={map:R,forEach:function(A,L,J){R(A,function(){L.apply(this,arguments)},J)},count:function(A){var L=0;return R(A,function(){L++}),L},toArray:function(A){return R(A,function(L){return L})||[]},only:function(A){if(!z(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},At.Component=E,At.Fragment=s,At.Profiler=l,At.PureComponent=U,At.StrictMode=a,At.Suspense=p,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,At.__COMPILER_RUNTIME={__proto__:null,c:function(A){return D.H.useMemoCache(A)}},At.cache=function(A){return function(){return A.apply(null,arguments)}},At.cloneElement=function(A,L,J){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var et=S({},A.props),ht=A.key,lt=void 0;if(L!=null)for(ct in L.ref!==void 0&&(lt=void 0),L.key!==void 0&&(ht=""+L.key),L)!M.call(L,ct)||ct==="key"||ct==="__self"||ct==="__source"||ct==="ref"&&L.ref===void 0||(et[ct]=L[ct]);var ct=arguments.length-2;if(ct===1)et.children=J;else if(1<ct){for(var Nt=Array(ct),rt=0;rt<ct;rt++)Nt[rt]=arguments[rt+2];et.children=Nt}return k(A.type,ht,void 0,void 0,lt,et)},At.createContext=function(A){return A={$$typeof:f,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:u,_context:A},A},At.createElement=function(A,L,J){var et,ht={},lt=null;if(L!=null)for(et in L.key!==void 0&&(lt=""+L.key),L)M.call(L,et)&&et!=="key"&&et!=="__self"&&et!=="__source"&&(ht[et]=L[et]);var ct=arguments.length-2;if(ct===1)ht.children=J;else if(1<ct){for(var Nt=Array(ct),rt=0;rt<ct;rt++)Nt[rt]=arguments[rt+2];ht.children=Nt}if(A&&A.defaultProps)for(et in ct=A.defaultProps,ct)ht[et]===void 0&&(ht[et]=ct[et]);return k(A,lt,void 0,void 0,null,ht)},At.createRef=function(){return{current:null}},At.forwardRef=function(A){return{$$typeof:d,render:A}},At.isValidElement=z,At.lazy=function(A){return{$$typeof:_,_payload:{_status:-1,_result:A},_init:Y}},At.memo=function(A,L){return{$$typeof:m,type:A,compare:L===void 0?null:L}},At.startTransition=function(A){var L=D.T,J={};D.T=J;try{var et=A(),ht=D.S;ht!==null&&ht(J,et),typeof et=="object"&&et!==null&&typeof et.then=="function"&&et.then(at,tt)}catch(lt){tt(lt)}finally{D.T=L}},At.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},At.use=function(A){return D.H.use(A)},At.useActionState=function(A,L,J){return D.H.useActionState(A,L,J)},At.useCallback=function(A,L){return D.H.useCallback(A,L)},At.useContext=function(A){return D.H.useContext(A)},At.useDebugValue=function(){},At.useDeferredValue=function(A,L){return D.H.useDeferredValue(A,L)},At.useEffect=function(A,L,J){var et=D.H;if(typeof J=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return et.useEffect(A,L)},At.useId=function(){return D.H.useId()},At.useImperativeHandle=function(A,L,J){return D.H.useImperativeHandle(A,L,J)},At.useInsertionEffect=function(A,L){return D.H.useInsertionEffect(A,L)},At.useLayoutEffect=function(A,L){return D.H.useLayoutEffect(A,L)},At.useMemo=function(A,L){return D.H.useMemo(A,L)},At.useOptimistic=function(A,L){return D.H.useOptimistic(A,L)},At.useReducer=function(A,L,J){return D.H.useReducer(A,L,J)},At.useRef=function(A){return D.H.useRef(A)},At.useState=function(A){return D.H.useState(A)},At.useSyncExternalStore=function(A,L,J){return D.H.useSyncExternalStore(A,L,J)},At.useTransition=function(){return D.H.useTransition()},At.version="19.1.0",At}var Lg;function wf(){return Lg||(Lg=1,sf.exports=P1()),sf.exports}var mt=wf();const Fg=Ey(mt);var af={exports:{}},uo={},rf={exports:{}},of={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gg;function K1(){return Gg||(Gg=1,function(o){function t(R,Y){var tt=R.length;R.push(Y);t:for(;0<tt;){var at=tt-1>>>1,A=R[at];if(0<l(A,Y))R[at]=Y,R[tt]=A,tt=at;else break t}}function s(R){return R.length===0?null:R[0]}function a(R){if(R.length===0)return null;var Y=R[0],tt=R.pop();if(tt!==Y){R[0]=tt;t:for(var at=0,A=R.length,L=A>>>1;at<L;){var J=2*(at+1)-1,et=R[J],ht=J+1,lt=R[ht];if(0>l(et,tt))ht<A&&0>l(lt,et)?(R[at]=lt,R[ht]=tt,at=ht):(R[at]=et,R[J]=tt,at=J);else if(ht<A&&0>l(lt,tt))R[at]=lt,R[ht]=tt,at=ht;else break t}}return Y}function l(R,Y){var tt=R.sortIndex-Y.sortIndex;return tt!==0?tt:R.id-Y.id}if(o.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;o.unstable_now=function(){return u.now()}}else{var f=Date,d=f.now();o.unstable_now=function(){return f.now()-d}}var p=[],m=[],_=1,y=null,x=3,b=!1,S=!1,w=!1,E=!1,O=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function Q(R){for(var Y=s(m);Y!==null;){if(Y.callback===null)a(m);else if(Y.startTime<=R)a(m),Y.sortIndex=Y.expirationTime,t(p,Y);else break;Y=s(m)}}function D(R){if(w=!1,Q(R),!S)if(s(p)!==null)S=!0,M||(M=!0,X());else{var Y=s(m);Y!==null&&ot(D,Y.startTime-R)}}var M=!1,k=-1,T=5,z=-1;function G(){return E?!0:!(o.unstable_now()-z<T)}function I(){if(E=!1,M){var R=o.unstable_now();z=R;var Y=!0;try{t:{S=!1,w&&(w=!1,U(k),k=-1),b=!0;var tt=x;try{e:{for(Q(R),y=s(p);y!==null&&!(y.expirationTime>R&&G());){var at=y.callback;if(typeof at=="function"){y.callback=null,x=y.priorityLevel;var A=at(y.expirationTime<=R);if(R=o.unstable_now(),typeof A=="function"){y.callback=A,Q(R),Y=!0;break e}y===s(p)&&a(p),Q(R)}else a(p);y=s(p)}if(y!==null)Y=!0;else{var L=s(m);L!==null&&ot(D,L.startTime-R),Y=!1}}break t}finally{y=null,x=tt,b=!1}Y=void 0}}finally{Y?X():M=!1}}}var X;if(typeof B=="function")X=function(){B(I)};else if(typeof MessageChannel<"u"){var st=new MessageChannel,nt=st.port2;st.port1.onmessage=I,X=function(){nt.postMessage(null)}}else X=function(){O(I,0)};function ot(R,Y){k=O(function(){R(o.unstable_now())},Y)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(R){R.callback=null},o.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<R?Math.floor(1e3/R):5},o.unstable_getCurrentPriorityLevel=function(){return x},o.unstable_next=function(R){switch(x){case 1:case 2:case 3:var Y=3;break;default:Y=x}var tt=x;x=Y;try{return R()}finally{x=tt}},o.unstable_requestPaint=function(){E=!0},o.unstable_runWithPriority=function(R,Y){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var tt=x;x=R;try{return Y()}finally{x=tt}},o.unstable_scheduleCallback=function(R,Y,tt){var at=o.unstable_now();switch(typeof tt=="object"&&tt!==null?(tt=tt.delay,tt=typeof tt=="number"&&0<tt?at+tt:at):tt=at,R){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=tt+A,R={id:_++,callback:Y,priorityLevel:R,startTime:tt,expirationTime:A,sortIndex:-1},tt>at?(R.sortIndex=tt,t(m,R),s(p)===null&&R===s(m)&&(w?(U(k),k=-1):w=!0,ot(D,tt-at))):(R.sortIndex=A,t(p,R),S||b||(S=!0,M||(M=!0,X()))),R},o.unstable_shouldYield=G,o.unstable_wrapCallback=function(R){var Y=x;return function(){var tt=x;x=Y;try{return R.apply(this,arguments)}finally{x=tt}}}}(of)),of}var Hg;function J1(){return Hg||(Hg=1,rf.exports=K1()),rf.exports}var lf={exports:{}},Ge={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ig;function $1(){if(Ig)return Ge;Ig=1;var o=wf();function t(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)m+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var a={d:{f:s,r:function(){throw Error(t(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(p,m,_){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:y==null?null:""+y,children:p,containerInfo:m,implementation:_}}var f=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Ge.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ge.createPortal=function(p,m){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return u(p,m,null,_)},Ge.flushSync=function(p){var m=f.T,_=a.p;try{if(f.T=null,a.p=2,p)return p()}finally{f.T=m,a.p=_,a.d.f()}},Ge.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,a.d.C(p,m))},Ge.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},Ge.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var _=m.as,y=d(_,m.crossOrigin),x=typeof m.integrity=="string"?m.integrity:void 0,b=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;_==="style"?a.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:y,integrity:x,fetchPriority:b}):_==="script"&&a.d.X(p,{crossOrigin:y,integrity:x,fetchPriority:b,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Ge.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var _=d(m.as,m.crossOrigin);a.d.M(p,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&a.d.M(p)},Ge.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var _=m.as,y=d(_,m.crossOrigin);a.d.L(p,_,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Ge.preloadModule=function(p,m){if(typeof p=="string")if(m){var _=d(m.as,m.crossOrigin);a.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else a.d.m(p)},Ge.requestFormReset=function(p){a.d.r(p)},Ge.unstable_batchedUpdates=function(p,m){return p(m)},Ge.useFormState=function(p,m,_){return f.H.useFormState(p,m,_)},Ge.useFormStatus=function(){return f.H.useHostTransitionStatus()},Ge.version="19.1.0",Ge}var Yg;function tb(){if(Yg)return lf.exports;Yg=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(t){console.error(t)}}return o(),lf.exports=$1(),lf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xg;function eb(){if(Xg)return uo;Xg=1;var o=J1(),t=wf(),s=tb();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var n=e,i=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(i=n.return),e=n.return;while(e)}return n.tag===3?i:null}function f(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function d(e){if(u(e)!==e)throw Error(a(188))}function p(e){var n=e.alternate;if(!n){if(n=u(e),n===null)throw Error(a(188));return n!==e?null:e}for(var i=e,r=n;;){var c=i.return;if(c===null)break;var h=c.alternate;if(h===null){if(r=c.return,r!==null){i=r;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===i)return d(c),e;if(h===r)return d(c),n;h=h.sibling}throw Error(a(188))}if(i.return!==r.return)i=c,r=h;else{for(var g=!1,v=c.child;v;){if(v===i){g=!0,i=c,r=h;break}if(v===r){g=!0,r=c,i=h;break}v=v.sibling}if(!g){for(v=h.child;v;){if(v===i){g=!0,i=h,r=c;break}if(v===r){g=!0,r=h,i=c;break}v=v.sibling}if(!g)throw Error(a(189))}}if(i.alternate!==r)throw Error(a(190))}if(i.tag!==3)throw Error(a(188));return i.stateNode.current===i?e:n}function m(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=m(e),n!==null)return n;e=e.sibling}return null}var _=Object.assign,y=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),U=Symbol.for("react.consumer"),B=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),z=Symbol.for("react.activity"),G=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function X(e){return e===null||typeof e!="object"?null:(e=I&&e[I]||e["@@iterator"],typeof e=="function"?e:null)}var st=Symbol.for("react.client.reference");function nt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===st?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case S:return"Fragment";case E:return"Profiler";case w:return"StrictMode";case D:return"Suspense";case M:return"SuspenseList";case z:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case b:return"Portal";case B:return(e.displayName||"Context")+".Provider";case U:return(e._context.displayName||"Context")+".Consumer";case Q:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case k:return n=e.displayName||null,n!==null?n:nt(e.type)||"Memo";case T:n=e._payload,e=e._init;try{return nt(e(n))}catch{}}return null}var ot=Array.isArray,R=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt={pending:!1,data:null,method:null,action:null},at=[],A=-1;function L(e){return{current:e}}function J(e){0>A||(e.current=at[A],at[A]=null,A--)}function et(e,n){A++,at[A]=e.current,e.current=n}var ht=L(null),lt=L(null),ct=L(null),Nt=L(null);function rt(e,n){switch(et(ct,n),et(lt,e),et(ht,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?hg(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=hg(n),e=fg(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}J(ht),et(ht,e)}function ie(){J(ht),J(lt),J(ct)}function Me(e){e.memoizedState!==null&&et(Nt,e);var n=ht.current,i=fg(n,e.type);n!==i&&(et(lt,e),et(ht,i))}function Se(e){lt.current===e&&(J(ht),J(lt)),Nt.current===e&&(J(Nt),io._currentValue=tt)}var Re=Object.prototype.hasOwnProperty,jn=o.unstable_scheduleCallback,Pn=o.unstable_cancelCallback,ut=o.unstable_shouldYield,yt=o.unstable_requestPaint,kt=o.unstable_now,Ut=o.unstable_getCurrentPriorityLevel,Ct=o.unstable_ImmediatePriority,Bt=o.unstable_UserBlockingPriority,ce=o.unstable_NormalPriority,Tn=o.unstable_LowPriority,Kn=o.unstable_IdlePriority,yi=o.log,fr=o.unstable_setDisableYieldValue,cs=null,Ie=null;function Jn(e){if(typeof yi=="function"&&fr(e),Ie&&typeof Ie.setStrictMode=="function")try{Ie.setStrictMode(cs,e)}catch{}}var Ye=Math.clz32?Math.clz32:Ic,Gc=Math.log,Hc=Math.LN2;function Ic(e){return e>>>=0,e===0?32:31-(Gc(e)/Hc|0)|0}var vi=256,bi=4194304;function Un(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Zo(e,n,i){var r=e.pendingLanes;if(r===0)return 0;var c=0,h=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var v=r&134217727;return v!==0?(r=v&~h,r!==0?c=Un(r):(g&=v,g!==0?c=Un(g):i||(i=v&~e,i!==0&&(c=Un(i))))):(v=r&~h,v!==0?c=Un(v):g!==0?c=Un(g):i||(i=r&~e,i!==0&&(c=Un(i)))),c===0?0:n!==0&&n!==c&&(n&h)===0&&(h=c&-c,i=n&-n,h>=i||h===32&&(i&4194048)!==0)?n:c}function dr(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function zv(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zd(){var e=vi;return vi<<=1,(vi&4194048)===0&&(vi=256),e}function Wd(){var e=bi;return bi<<=1,(bi&62914560)===0&&(bi=4194304),e}function Yc(e){for(var n=[],i=0;31>i;i++)n.push(e);return n}function pr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Vv(e,n,i,r,c,h){var g=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var v=e.entanglements,C=e.expirationTimes,j=e.hiddenUpdates;for(i=g&~i;0<i;){var Z=31-Ye(i),K=1<<Z;v[Z]=0,C[Z]=-1;var F=j[Z];if(F!==null)for(j[Z]=null,Z=0;Z<F.length;Z++){var H=F[Z];H!==null&&(H.lane&=-536870913)}i&=~K}r!==0&&Pd(e,r,0),h!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=h&~(g&~n))}function Pd(e,n,i){e.pendingLanes|=n,e.suspendedLanes&=~n;var r=31-Ye(n);e.entangledLanes|=n,e.entanglements[r]=e.entanglements[r]|1073741824|i&4194090}function Kd(e,n){var i=e.entangledLanes|=n;for(e=e.entanglements;i;){var r=31-Ye(i),c=1<<r;c&n|e[r]&n&&(e[r]|=n),i&=~c}}function Xc(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Qc(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Jd(){var e=Y.p;return e!==0?e:(e=window.event,e===void 0?32:Rg(e.type))}function jv(e,n){var i=Y.p;try{return Y.p=e,n()}finally{Y.p=i}}var zs=Math.random().toString(36).slice(2),Le="__reactFiber$"+zs,tn="__reactProps$"+zs,Ki="__reactContainer$"+zs,Zc="__reactEvents$"+zs,Uv="__reactListeners$"+zs,Bv="__reactHandles$"+zs,$d="__reactResources$"+zs,mr="__reactMarker$"+zs;function Wc(e){delete e[Le],delete e[tn],delete e[Zc],delete e[Uv],delete e[Bv]}function Ji(e){var n=e[Le];if(n)return n;for(var i=e.parentNode;i;){if(n=i[Ki]||i[Le]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(e=_g(e);e!==null;){if(i=e[Le])return i;e=_g(e)}return n}e=i,i=e.parentNode}return null}function $i(e){if(e=e[Le]||e[Ki]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function _r(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function ta(e){var n=e[$d];return n||(n=e[$d]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Te(e){e[mr]=!0}var tp=new Set,ep={};function xi(e,n){ea(e,n),ea(e+"Capture",n)}function ea(e,n){for(ep[e]=n,e=0;e<n.length;e++)tp.add(n[e])}var Lv=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),np={},sp={};function Fv(e){return Re.call(sp,e)?!0:Re.call(np,e)?!1:Lv.test(e)?sp[e]=!0:(np[e]=!0,!1)}function Wo(e,n,i){if(Fv(n))if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var r=n.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+i)}}function Po(e,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+i)}}function us(e,n,i,r){if(r===null)e.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(n,i,""+r)}}var Pc,ip;function na(e){if(Pc===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);Pc=n&&n[1]||"",ip=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Pc+e+ip}var Kc=!1;function Jc(e,n){if(!e||Kc)return"";Kc=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(H){var F=H}Reflect.construct(e,[],K)}else{try{K.call()}catch(H){F=H}e.call(K.prototype)}}else{try{throw Error()}catch(H){F=H}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(H){if(H&&F&&typeof H.stack=="string")return[H.stack,F.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=r.DetermineComponentFrameRoot(),g=h[0],v=h[1];if(g&&v){var C=g.split(`
`),j=v.split(`
`);for(c=r=0;r<C.length&&!C[r].includes("DetermineComponentFrameRoot");)r++;for(;c<j.length&&!j[c].includes("DetermineComponentFrameRoot");)c++;if(r===C.length||c===j.length)for(r=C.length-1,c=j.length-1;1<=r&&0<=c&&C[r]!==j[c];)c--;for(;1<=r&&0<=c;r--,c--)if(C[r]!==j[c]){if(r!==1||c!==1)do if(r--,c--,0>c||C[r]!==j[c]){var Z=`
`+C[r].replace(" at new "," at ");return e.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",e.displayName)),Z}while(1<=r&&0<=c);break}}}finally{Kc=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?na(i):""}function Gv(e){switch(e.tag){case 26:case 27:case 5:return na(e.type);case 16:return na("Lazy");case 13:return na("Suspense");case 19:return na("SuspenseList");case 0:case 15:return Jc(e.type,!1);case 11:return Jc(e.type.render,!1);case 1:return Jc(e.type,!0);case 31:return na("Activity");default:return""}}function ap(e){try{var n="";do n+=Gv(e),e=e.return;while(e);return n}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}function wn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function rp(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Hv(e){var n=rp(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),r=""+e[n];if(!e.hasOwnProperty(n)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var c=i.get,h=i.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){r=""+g,h.call(this,g)}}),Object.defineProperty(e,n,{enumerable:i.enumerable}),{getValue:function(){return r},setValue:function(g){r=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ko(e){e._valueTracker||(e._valueTracker=Hv(e))}function op(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var i=n.getValue(),r="";return e&&(r=rp(e)?e.checked?"true":"false":e.value),e=r,e!==i?(n.setValue(e),!0):!1}function Jo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Iv=/[\n"\\]/g;function An(e){return e.replace(Iv,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function $c(e,n,i,r,c,h,g,v){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+wn(n)):e.value!==""+wn(n)&&(e.value=""+wn(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?tu(e,g,wn(n)):i!=null?tu(e,g,wn(i)):r!=null&&e.removeAttribute("value"),c==null&&h!=null&&(e.defaultChecked=!!h),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+wn(v):e.removeAttribute("name")}function lp(e,n,i,r,c,h,g,v){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),n!=null||i!=null){if(!(h!=="submit"&&h!=="reset"||n!=null))return;i=i!=null?""+wn(i):"",n=n!=null?""+wn(n):i,v||n===e.value||(e.value=n),e.defaultValue=n}r=r??c,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=v?e.checked:!!r,e.defaultChecked=!!r,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g)}function tu(e,n,i){n==="number"&&Jo(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function sa(e,n,i,r){if(e=e.options,n){n={};for(var c=0;c<i.length;c++)n["$"+i[c]]=!0;for(i=0;i<e.length;i++)c=n.hasOwnProperty("$"+e[i].value),e[i].selected!==c&&(e[i].selected=c),c&&r&&(e[i].defaultSelected=!0)}else{for(i=""+wn(i),n=null,c=0;c<e.length;c++){if(e[c].value===i){e[c].selected=!0,r&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function cp(e,n,i){if(n!=null&&(n=""+wn(n),n!==e.value&&(e.value=n),i==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=i!=null?""+wn(i):""}function up(e,n,i,r){if(n==null){if(r!=null){if(i!=null)throw Error(a(92));if(ot(r)){if(1<r.length)throw Error(a(93));r=r[0]}i=r}i==null&&(i=""),n=i}i=wn(n),e.defaultValue=i,r=e.textContent,r===i&&r!==""&&r!==null&&(e.value=r)}function ia(e,n){if(n){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=n;return}}e.textContent=n}var Yv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function hp(e,n,i){var r=n.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?r?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":r?e.setProperty(n,i):typeof i!="number"||i===0||Yv.has(n)?n==="float"?e.cssFloat=i:e[n]=(""+i).trim():e[n]=i+"px"}function fp(e,n,i){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,i!=null){for(var r in i)!i.hasOwnProperty(r)||n!=null&&n.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var c in n)r=n[c],n.hasOwnProperty(c)&&i[c]!==r&&hp(e,c,r)}else for(var h in n)n.hasOwnProperty(h)&&hp(e,h,n[h])}function eu(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Qv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $o(e){return Qv.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var nu=null;function su(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var aa=null,ra=null;function dp(e){var n=$i(e);if(n&&(e=n.stateNode)){var i=e[tn]||null;t:switch(e=n.stateNode,n.type){case"input":if($c(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),n=i.name,i.type==="radio"&&n!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+An(""+n)+'"][type="radio"]'),n=0;n<i.length;n++){var r=i[n];if(r!==e&&r.form===e.form){var c=r[tn]||null;if(!c)throw Error(a(90));$c(r,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<i.length;n++)r=i[n],r.form===e.form&&op(r)}break t;case"textarea":cp(e,i.value,i.defaultValue);break t;case"select":n=i.value,n!=null&&sa(e,!!i.multiple,n,!1)}}}var iu=!1;function pp(e,n,i){if(iu)return e(n,i);iu=!0;try{var r=e(n);return r}finally{if(iu=!1,(aa!==null||ra!==null)&&(Ul(),aa&&(n=aa,e=ra,ra=aa=null,dp(n),e)))for(n=0;n<e.length;n++)dp(e[n])}}function gr(e,n){var i=e.stateNode;if(i===null)return null;var r=i[tn]||null;if(r===null)return null;i=r[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break t;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(a(231,n,typeof i));return i}var hs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),au=!1;if(hs)try{var yr={};Object.defineProperty(yr,"passive",{get:function(){au=!0}}),window.addEventListener("test",yr,yr),window.removeEventListener("test",yr,yr)}catch{au=!1}var Vs=null,ru=null,tl=null;function mp(){if(tl)return tl;var e,n=ru,i=n.length,r,c="value"in Vs?Vs.value:Vs.textContent,h=c.length;for(e=0;e<i&&n[e]===c[e];e++);var g=i-e;for(r=1;r<=g&&n[i-r]===c[h-r];r++);return tl=c.slice(e,1<r?1-r:void 0)}function el(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function nl(){return!0}function _p(){return!1}function en(e){function n(i,r,c,h,g){this._reactName=i,this._targetInst=c,this.type=r,this.nativeEvent=h,this.target=g,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(i=e[v],this[v]=i?i(h):h[v]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?nl:_p,this.isPropagationStopped=_p,this}return _(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=nl)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=nl)},persist:function(){},isPersistent:nl}),n}var Si={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sl=en(Si),vr=_({},Si,{view:0,detail:0}),Zv=en(vr),ou,lu,br,il=_({},vr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:uu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==br&&(br&&e.type==="mousemove"?(ou=e.screenX-br.screenX,lu=e.screenY-br.screenY):lu=ou=0,br=e),ou)},movementY:function(e){return"movementY"in e?e.movementY:lu}}),gp=en(il),Wv=_({},il,{dataTransfer:0}),Pv=en(Wv),Kv=_({},vr,{relatedTarget:0}),cu=en(Kv),Jv=_({},Si,{animationName:0,elapsedTime:0,pseudoElement:0}),$v=en(Jv),t0=_({},Si,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),e0=en(t0),n0=_({},Si,{data:0}),yp=en(n0),s0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},i0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},a0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function r0(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=a0[e])?!!n[e]:!1}function uu(){return r0}var o0=_({},vr,{key:function(e){if(e.key){var n=s0[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=el(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?i0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:uu,charCode:function(e){return e.type==="keypress"?el(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?el(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),l0=en(o0),c0=_({},il,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vp=en(c0),u0=_({},vr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:uu}),h0=en(u0),f0=_({},Si,{propertyName:0,elapsedTime:0,pseudoElement:0}),d0=en(f0),p0=_({},il,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),m0=en(p0),_0=_({},Si,{newState:0,oldState:0}),g0=en(_0),y0=[9,13,27,32],hu=hs&&"CompositionEvent"in window,xr=null;hs&&"documentMode"in document&&(xr=document.documentMode);var v0=hs&&"TextEvent"in window&&!xr,bp=hs&&(!hu||xr&&8<xr&&11>=xr),xp=" ",Sp=!1;function Tp(e,n){switch(e){case"keyup":return y0.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var oa=!1;function b0(e,n){switch(e){case"compositionend":return wp(n);case"keypress":return n.which!==32?null:(Sp=!0,xp);case"textInput":return e=n.data,e===xp&&Sp?null:e;default:return null}}function x0(e,n){if(oa)return e==="compositionend"||!hu&&Tp(e,n)?(e=mp(),tl=ru=Vs=null,oa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return bp&&n.locale!=="ko"?null:n.data;default:return null}}var S0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ap(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!S0[e.type]:n==="textarea"}function Ep(e,n,i,r){aa?ra?ra.push(r):ra=[r]:aa=r,n=Il(n,"onChange"),0<n.length&&(i=new sl("onChange","change",null,i,r),e.push({event:i,listeners:n}))}var Sr=null,Tr=null;function T0(e){rg(e,0)}function al(e){var n=_r(e);if(op(n))return e}function Dp(e,n){if(e==="change")return n}var Cp=!1;if(hs){var fu;if(hs){var du="oninput"in document;if(!du){var Op=document.createElement("div");Op.setAttribute("oninput","return;"),du=typeof Op.oninput=="function"}fu=du}else fu=!1;Cp=fu&&(!document.documentMode||9<document.documentMode)}function Mp(){Sr&&(Sr.detachEvent("onpropertychange",Rp),Tr=Sr=null)}function Rp(e){if(e.propertyName==="value"&&al(Tr)){var n=[];Ep(n,Tr,e,su(e)),pp(T0,n)}}function w0(e,n,i){e==="focusin"?(Mp(),Sr=n,Tr=i,Sr.attachEvent("onpropertychange",Rp)):e==="focusout"&&Mp()}function A0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return al(Tr)}function E0(e,n){if(e==="click")return al(n)}function D0(e,n){if(e==="input"||e==="change")return al(n)}function C0(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var cn=typeof Object.is=="function"?Object.is:C0;function wr(e,n){if(cn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var i=Object.keys(e),r=Object.keys(n);if(i.length!==r.length)return!1;for(r=0;r<i.length;r++){var c=i[r];if(!Re.call(n,c)||!cn(e[c],n[c]))return!1}return!0}function Np(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function kp(e,n){var i=Np(e);e=0;for(var r;i;){if(i.nodeType===3){if(r=e+i.textContent.length,e<=n&&r>=n)return{node:i,offset:n-e};e=r}t:{for(;i;){if(i.nextSibling){i=i.nextSibling;break t}i=i.parentNode}i=void 0}i=Np(i)}}function qp(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?qp(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function zp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Jo(e.document);n instanceof e.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)e=n.contentWindow;else break;n=Jo(e.document)}return n}function pu(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var O0=hs&&"documentMode"in document&&11>=document.documentMode,la=null,mu=null,Ar=null,_u=!1;function Vp(e,n,i){var r=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;_u||la==null||la!==Jo(r)||(r=la,"selectionStart"in r&&pu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ar&&wr(Ar,r)||(Ar=r,r=Il(mu,"onSelect"),0<r.length&&(n=new sl("onSelect","select",null,n,i),e.push({event:n,listeners:r}),n.target=la)))}function Ti(e,n){var i={};return i[e.toLowerCase()]=n.toLowerCase(),i["Webkit"+e]="webkit"+n,i["Moz"+e]="moz"+n,i}var ca={animationend:Ti("Animation","AnimationEnd"),animationiteration:Ti("Animation","AnimationIteration"),animationstart:Ti("Animation","AnimationStart"),transitionrun:Ti("Transition","TransitionRun"),transitionstart:Ti("Transition","TransitionStart"),transitioncancel:Ti("Transition","TransitionCancel"),transitionend:Ti("Transition","TransitionEnd")},gu={},jp={};hs&&(jp=document.createElement("div").style,"AnimationEvent"in window||(delete ca.animationend.animation,delete ca.animationiteration.animation,delete ca.animationstart.animation),"TransitionEvent"in window||delete ca.transitionend.transition);function wi(e){if(gu[e])return gu[e];if(!ca[e])return e;var n=ca[e],i;for(i in n)if(n.hasOwnProperty(i)&&i in jp)return gu[e]=n[i];return e}var Up=wi("animationend"),Bp=wi("animationiteration"),Lp=wi("animationstart"),M0=wi("transitionrun"),R0=wi("transitionstart"),N0=wi("transitioncancel"),Fp=wi("transitionend"),Gp=new Map,yu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yu.push("scrollEnd");function Bn(e,n){Gp.set(e,n),xi(n,[e])}var Hp=new WeakMap;function En(e,n){if(typeof e=="object"&&e!==null){var i=Hp.get(e);return i!==void 0?i:(n={value:e,source:n,stack:ap(n)},Hp.set(e,n),n)}return{value:e,source:n,stack:ap(n)}}var Dn=[],ua=0,vu=0;function rl(){for(var e=ua,n=vu=ua=0;n<e;){var i=Dn[n];Dn[n++]=null;var r=Dn[n];Dn[n++]=null;var c=Dn[n];Dn[n++]=null;var h=Dn[n];if(Dn[n++]=null,r!==null&&c!==null){var g=r.pending;g===null?c.next=c:(c.next=g.next,g.next=c),r.pending=c}h!==0&&Ip(i,c,h)}}function ol(e,n,i,r){Dn[ua++]=e,Dn[ua++]=n,Dn[ua++]=i,Dn[ua++]=r,vu|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function bu(e,n,i,r){return ol(e,n,i,r),ll(e)}function ha(e,n){return ol(e,null,null,n),ll(e)}function Ip(e,n,i){e.lanes|=i;var r=e.alternate;r!==null&&(r.lanes|=i);for(var c=!1,h=e.return;h!==null;)h.childLanes|=i,r=h.alternate,r!==null&&(r.childLanes|=i),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(c=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,c&&n!==null&&(c=31-Ye(i),e=h.hiddenUpdates,r=e[c],r===null?e[c]=[n]:r.push(n),n.lane=i|536870912),h):null}function ll(e){if(50<Pr)throw Pr=0,Eh=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var fa={};function k0(e,n,i,r){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(e,n,i,r){return new k0(e,n,i,r)}function xu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function fs(e,n){var i=e.alternate;return i===null?(i=un(e.tag,n,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=n,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,n=e.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function Yp(e,n){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,n=i.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function cl(e,n,i,r,c,h){var g=0;if(r=e,typeof e=="function")xu(e)&&(g=1);else if(typeof e=="string")g=z1(e,i,ht.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case z:return e=un(31,i,n,c),e.elementType=z,e.lanes=h,e;case S:return Ai(i.children,c,h,n);case w:g=8,c|=24;break;case E:return e=un(12,i,n,c|2),e.elementType=E,e.lanes=h,e;case D:return e=un(13,i,n,c),e.elementType=D,e.lanes=h,e;case M:return e=un(19,i,n,c),e.elementType=M,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case O:case B:g=10;break t;case U:g=9;break t;case Q:g=11;break t;case k:g=14;break t;case T:g=16,r=null;break t}g=29,i=Error(a(130,e===null?"null":typeof e,"")),r=null}return n=un(g,i,n,c),n.elementType=e,n.type=r,n.lanes=h,n}function Ai(e,n,i,r){return e=un(7,e,r,n),e.lanes=i,e}function Su(e,n,i){return e=un(6,e,null,n),e.lanes=i,e}function Tu(e,n,i){return n=un(4,e.children!==null?e.children:[],e.key,n),n.lanes=i,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var da=[],pa=0,ul=null,hl=0,Cn=[],On=0,Ei=null,ds=1,ps="";function Di(e,n){da[pa++]=hl,da[pa++]=ul,ul=e,hl=n}function Xp(e,n,i){Cn[On++]=ds,Cn[On++]=ps,Cn[On++]=Ei,Ei=e;var r=ds;e=ps;var c=32-Ye(r)-1;r&=~(1<<c),i+=1;var h=32-Ye(n)+c;if(30<h){var g=c-c%5;h=(r&(1<<g)-1).toString(32),r>>=g,c-=g,ds=1<<32-Ye(n)+c|i<<c|r,ps=h+e}else ds=1<<h|i<<c|r,ps=e}function wu(e){e.return!==null&&(Di(e,1),Xp(e,1,0))}function Au(e){for(;e===ul;)ul=da[--pa],da[pa]=null,hl=da[--pa],da[pa]=null;for(;e===Ei;)Ei=Cn[--On],Cn[On]=null,ps=Cn[--On],Cn[On]=null,ds=Cn[--On],Cn[On]=null}var Xe=null,ae=null,jt=!1,Ci=null,$n=!1,Eu=Error(a(519));function Oi(e){var n=Error(a(418,""));throw Cr(En(n,e)),Eu}function Qp(e){var n=e.stateNode,i=e.type,r=e.memoizedProps;switch(n[Le]=e,n[tn]=r,i){case"dialog":Rt("cancel",n),Rt("close",n);break;case"iframe":case"object":case"embed":Rt("load",n);break;case"video":case"audio":for(i=0;i<Jr.length;i++)Rt(Jr[i],n);break;case"source":Rt("error",n);break;case"img":case"image":case"link":Rt("error",n),Rt("load",n);break;case"details":Rt("toggle",n);break;case"input":Rt("invalid",n),lp(n,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),Ko(n);break;case"select":Rt("invalid",n);break;case"textarea":Rt("invalid",n),up(n,r.value,r.defaultValue,r.children),Ko(n)}i=r.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||n.textContent===""+i||r.suppressHydrationWarning===!0||ug(n.textContent,i)?(r.popover!=null&&(Rt("beforetoggle",n),Rt("toggle",n)),r.onScroll!=null&&Rt("scroll",n),r.onScrollEnd!=null&&Rt("scrollend",n),r.onClick!=null&&(n.onclick=Yl),n=!0):n=!1,n||Oi(e)}function Zp(e){for(Xe=e.return;Xe;)switch(Xe.tag){case 5:case 13:$n=!1;return;case 27:case 3:$n=!0;return;default:Xe=Xe.return}}function Er(e){if(e!==Xe)return!1;if(!jt)return Zp(e),jt=!0,!1;var n=e.tag,i;if((i=n!==3&&n!==27)&&((i=n===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||Gh(e.type,e.memoizedProps)),i=!i),i&&ae&&Oi(e),Zp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));t:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(i=e.data,i==="/$"){if(n===0){ae=Fn(e.nextSibling);break t}n--}else i!=="$"&&i!=="$!"&&i!=="$?"||n++;e=e.nextSibling}ae=null}}else n===27?(n=ae,Js(e.type)?(e=Xh,Xh=null,ae=e):ae=n):ae=Xe?Fn(e.stateNode.nextSibling):null;return!0}function Dr(){ae=Xe=null,jt=!1}function Wp(){var e=Ci;return e!==null&&(an===null?an=e:an.push.apply(an,e),Ci=null),e}function Cr(e){Ci===null?Ci=[e]:Ci.push(e)}var Du=L(null),Mi=null,ms=null;function js(e,n,i){et(Du,n._currentValue),n._currentValue=i}function _s(e){e._currentValue=Du.current,J(Du)}function Cu(e,n,i){for(;e!==null;){var r=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,r!==null&&(r.childLanes|=n)):r!==null&&(r.childLanes&n)!==n&&(r.childLanes|=n),e===i)break;e=e.return}}function Ou(e,n,i,r){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var h=c.dependencies;if(h!==null){var g=c.child;h=h.firstContext;t:for(;h!==null;){var v=h;h=c;for(var C=0;C<n.length;C++)if(v.context===n[C]){h.lanes|=i,v=h.alternate,v!==null&&(v.lanes|=i),Cu(h.return,i,e),r||(g=null);break t}h=v.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(a(341));g.lanes|=i,h=g.alternate,h!==null&&(h.lanes|=i),Cu(g,i,e),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===e){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function Or(e,n,i,r){e=null;for(var c=n,h=!1;c!==null;){if(!h){if((c.flags&524288)!==0)h=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var v=c.type;cn(c.pendingProps.value,g.value)||(e!==null?e.push(v):e=[v])}}else if(c===Nt.current){if(g=c.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(io):e=[io])}c=c.return}e!==null&&Ou(n,e,i,r),n.flags|=262144}function fl(e){for(e=e.firstContext;e!==null;){if(!cn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ri(e){Mi=e,ms=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Fe(e){return Pp(Mi,e)}function dl(e,n){return Mi===null&&Ri(e),Pp(e,n)}function Pp(e,n){var i=n._currentValue;if(n={context:n,memoizedValue:i,next:null},ms===null){if(e===null)throw Error(a(308));ms=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else ms=ms.next=n;return i}var q0=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(i,r){e.push(r)}};this.abort=function(){n.aborted=!0,e.forEach(function(i){return i()})}},z0=o.unstable_scheduleCallback,V0=o.unstable_NormalPriority,ge={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mu(){return{controller:new q0,data:new Map,refCount:0}}function Mr(e){e.refCount--,e.refCount===0&&z0(V0,function(){e.controller.abort()})}var Rr=null,Ru=0,ma=0,_a=null;function j0(e,n){if(Rr===null){var i=Rr=[];Ru=0,ma=kh(),_a={status:"pending",value:void 0,then:function(r){i.push(r)}}}return Ru++,n.then(Kp,Kp),n}function Kp(){if(--Ru===0&&Rr!==null){_a!==null&&(_a.status="fulfilled");var e=Rr;Rr=null,ma=0,_a=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function U0(e,n){var i=[],r={status:"pending",value:null,reason:null,then:function(c){i.push(c)}};return e.then(function(){r.status="fulfilled",r.value=n;for(var c=0;c<i.length;c++)(0,i[c])(n)},function(c){for(r.status="rejected",r.reason=c,c=0;c<i.length;c++)(0,i[c])(void 0)}),r}var Jp=R.S;R.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&j0(e,n),Jp!==null&&Jp(e,n)};var Ni=L(null);function Nu(){var e=Ni.current;return e!==null?e:Zt.pooledCache}function pl(e,n){n===null?et(Ni,Ni.current):et(Ni,n.pool)}function $p(){var e=Nu();return e===null?null:{parent:ge._currentValue,pool:e}}var Nr=Error(a(460)),tm=Error(a(474)),ml=Error(a(542)),ku={then:function(){}};function em(e){return e=e.status,e==="fulfilled"||e==="rejected"}function _l(){}function nm(e,n,i){switch(i=e[i],i===void 0?e.push(n):i!==n&&(n.then(_l,_l),n=i),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,im(e),e;default:if(typeof n.status=="string")n.then(_l,_l);else{if(e=Zt,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(r){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=r}},function(r){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=r}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,im(e),e}throw kr=n,Nr}}var kr=null;function sm(){if(kr===null)throw Error(a(459));var e=kr;return kr=null,e}function im(e){if(e===Nr||e===ml)throw Error(a(483))}var Us=!1;function qu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zu(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Bs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ls(e,n,i){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(Lt&2)!==0){var c=r.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),r.pending=n,n=ll(e),Ip(e,null,i),n}return ol(e,r,n,i),ll(e)}function qr(e,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194048)!==0)){var r=n.lanes;r&=e.pendingLanes,i|=r,n.lanes=i,Kd(e,i)}}function Vu(e,n){var i=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,i===r)){var c=null,h=null;if(i=i.firstBaseUpdate,i!==null){do{var g={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};h===null?c=h=g:h=h.next=g,i=i.next}while(i!==null);h===null?c=h=n:h=h.next=n}else c=h=n;i={baseState:r.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:r.shared,callbacks:r.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=n:e.next=n,i.lastBaseUpdate=n}var ju=!1;function zr(){if(ju){var e=_a;if(e!==null)throw e}}function Vr(e,n,i,r){ju=!1;var c=e.updateQueue;Us=!1;var h=c.firstBaseUpdate,g=c.lastBaseUpdate,v=c.shared.pending;if(v!==null){c.shared.pending=null;var C=v,j=C.next;C.next=null,g===null?h=j:g.next=j,g=C;var Z=e.alternate;Z!==null&&(Z=Z.updateQueue,v=Z.lastBaseUpdate,v!==g&&(v===null?Z.firstBaseUpdate=j:v.next=j,Z.lastBaseUpdate=C))}if(h!==null){var K=c.baseState;g=0,Z=j=C=null,v=h;do{var F=v.lane&-536870913,H=F!==v.lane;if(H?(qt&F)===F:(r&F)===F){F!==0&&F===ma&&(ju=!0),Z!==null&&(Z=Z.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});t:{var St=e,bt=v;F=n;var It=i;switch(bt.tag){case 1:if(St=bt.payload,typeof St=="function"){K=St.call(It,K,F);break t}K=St;break t;case 3:St.flags=St.flags&-65537|128;case 0:if(St=bt.payload,F=typeof St=="function"?St.call(It,K,F):St,F==null)break t;K=_({},K,F);break t;case 2:Us=!0}}F=v.callback,F!==null&&(e.flags|=64,H&&(e.flags|=8192),H=c.callbacks,H===null?c.callbacks=[F]:H.push(F))}else H={lane:F,tag:v.tag,payload:v.payload,callback:v.callback,next:null},Z===null?(j=Z=H,C=K):Z=Z.next=H,g|=F;if(v=v.next,v===null){if(v=c.shared.pending,v===null)break;H=v,v=H.next,H.next=null,c.lastBaseUpdate=H,c.shared.pending=null}}while(!0);Z===null&&(C=K),c.baseState=C,c.firstBaseUpdate=j,c.lastBaseUpdate=Z,h===null&&(c.shared.lanes=0),Zs|=g,e.lanes=g,e.memoizedState=K}}function am(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function rm(e,n){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)am(i[e],n)}var ga=L(null),gl=L(0);function om(e,n){e=Ts,et(gl,e),et(ga,n),Ts=e|n.baseLanes}function Uu(){et(gl,Ts),et(ga,ga.current)}function Bu(){Ts=gl.current,J(ga),J(gl)}var Fs=0,Et=null,Gt=null,pe=null,yl=!1,ya=!1,ki=!1,vl=0,jr=0,va=null,B0=0;function ue(){throw Error(a(321))}function Lu(e,n){if(n===null)return!1;for(var i=0;i<n.length&&i<e.length;i++)if(!cn(e[i],n[i]))return!1;return!0}function Fu(e,n,i,r,c,h){return Fs=h,Et=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,R.H=e===null||e.memoizedState===null?Im:Ym,ki=!1,h=i(r,c),ki=!1,ya&&(h=cm(n,i,r,c)),lm(e),h}function lm(e){R.H=Al;var n=Gt!==null&&Gt.next!==null;if(Fs=0,pe=Gt=Et=null,yl=!1,jr=0,va=null,n)throw Error(a(300));e===null||we||(e=e.dependencies,e!==null&&fl(e)&&(we=!0))}function cm(e,n,i,r){Et=e;var c=0;do{if(ya&&(va=null),jr=0,ya=!1,25<=c)throw Error(a(301));if(c+=1,pe=Gt=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}R.H=X0,h=n(i,r)}while(ya);return h}function L0(){var e=R.H,n=e.useState()[0];return n=typeof n.then=="function"?Ur(n):n,e=e.useState()[0],(Gt!==null?Gt.memoizedState:null)!==e&&(Et.flags|=1024),n}function Gu(){var e=vl!==0;return vl=0,e}function Hu(e,n,i){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~i}function Iu(e){if(yl){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}yl=!1}Fs=0,pe=Gt=Et=null,ya=!1,jr=vl=0,va=null}function nn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pe===null?Et.memoizedState=pe=e:pe=pe.next=e,pe}function me(){if(Gt===null){var e=Et.alternate;e=e!==null?e.memoizedState:null}else e=Gt.next;var n=pe===null?Et.memoizedState:pe.next;if(n!==null)pe=n,Gt=e;else{if(e===null)throw Et.alternate===null?Error(a(467)):Error(a(310));Gt=e,e={memoizedState:Gt.memoizedState,baseState:Gt.baseState,baseQueue:Gt.baseQueue,queue:Gt.queue,next:null},pe===null?Et.memoizedState=pe=e:pe=pe.next=e}return pe}function Yu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ur(e){var n=jr;return jr+=1,va===null&&(va=[]),e=nm(va,e,n),n=Et,(pe===null?n.memoizedState:pe.next)===null&&(n=n.alternate,R.H=n===null||n.memoizedState===null?Im:Ym),e}function bl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ur(e);if(e.$$typeof===B)return Fe(e)}throw Error(a(438,String(e)))}function Xu(e){var n=null,i=Et.updateQueue;if(i!==null&&(n=i.memoCache),n==null){var r=Et.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(n={data:r.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),i===null&&(i=Yu(),Et.updateQueue=i),i.memoCache=n,i=n.data[n.index],i===void 0)for(i=n.data[n.index]=Array(e),r=0;r<e;r++)i[r]=G;return n.index++,i}function gs(e,n){return typeof n=="function"?n(e):n}function xl(e){var n=me();return Qu(n,Gt,e)}function Qu(e,n,i){var r=e.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=i;var c=e.baseQueue,h=r.pending;if(h!==null){if(c!==null){var g=c.next;c.next=h.next,h.next=g}n.baseQueue=c=h,r.pending=null}if(h=e.baseState,c===null)e.memoizedState=h;else{n=c.next;var v=g=null,C=null,j=n,Z=!1;do{var K=j.lane&-536870913;if(K!==j.lane?(qt&K)===K:(Fs&K)===K){var F=j.revertLane;if(F===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),K===ma&&(Z=!0);else if((Fs&F)===F){j=j.next,F===ma&&(Z=!0);continue}else K={lane:0,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(v=C=K,g=h):C=C.next=K,Et.lanes|=F,Zs|=F;K=j.action,ki&&i(h,K),h=j.hasEagerState?j.eagerState:i(h,K)}else F={lane:K,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(v=C=F,g=h):C=C.next=F,Et.lanes|=K,Zs|=K;j=j.next}while(j!==null&&j!==n);if(C===null?g=h:C.next=v,!cn(h,e.memoizedState)&&(we=!0,Z&&(i=_a,i!==null)))throw i;e.memoizedState=h,e.baseState=g,e.baseQueue=C,r.lastRenderedState=h}return c===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Zu(e){var n=me(),i=n.queue;if(i===null)throw Error(a(311));i.lastRenderedReducer=e;var r=i.dispatch,c=i.pending,h=n.memoizedState;if(c!==null){i.pending=null;var g=c=c.next;do h=e(h,g.action),g=g.next;while(g!==c);cn(h,n.memoizedState)||(we=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),i.lastRenderedState=h}return[h,r]}function um(e,n,i){var r=Et,c=me(),h=jt;if(h){if(i===void 0)throw Error(a(407));i=i()}else i=n();var g=!cn((Gt||c).memoizedState,i);g&&(c.memoizedState=i,we=!0),c=c.queue;var v=dm.bind(null,r,c,e);if(Br(2048,8,v,[e]),c.getSnapshot!==n||g||pe!==null&&pe.memoizedState.tag&1){if(r.flags|=2048,ba(9,Sl(),fm.bind(null,r,c,i,n),null),Zt===null)throw Error(a(349));h||(Fs&124)!==0||hm(r,n,i)}return i}function hm(e,n,i){e.flags|=16384,e={getSnapshot:n,value:i},n=Et.updateQueue,n===null?(n=Yu(),Et.updateQueue=n,n.stores=[e]):(i=n.stores,i===null?n.stores=[e]:i.push(e))}function fm(e,n,i,r){n.value=i,n.getSnapshot=r,pm(n)&&mm(e)}function dm(e,n,i){return i(function(){pm(n)&&mm(e)})}function pm(e){var n=e.getSnapshot;e=e.value;try{var i=n();return!cn(e,i)}catch{return!0}}function mm(e){var n=ha(e,2);n!==null&&mn(n,e,2)}function Wu(e){var n=nn();if(typeof e=="function"){var i=e;if(e=i(),ki){Jn(!0);try{i()}finally{Jn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:e},n}function _m(e,n,i,r){return e.baseState=i,Qu(e,Gt,typeof r=="function"?r:gs)}function F0(e,n,i,r,c){if(wl(e))throw Error(a(485));if(e=n.action,e!==null){var h={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){h.listeners.push(g)}};R.T!==null?i(!0):h.isTransition=!1,r(h),i=n.pending,i===null?(h.next=n.pending=h,gm(n,h)):(h.next=i.next,n.pending=i.next=h)}}function gm(e,n){var i=n.action,r=n.payload,c=e.state;if(n.isTransition){var h=R.T,g={};R.T=g;try{var v=i(c,r),C=R.S;C!==null&&C(g,v),ym(e,n,v)}catch(j){Pu(e,n,j)}finally{R.T=h}}else try{h=i(c,r),ym(e,n,h)}catch(j){Pu(e,n,j)}}function ym(e,n,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(r){vm(e,n,r)},function(r){return Pu(e,n,r)}):vm(e,n,i)}function vm(e,n,i){n.status="fulfilled",n.value=i,bm(n),e.state=i,n=e.pending,n!==null&&(i=n.next,i===n?e.pending=null:(i=i.next,n.next=i,gm(e,i)))}function Pu(e,n,i){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do n.status="rejected",n.reason=i,bm(n),n=n.next;while(n!==r)}e.action=null}function bm(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function xm(e,n){return n}function Sm(e,n){if(jt){var i=Zt.formState;if(i!==null){t:{var r=Et;if(jt){if(ae){e:{for(var c=ae,h=$n;c.nodeType!==8;){if(!h){c=null;break e}if(c=Fn(c.nextSibling),c===null){c=null;break e}}h=c.data,c=h==="F!"||h==="F"?c:null}if(c){ae=Fn(c.nextSibling),r=c.data==="F!";break t}}Oi(r)}r=!1}r&&(n=i[0])}}return i=nn(),i.memoizedState=i.baseState=n,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xm,lastRenderedState:n},i.queue=r,i=Fm.bind(null,Et,r),r.dispatch=i,r=Wu(!1),h=eh.bind(null,Et,!1,r.queue),r=nn(),c={state:n,dispatch:null,action:e,pending:null},r.queue=c,i=F0.bind(null,Et,c,h,i),c.dispatch=i,r.memoizedState=e,[n,i,!1]}function Tm(e){var n=me();return wm(n,Gt,e)}function wm(e,n,i){if(n=Qu(e,n,xm)[0],e=xl(gs)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var r=Ur(n)}catch(g){throw g===Nr?ml:g}else r=n;n=me();var c=n.queue,h=c.dispatch;return i!==n.memoizedState&&(Et.flags|=2048,ba(9,Sl(),G0.bind(null,c,i),null)),[r,h,e]}function G0(e,n){e.action=n}function Am(e){var n=me(),i=Gt;if(i!==null)return wm(n,i,e);me(),n=n.memoizedState,i=me();var r=i.queue.dispatch;return i.memoizedState=e,[n,r,!1]}function ba(e,n,i,r){return e={tag:e,create:i,deps:r,inst:n,next:null},n=Et.updateQueue,n===null&&(n=Yu(),Et.updateQueue=n),i=n.lastEffect,i===null?n.lastEffect=e.next=e:(r=i.next,i.next=e,e.next=r,n.lastEffect=e),e}function Sl(){return{destroy:void 0,resource:void 0}}function Em(){return me().memoizedState}function Tl(e,n,i,r){var c=nn();r=r===void 0?null:r,Et.flags|=e,c.memoizedState=ba(1|n,Sl(),i,r)}function Br(e,n,i,r){var c=me();r=r===void 0?null:r;var h=c.memoizedState.inst;Gt!==null&&r!==null&&Lu(r,Gt.memoizedState.deps)?c.memoizedState=ba(n,h,i,r):(Et.flags|=e,c.memoizedState=ba(1|n,h,i,r))}function Dm(e,n){Tl(8390656,8,e,n)}function Cm(e,n){Br(2048,8,e,n)}function Om(e,n){return Br(4,2,e,n)}function Mm(e,n){return Br(4,4,e,n)}function Rm(e,n){if(typeof n=="function"){e=e();var i=n(e);return function(){typeof i=="function"?i():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Nm(e,n,i){i=i!=null?i.concat([e]):null,Br(4,4,Rm.bind(null,n,e),i)}function Ku(){}function km(e,n){var i=me();n=n===void 0?null:n;var r=i.memoizedState;return n!==null&&Lu(n,r[1])?r[0]:(i.memoizedState=[e,n],e)}function qm(e,n){var i=me();n=n===void 0?null:n;var r=i.memoizedState;if(n!==null&&Lu(n,r[1]))return r[0];if(r=e(),ki){Jn(!0);try{e()}finally{Jn(!1)}}return i.memoizedState=[r,n],r}function Ju(e,n,i){return i===void 0||(Fs&1073741824)!==0?e.memoizedState=n:(e.memoizedState=i,e=j_(),Et.lanes|=e,Zs|=e,i)}function zm(e,n,i,r){return cn(i,n)?i:ga.current!==null?(e=Ju(e,i,r),cn(e,n)||(we=!0),e):(Fs&42)===0?(we=!0,e.memoizedState=i):(e=j_(),Et.lanes|=e,Zs|=e,n)}function Vm(e,n,i,r,c){var h=Y.p;Y.p=h!==0&&8>h?h:8;var g=R.T,v={};R.T=v,eh(e,!1,n,i);try{var C=c(),j=R.S;if(j!==null&&j(v,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Z=U0(C,r);Lr(e,n,Z,pn(e))}else Lr(e,n,r,pn(e))}catch(K){Lr(e,n,{then:function(){},status:"rejected",reason:K},pn())}finally{Y.p=h,R.T=g}}function H0(){}function $u(e,n,i,r){if(e.tag!==5)throw Error(a(476));var c=jm(e).queue;Vm(e,c,n,tt,i===null?H0:function(){return Um(e),i(r)})}function jm(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:tt,baseState:tt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:tt},next:null};var i={};return n.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:i},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Um(e){var n=jm(e).next.queue;Lr(e,n,{},pn())}function th(){return Fe(io)}function Bm(){return me().memoizedState}function Lm(){return me().memoizedState}function I0(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var i=pn();e=Bs(i);var r=Ls(n,e,i);r!==null&&(mn(r,n,i),qr(r,n,i)),n={cache:Mu()},e.payload=n;return}n=n.return}}function Y0(e,n,i){var r=pn();i={lane:r,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null},wl(e)?Gm(n,i):(i=bu(e,n,i,r),i!==null&&(mn(i,e,r),Hm(i,n,r)))}function Fm(e,n,i){var r=pn();Lr(e,n,i,r)}function Lr(e,n,i,r){var c={lane:r,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null};if(wl(e))Gm(n,c);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var g=n.lastRenderedState,v=h(g,i);if(c.hasEagerState=!0,c.eagerState=v,cn(v,g))return ol(e,n,c,0),Zt===null&&rl(),!1}catch{}finally{}if(i=bu(e,n,c,r),i!==null)return mn(i,e,r),Hm(i,n,r),!0}return!1}function eh(e,n,i,r){if(r={lane:2,revertLane:kh(),action:r,hasEagerState:!1,eagerState:null,next:null},wl(e)){if(n)throw Error(a(479))}else n=bu(e,i,r,2),n!==null&&mn(n,e,2)}function wl(e){var n=e.alternate;return e===Et||n!==null&&n===Et}function Gm(e,n){ya=yl=!0;var i=e.pending;i===null?n.next=n:(n.next=i.next,i.next=n),e.pending=n}function Hm(e,n,i){if((i&4194048)!==0){var r=n.lanes;r&=e.pendingLanes,i|=r,n.lanes=i,Kd(e,i)}}var Al={readContext:Fe,use:bl,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue},Im={readContext:Fe,use:bl,useCallback:function(e,n){return nn().memoizedState=[e,n===void 0?null:n],e},useContext:Fe,useEffect:Dm,useImperativeHandle:function(e,n,i){i=i!=null?i.concat([e]):null,Tl(4194308,4,Rm.bind(null,n,e),i)},useLayoutEffect:function(e,n){return Tl(4194308,4,e,n)},useInsertionEffect:function(e,n){Tl(4,2,e,n)},useMemo:function(e,n){var i=nn();n=n===void 0?null:n;var r=e();if(ki){Jn(!0);try{e()}finally{Jn(!1)}}return i.memoizedState=[r,n],r},useReducer:function(e,n,i){var r=nn();if(i!==void 0){var c=i(n);if(ki){Jn(!0);try{i(n)}finally{Jn(!1)}}}else c=n;return r.memoizedState=r.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},r.queue=e,e=e.dispatch=Y0.bind(null,Et,e),[r.memoizedState,e]},useRef:function(e){var n=nn();return e={current:e},n.memoizedState=e},useState:function(e){e=Wu(e);var n=e.queue,i=Fm.bind(null,Et,n);return n.dispatch=i,[e.memoizedState,i]},useDebugValue:Ku,useDeferredValue:function(e,n){var i=nn();return Ju(i,e,n)},useTransition:function(){var e=Wu(!1);return e=Vm.bind(null,Et,e.queue,!0,!1),nn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,i){var r=Et,c=nn();if(jt){if(i===void 0)throw Error(a(407));i=i()}else{if(i=n(),Zt===null)throw Error(a(349));(qt&124)!==0||hm(r,n,i)}c.memoizedState=i;var h={value:i,getSnapshot:n};return c.queue=h,Dm(dm.bind(null,r,h,e),[e]),r.flags|=2048,ba(9,Sl(),fm.bind(null,r,h,i,n),null),i},useId:function(){var e=nn(),n=Zt.identifierPrefix;if(jt){var i=ps,r=ds;i=(r&~(1<<32-Ye(r)-1)).toString(32)+i,n="«"+n+"R"+i,i=vl++,0<i&&(n+="H"+i.toString(32)),n+="»"}else i=B0++,n="«"+n+"r"+i.toString(32)+"»";return e.memoizedState=n},useHostTransitionStatus:th,useFormState:Sm,useActionState:Sm,useOptimistic:function(e){var n=nn();n.memoizedState=n.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=i,n=eh.bind(null,Et,!0,i),i.dispatch=n,[e,n]},useMemoCache:Xu,useCacheRefresh:function(){return nn().memoizedState=I0.bind(null,Et)}},Ym={readContext:Fe,use:bl,useCallback:km,useContext:Fe,useEffect:Cm,useImperativeHandle:Nm,useInsertionEffect:Om,useLayoutEffect:Mm,useMemo:qm,useReducer:xl,useRef:Em,useState:function(){return xl(gs)},useDebugValue:Ku,useDeferredValue:function(e,n){var i=me();return zm(i,Gt.memoizedState,e,n)},useTransition:function(){var e=xl(gs)[0],n=me().memoizedState;return[typeof e=="boolean"?e:Ur(e),n]},useSyncExternalStore:um,useId:Bm,useHostTransitionStatus:th,useFormState:Tm,useActionState:Tm,useOptimistic:function(e,n){var i=me();return _m(i,Gt,e,n)},useMemoCache:Xu,useCacheRefresh:Lm},X0={readContext:Fe,use:bl,useCallback:km,useContext:Fe,useEffect:Cm,useImperativeHandle:Nm,useInsertionEffect:Om,useLayoutEffect:Mm,useMemo:qm,useReducer:Zu,useRef:Em,useState:function(){return Zu(gs)},useDebugValue:Ku,useDeferredValue:function(e,n){var i=me();return Gt===null?Ju(i,e,n):zm(i,Gt.memoizedState,e,n)},useTransition:function(){var e=Zu(gs)[0],n=me().memoizedState;return[typeof e=="boolean"?e:Ur(e),n]},useSyncExternalStore:um,useId:Bm,useHostTransitionStatus:th,useFormState:Am,useActionState:Am,useOptimistic:function(e,n){var i=me();return Gt!==null?_m(i,Gt,e,n):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:Xu,useCacheRefresh:Lm},xa=null,Fr=0;function El(e){var n=Fr;return Fr+=1,xa===null&&(xa=[]),nm(xa,e,n)}function Gr(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Dl(e,n){throw n.$$typeof===y?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Xm(e){var n=e._init;return n(e._payload)}function Qm(e){function n(q,N){if(e){var V=q.deletions;V===null?(q.deletions=[N],q.flags|=16):V.push(N)}}function i(q,N){if(!e)return null;for(;N!==null;)n(q,N),N=N.sibling;return null}function r(q){for(var N=new Map;q!==null;)q.key!==null?N.set(q.key,q):N.set(q.index,q),q=q.sibling;return N}function c(q,N){return q=fs(q,N),q.index=0,q.sibling=null,q}function h(q,N,V){return q.index=V,e?(V=q.alternate,V!==null?(V=V.index,V<N?(q.flags|=67108866,N):V):(q.flags|=67108866,N)):(q.flags|=1048576,N)}function g(q){return e&&q.alternate===null&&(q.flags|=67108866),q}function v(q,N,V,P){return N===null||N.tag!==6?(N=Su(V,q.mode,P),N.return=q,N):(N=c(N,V),N.return=q,N)}function C(q,N,V,P){var ft=V.type;return ft===S?Z(q,N,V.props.children,P,V.key):N!==null&&(N.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===T&&Xm(ft)===N.type)?(N=c(N,V.props),Gr(N,V),N.return=q,N):(N=cl(V.type,V.key,V.props,null,q.mode,P),Gr(N,V),N.return=q,N)}function j(q,N,V,P){return N===null||N.tag!==4||N.stateNode.containerInfo!==V.containerInfo||N.stateNode.implementation!==V.implementation?(N=Tu(V,q.mode,P),N.return=q,N):(N=c(N,V.children||[]),N.return=q,N)}function Z(q,N,V,P,ft){return N===null||N.tag!==7?(N=Ai(V,q.mode,P,ft),N.return=q,N):(N=c(N,V),N.return=q,N)}function K(q,N,V){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Su(""+N,q.mode,V),N.return=q,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case x:return V=cl(N.type,N.key,N.props,null,q.mode,V),Gr(V,N),V.return=q,V;case b:return N=Tu(N,q.mode,V),N.return=q,N;case T:var P=N._init;return N=P(N._payload),K(q,N,V)}if(ot(N)||X(N))return N=Ai(N,q.mode,V,null),N.return=q,N;if(typeof N.then=="function")return K(q,El(N),V);if(N.$$typeof===B)return K(q,dl(q,N),V);Dl(q,N)}return null}function F(q,N,V,P){var ft=N!==null?N.key:null;if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return ft!==null?null:v(q,N,""+V,P);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case x:return V.key===ft?C(q,N,V,P):null;case b:return V.key===ft?j(q,N,V,P):null;case T:return ft=V._init,V=ft(V._payload),F(q,N,V,P)}if(ot(V)||X(V))return ft!==null?null:Z(q,N,V,P,null);if(typeof V.then=="function")return F(q,N,El(V),P);if(V.$$typeof===B)return F(q,N,dl(q,V),P);Dl(q,V)}return null}function H(q,N,V,P,ft){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return q=q.get(V)||null,v(N,q,""+P,ft);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case x:return q=q.get(P.key===null?V:P.key)||null,C(N,q,P,ft);case b:return q=q.get(P.key===null?V:P.key)||null,j(N,q,P,ft);case T:var Ot=P._init;return P=Ot(P._payload),H(q,N,V,P,ft)}if(ot(P)||X(P))return q=q.get(V)||null,Z(N,q,P,ft,null);if(typeof P.then=="function")return H(q,N,V,El(P),ft);if(P.$$typeof===B)return H(q,N,V,dl(N,P),ft);Dl(N,P)}return null}function St(q,N,V,P){for(var ft=null,Ot=null,_t=N,xt=N=0,Ee=null;_t!==null&&xt<V.length;xt++){_t.index>xt?(Ee=_t,_t=null):Ee=_t.sibling;var Vt=F(q,_t,V[xt],P);if(Vt===null){_t===null&&(_t=Ee);break}e&&_t&&Vt.alternate===null&&n(q,_t),N=h(Vt,N,xt),Ot===null?ft=Vt:Ot.sibling=Vt,Ot=Vt,_t=Ee}if(xt===V.length)return i(q,_t),jt&&Di(q,xt),ft;if(_t===null){for(;xt<V.length;xt++)_t=K(q,V[xt],P),_t!==null&&(N=h(_t,N,xt),Ot===null?ft=_t:Ot.sibling=_t,Ot=_t);return jt&&Di(q,xt),ft}for(_t=r(_t);xt<V.length;xt++)Ee=H(_t,q,xt,V[xt],P),Ee!==null&&(e&&Ee.alternate!==null&&_t.delete(Ee.key===null?xt:Ee.key),N=h(Ee,N,xt),Ot===null?ft=Ee:Ot.sibling=Ee,Ot=Ee);return e&&_t.forEach(function(si){return n(q,si)}),jt&&Di(q,xt),ft}function bt(q,N,V,P){if(V==null)throw Error(a(151));for(var ft=null,Ot=null,_t=N,xt=N=0,Ee=null,Vt=V.next();_t!==null&&!Vt.done;xt++,Vt=V.next()){_t.index>xt?(Ee=_t,_t=null):Ee=_t.sibling;var si=F(q,_t,Vt.value,P);if(si===null){_t===null&&(_t=Ee);break}e&&_t&&si.alternate===null&&n(q,_t),N=h(si,N,xt),Ot===null?ft=si:Ot.sibling=si,Ot=si,_t=Ee}if(Vt.done)return i(q,_t),jt&&Di(q,xt),ft;if(_t===null){for(;!Vt.done;xt++,Vt=V.next())Vt=K(q,Vt.value,P),Vt!==null&&(N=h(Vt,N,xt),Ot===null?ft=Vt:Ot.sibling=Vt,Ot=Vt);return jt&&Di(q,xt),ft}for(_t=r(_t);!Vt.done;xt++,Vt=V.next())Vt=H(_t,q,xt,Vt.value,P),Vt!==null&&(e&&Vt.alternate!==null&&_t.delete(Vt.key===null?xt:Vt.key),N=h(Vt,N,xt),Ot===null?ft=Vt:Ot.sibling=Vt,Ot=Vt);return e&&_t.forEach(function(Q1){return n(q,Q1)}),jt&&Di(q,xt),ft}function It(q,N,V,P){if(typeof V=="object"&&V!==null&&V.type===S&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case x:t:{for(var ft=V.key;N!==null;){if(N.key===ft){if(ft=V.type,ft===S){if(N.tag===7){i(q,N.sibling),P=c(N,V.props.children),P.return=q,q=P;break t}}else if(N.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===T&&Xm(ft)===N.type){i(q,N.sibling),P=c(N,V.props),Gr(P,V),P.return=q,q=P;break t}i(q,N);break}else n(q,N);N=N.sibling}V.type===S?(P=Ai(V.props.children,q.mode,P,V.key),P.return=q,q=P):(P=cl(V.type,V.key,V.props,null,q.mode,P),Gr(P,V),P.return=q,q=P)}return g(q);case b:t:{for(ft=V.key;N!==null;){if(N.key===ft)if(N.tag===4&&N.stateNode.containerInfo===V.containerInfo&&N.stateNode.implementation===V.implementation){i(q,N.sibling),P=c(N,V.children||[]),P.return=q,q=P;break t}else{i(q,N);break}else n(q,N);N=N.sibling}P=Tu(V,q.mode,P),P.return=q,q=P}return g(q);case T:return ft=V._init,V=ft(V._payload),It(q,N,V,P)}if(ot(V))return St(q,N,V,P);if(X(V)){if(ft=X(V),typeof ft!="function")throw Error(a(150));return V=ft.call(V),bt(q,N,V,P)}if(typeof V.then=="function")return It(q,N,El(V),P);if(V.$$typeof===B)return It(q,N,dl(q,V),P);Dl(q,V)}return typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint"?(V=""+V,N!==null&&N.tag===6?(i(q,N.sibling),P=c(N,V),P.return=q,q=P):(i(q,N),P=Su(V,q.mode,P),P.return=q,q=P),g(q)):i(q,N)}return function(q,N,V,P){try{Fr=0;var ft=It(q,N,V,P);return xa=null,ft}catch(_t){if(_t===Nr||_t===ml)throw _t;var Ot=un(29,_t,null,q.mode);return Ot.lanes=P,Ot.return=q,Ot}finally{}}}var Sa=Qm(!0),Zm=Qm(!1),Mn=L(null),ts=null;function Gs(e){var n=e.alternate;et(ye,ye.current&1),et(Mn,e),ts===null&&(n===null||ga.current!==null||n.memoizedState!==null)&&(ts=e)}function Wm(e){if(e.tag===22){if(et(ye,ye.current),et(Mn,e),ts===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(ts=e)}}else Hs()}function Hs(){et(ye,ye.current),et(Mn,Mn.current)}function ys(e){J(Mn),ts===e&&(ts=null),J(ye)}var ye=L(0);function Cl(e){for(var n=e;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||Yh(i)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function nh(e,n,i,r){n=e.memoizedState,i=i(r,n),i=i==null?n:_({},n,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var sh={enqueueSetState:function(e,n,i){e=e._reactInternals;var r=pn(),c=Bs(r);c.payload=n,i!=null&&(c.callback=i),n=Ls(e,c,r),n!==null&&(mn(n,e,r),qr(n,e,r))},enqueueReplaceState:function(e,n,i){e=e._reactInternals;var r=pn(),c=Bs(r);c.tag=1,c.payload=n,i!=null&&(c.callback=i),n=Ls(e,c,r),n!==null&&(mn(n,e,r),qr(n,e,r))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var i=pn(),r=Bs(i);r.tag=2,n!=null&&(r.callback=n),n=Ls(e,r,i),n!==null&&(mn(n,e,i),qr(n,e,i))}};function Pm(e,n,i,r,c,h,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,h,g):n.prototype&&n.prototype.isPureReactComponent?!wr(i,r)||!wr(c,h):!0}function Km(e,n,i,r){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,r),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,r),n.state!==e&&sh.enqueueReplaceState(n,n.state,null)}function qi(e,n){var i=n;if("ref"in n){i={};for(var r in n)r!=="ref"&&(i[r]=n[r])}if(e=e.defaultProps){i===n&&(i=_({},i));for(var c in e)i[c]===void 0&&(i[c]=e[c])}return i}var Ol=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Jm(e){Ol(e)}function $m(e){console.error(e)}function t_(e){Ol(e)}function Ml(e,n){try{var i=e.onUncaughtError;i(n.value,{componentStack:n.stack})}catch(r){setTimeout(function(){throw r})}}function e_(e,n,i){try{var r=e.onCaughtError;r(i.value,{componentStack:i.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function ih(e,n,i){return i=Bs(i),i.tag=3,i.payload={element:null},i.callback=function(){Ml(e,n)},i}function n_(e){return e=Bs(e),e.tag=3,e}function s_(e,n,i,r){var c=i.type.getDerivedStateFromError;if(typeof c=="function"){var h=r.value;e.payload=function(){return c(h)},e.callback=function(){e_(n,i,r)}}var g=i.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){e_(n,i,r),typeof c!="function"&&(Ws===null?Ws=new Set([this]):Ws.add(this));var v=r.stack;this.componentDidCatch(r.value,{componentStack:v!==null?v:""})})}function Q0(e,n,i,r,c){if(i.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(n=i.alternate,n!==null&&Or(n,i,c,!0),i=Mn.current,i!==null){switch(i.tag){case 13:return ts===null?Ch():i.alternate===null&&re===0&&(re=3),i.flags&=-257,i.flags|=65536,i.lanes=c,r===ku?i.flags|=16384:(n=i.updateQueue,n===null?i.updateQueue=new Set([r]):n.add(r),Mh(e,r,c)),!1;case 22:return i.flags|=65536,r===ku?i.flags|=16384:(n=i.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([r])},i.updateQueue=n):(i=n.retryQueue,i===null?n.retryQueue=new Set([r]):i.add(r)),Mh(e,r,c)),!1}throw Error(a(435,i.tag))}return Mh(e,r,c),Ch(),!1}if(jt)return n=Mn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,r!==Eu&&(e=Error(a(422),{cause:r}),Cr(En(e,i)))):(r!==Eu&&(n=Error(a(423),{cause:r}),Cr(En(n,i))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,r=En(r,i),c=ih(e.stateNode,r,c),Vu(e,c),re!==4&&(re=2)),!1;var h=Error(a(520),{cause:r});if(h=En(h,i),Wr===null?Wr=[h]:Wr.push(h),re!==4&&(re=2),n===null)return!0;r=En(r,i),i=n;do{switch(i.tag){case 3:return i.flags|=65536,e=c&-c,i.lanes|=e,e=ih(i.stateNode,r,e),Vu(i,e),!1;case 1:if(n=i.type,h=i.stateNode,(i.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Ws===null||!Ws.has(h))))return i.flags|=65536,c&=-c,i.lanes|=c,c=n_(c),s_(c,e,i,r),Vu(i,c),!1}i=i.return}while(i!==null);return!1}var i_=Error(a(461)),we=!1;function Ne(e,n,i,r){n.child=e===null?Zm(n,null,i,r):Sa(n,e.child,i,r)}function a_(e,n,i,r,c){i=i.render;var h=n.ref;if("ref"in r){var g={};for(var v in r)v!=="ref"&&(g[v]=r[v])}else g=r;return Ri(n),r=Fu(e,n,i,g,h,c),v=Gu(),e!==null&&!we?(Hu(e,n,c),vs(e,n,c)):(jt&&v&&wu(n),n.flags|=1,Ne(e,n,r,c),n.child)}function r_(e,n,i,r,c){if(e===null){var h=i.type;return typeof h=="function"&&!xu(h)&&h.defaultProps===void 0&&i.compare===null?(n.tag=15,n.type=h,o_(e,n,h,r,c)):(e=cl(i.type,null,r,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(h=e.child,!fh(e,c)){var g=h.memoizedProps;if(i=i.compare,i=i!==null?i:wr,i(g,r)&&e.ref===n.ref)return vs(e,n,c)}return n.flags|=1,e=fs(h,r),e.ref=n.ref,e.return=n,n.child=e}function o_(e,n,i,r,c){if(e!==null){var h=e.memoizedProps;if(wr(h,r)&&e.ref===n.ref)if(we=!1,n.pendingProps=r=h,fh(e,c))(e.flags&131072)!==0&&(we=!0);else return n.lanes=e.lanes,vs(e,n,c)}return ah(e,n,i,r,c)}function l_(e,n,i){var r=n.pendingProps,c=r.children,h=e!==null?e.memoizedState:null;if(r.mode==="hidden"){if((n.flags&128)!==0){if(r=h!==null?h.baseLanes|i:i,e!==null){for(c=n.child=e.child,h=0;c!==null;)h=h|c.lanes|c.childLanes,c=c.sibling;n.childLanes=h&~r}else n.childLanes=0,n.child=null;return c_(e,n,r,i)}if((i&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&pl(n,h!==null?h.cachePool:null),h!==null?om(n,h):Uu(),Wm(n);else return n.lanes=n.childLanes=536870912,c_(e,n,h!==null?h.baseLanes|i:i,i)}else h!==null?(pl(n,h.cachePool),om(n,h),Hs(),n.memoizedState=null):(e!==null&&pl(n,null),Uu(),Hs());return Ne(e,n,c,i),n.child}function c_(e,n,i,r){var c=Nu();return c=c===null?null:{parent:ge._currentValue,pool:c},n.memoizedState={baseLanes:i,cachePool:c},e!==null&&pl(n,null),Uu(),Wm(n),e!==null&&Or(e,n,r,!0),null}function Rl(e,n){var i=n.ref;if(i===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(a(284));(e===null||e.ref!==i)&&(n.flags|=4194816)}}function ah(e,n,i,r,c){return Ri(n),i=Fu(e,n,i,r,void 0,c),r=Gu(),e!==null&&!we?(Hu(e,n,c),vs(e,n,c)):(jt&&r&&wu(n),n.flags|=1,Ne(e,n,i,c),n.child)}function u_(e,n,i,r,c,h){return Ri(n),n.updateQueue=null,i=cm(n,r,i,c),lm(e),r=Gu(),e!==null&&!we?(Hu(e,n,h),vs(e,n,h)):(jt&&r&&wu(n),n.flags|=1,Ne(e,n,i,h),n.child)}function h_(e,n,i,r,c){if(Ri(n),n.stateNode===null){var h=fa,g=i.contextType;typeof g=="object"&&g!==null&&(h=Fe(g)),h=new i(r,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=sh,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=r,h.state=n.memoizedState,h.refs={},qu(n),g=i.contextType,h.context=typeof g=="object"&&g!==null?Fe(g):fa,h.state=n.memoizedState,g=i.getDerivedStateFromProps,typeof g=="function"&&(nh(n,i,g,r),h.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(g=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),g!==h.state&&sh.enqueueReplaceState(h,h.state,null),Vr(n,r,h,c),zr(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),r=!0}else if(e===null){h=n.stateNode;var v=n.memoizedProps,C=qi(i,v);h.props=C;var j=h.context,Z=i.contextType;g=fa,typeof Z=="object"&&Z!==null&&(g=Fe(Z));var K=i.getDerivedStateFromProps;Z=typeof K=="function"||typeof h.getSnapshotBeforeUpdate=="function",v=n.pendingProps!==v,Z||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(v||j!==g)&&Km(n,h,r,g),Us=!1;var F=n.memoizedState;h.state=F,Vr(n,r,h,c),zr(),j=n.memoizedState,v||F!==j||Us?(typeof K=="function"&&(nh(n,i,K,r),j=n.memoizedState),(C=Us||Pm(n,i,C,r,F,j,g))?(Z||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=r,n.memoizedState=j),h.props=r,h.state=j,h.context=g,r=C):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),r=!1)}else{h=n.stateNode,zu(e,n),g=n.memoizedProps,Z=qi(i,g),h.props=Z,K=n.pendingProps,F=h.context,j=i.contextType,C=fa,typeof j=="object"&&j!==null&&(C=Fe(j)),v=i.getDerivedStateFromProps,(j=typeof v=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(g!==K||F!==C)&&Km(n,h,r,C),Us=!1,F=n.memoizedState,h.state=F,Vr(n,r,h,c),zr();var H=n.memoizedState;g!==K||F!==H||Us||e!==null&&e.dependencies!==null&&fl(e.dependencies)?(typeof v=="function"&&(nh(n,i,v,r),H=n.memoizedState),(Z=Us||Pm(n,i,Z,r,F,H,C)||e!==null&&e.dependencies!==null&&fl(e.dependencies))?(j||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(r,H,C),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(r,H,C)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||g===e.memoizedProps&&F===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&F===e.memoizedState||(n.flags|=1024),n.memoizedProps=r,n.memoizedState=H),h.props=r,h.state=H,h.context=C,r=Z):(typeof h.componentDidUpdate!="function"||g===e.memoizedProps&&F===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&F===e.memoizedState||(n.flags|=1024),r=!1)}return h=r,Rl(e,n),r=(n.flags&128)!==0,h||r?(h=n.stateNode,i=r&&typeof i.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,e!==null&&r?(n.child=Sa(n,e.child,null,c),n.child=Sa(n,null,i,c)):Ne(e,n,i,c),n.memoizedState=h.state,e=n.child):e=vs(e,n,c),e}function f_(e,n,i,r){return Dr(),n.flags|=256,Ne(e,n,i,r),n.child}var rh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function oh(e){return{baseLanes:e,cachePool:$p()}}function lh(e,n,i){return e=e!==null?e.childLanes&~i:0,n&&(e|=Rn),e}function d_(e,n,i){var r=n.pendingProps,c=!1,h=(n.flags&128)!==0,g;if((g=h)||(g=e!==null&&e.memoizedState===null?!1:(ye.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(jt){if(c?Gs(n):Hs(),jt){var v=ae,C;if(C=v){t:{for(C=v,v=$n;C.nodeType!==8;){if(!v){v=null;break t}if(C=Fn(C.nextSibling),C===null){v=null;break t}}v=C}v!==null?(n.memoizedState={dehydrated:v,treeContext:Ei!==null?{id:ds,overflow:ps}:null,retryLane:536870912,hydrationErrors:null},C=un(18,null,null,0),C.stateNode=v,C.return=n,n.child=C,Xe=n,ae=null,C=!0):C=!1}C||Oi(n)}if(v=n.memoizedState,v!==null&&(v=v.dehydrated,v!==null))return Yh(v)?n.lanes=32:n.lanes=536870912,null;ys(n)}return v=r.children,r=r.fallback,c?(Hs(),c=n.mode,v=Nl({mode:"hidden",children:v},c),r=Ai(r,c,i,null),v.return=n,r.return=n,v.sibling=r,n.child=v,c=n.child,c.memoizedState=oh(i),c.childLanes=lh(e,g,i),n.memoizedState=rh,r):(Gs(n),ch(n,v))}if(C=e.memoizedState,C!==null&&(v=C.dehydrated,v!==null)){if(h)n.flags&256?(Gs(n),n.flags&=-257,n=uh(e,n,i)):n.memoizedState!==null?(Hs(),n.child=e.child,n.flags|=128,n=null):(Hs(),c=r.fallback,v=n.mode,r=Nl({mode:"visible",children:r.children},v),c=Ai(c,v,i,null),c.flags|=2,r.return=n,c.return=n,r.sibling=c,n.child=r,Sa(n,e.child,null,i),r=n.child,r.memoizedState=oh(i),r.childLanes=lh(e,g,i),n.memoizedState=rh,n=c);else if(Gs(n),Yh(v)){if(g=v.nextSibling&&v.nextSibling.dataset,g)var j=g.dgst;g=j,r=Error(a(419)),r.stack="",r.digest=g,Cr({value:r,source:null,stack:null}),n=uh(e,n,i)}else if(we||Or(e,n,i,!1),g=(i&e.childLanes)!==0,we||g){if(g=Zt,g!==null&&(r=i&-i,r=(r&42)!==0?1:Xc(r),r=(r&(g.suspendedLanes|i))!==0?0:r,r!==0&&r!==C.retryLane))throw C.retryLane=r,ha(e,r),mn(g,e,r),i_;v.data==="$?"||Ch(),n=uh(e,n,i)}else v.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=C.treeContext,ae=Fn(v.nextSibling),Xe=n,jt=!0,Ci=null,$n=!1,e!==null&&(Cn[On++]=ds,Cn[On++]=ps,Cn[On++]=Ei,ds=e.id,ps=e.overflow,Ei=n),n=ch(n,r.children),n.flags|=4096);return n}return c?(Hs(),c=r.fallback,v=n.mode,C=e.child,j=C.sibling,r=fs(C,{mode:"hidden",children:r.children}),r.subtreeFlags=C.subtreeFlags&65011712,j!==null?c=fs(j,c):(c=Ai(c,v,i,null),c.flags|=2),c.return=n,r.return=n,r.sibling=c,n.child=r,r=c,c=n.child,v=e.child.memoizedState,v===null?v=oh(i):(C=v.cachePool,C!==null?(j=ge._currentValue,C=C.parent!==j?{parent:j,pool:j}:C):C=$p(),v={baseLanes:v.baseLanes|i,cachePool:C}),c.memoizedState=v,c.childLanes=lh(e,g,i),n.memoizedState=rh,r):(Gs(n),i=e.child,e=i.sibling,i=fs(i,{mode:"visible",children:r.children}),i.return=n,i.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=i,n.memoizedState=null,i)}function ch(e,n){return n=Nl({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Nl(e,n){return e=un(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function uh(e,n,i){return Sa(n,e.child,null,i),e=ch(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function p_(e,n,i){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n),Cu(e.return,n,i)}function hh(e,n,i,r,c){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:r,tail:i,tailMode:c}:(h.isBackwards=n,h.rendering=null,h.renderingStartTime=0,h.last=r,h.tail=i,h.tailMode=c)}function m_(e,n,i){var r=n.pendingProps,c=r.revealOrder,h=r.tail;if(Ne(e,n,r.children,i),r=ye.current,(r&2)!==0)r=r&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&p_(e,i,n);else if(e.tag===19)p_(e,i,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(et(ye,r),c){case"forwards":for(i=n.child,c=null;i!==null;)e=i.alternate,e!==null&&Cl(e)===null&&(c=i),i=i.sibling;i=c,i===null?(c=n.child,n.child=null):(c=i.sibling,i.sibling=null),hh(n,!1,c,i,h);break;case"backwards":for(i=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&Cl(e)===null){n.child=c;break}e=c.sibling,c.sibling=i,i=c,c=e}hh(n,!0,i,null,h);break;case"together":hh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function vs(e,n,i){if(e!==null&&(n.dependencies=e.dependencies),Zs|=n.lanes,(i&n.childLanes)===0)if(e!==null){if(Or(e,n,i,!1),(i&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,i=fs(e,e.pendingProps),n.child=i,i.return=n;e.sibling!==null;)e=e.sibling,i=i.sibling=fs(e,e.pendingProps),i.return=n;i.sibling=null}return n.child}function fh(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&fl(e)))}function Z0(e,n,i){switch(n.tag){case 3:rt(n,n.stateNode.containerInfo),js(n,ge,e.memoizedState.cache),Dr();break;case 27:case 5:Me(n);break;case 4:rt(n,n.stateNode.containerInfo);break;case 10:js(n,n.type,n.memoizedProps.value);break;case 13:var r=n.memoizedState;if(r!==null)return r.dehydrated!==null?(Gs(n),n.flags|=128,null):(i&n.child.childLanes)!==0?d_(e,n,i):(Gs(n),e=vs(e,n,i),e!==null?e.sibling:null);Gs(n);break;case 19:var c=(e.flags&128)!==0;if(r=(i&n.childLanes)!==0,r||(Or(e,n,i,!1),r=(i&n.childLanes)!==0),c){if(r)return m_(e,n,i);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),et(ye,ye.current),r)break;return null;case 22:case 23:return n.lanes=0,l_(e,n,i);case 24:js(n,ge,e.memoizedState.cache)}return vs(e,n,i)}function __(e,n,i){if(e!==null)if(e.memoizedProps!==n.pendingProps)we=!0;else{if(!fh(e,i)&&(n.flags&128)===0)return we=!1,Z0(e,n,i);we=(e.flags&131072)!==0}else we=!1,jt&&(n.flags&1048576)!==0&&Xp(n,hl,n.index);switch(n.lanes=0,n.tag){case 16:t:{e=n.pendingProps;var r=n.elementType,c=r._init;if(r=c(r._payload),n.type=r,typeof r=="function")xu(r)?(e=qi(r,e),n.tag=1,n=h_(null,n,r,e,i)):(n.tag=0,n=ah(null,n,r,e,i));else{if(r!=null){if(c=r.$$typeof,c===Q){n.tag=11,n=a_(null,n,r,e,i);break t}else if(c===k){n.tag=14,n=r_(null,n,r,e,i);break t}}throw n=nt(r)||r,Error(a(306,n,""))}}return n;case 0:return ah(e,n,n.type,n.pendingProps,i);case 1:return r=n.type,c=qi(r,n.pendingProps),h_(e,n,r,c,i);case 3:t:{if(rt(n,n.stateNode.containerInfo),e===null)throw Error(a(387));r=n.pendingProps;var h=n.memoizedState;c=h.element,zu(e,n),Vr(n,r,null,i);var g=n.memoizedState;if(r=g.cache,js(n,ge,r),r!==h.cache&&Ou(n,[ge],i,!0),zr(),r=g.element,h.isDehydrated)if(h={element:r,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=f_(e,n,r,i);break t}else if(r!==c){c=En(Error(a(424)),n),Cr(c),n=f_(e,n,r,i);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ae=Fn(e.firstChild),Xe=n,jt=!0,Ci=null,$n=!0,i=Zm(n,null,r,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(Dr(),r===c){n=vs(e,n,i);break t}Ne(e,n,r,i)}n=n.child}return n;case 26:return Rl(e,n),e===null?(i=bg(n.type,null,n.pendingProps,null))?n.memoizedState=i:jt||(i=n.type,e=n.pendingProps,r=Xl(ct.current).createElement(i),r[Le]=n,r[tn]=e,qe(r,i,e),Te(r),n.stateNode=r):n.memoizedState=bg(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Me(n),e===null&&jt&&(r=n.stateNode=gg(n.type,n.pendingProps,ct.current),Xe=n,$n=!0,c=ae,Js(n.type)?(Xh=c,ae=Fn(r.firstChild)):ae=c),Ne(e,n,n.pendingProps.children,i),Rl(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&jt&&((c=r=ae)&&(r=S1(r,n.type,n.pendingProps,$n),r!==null?(n.stateNode=r,Xe=n,ae=Fn(r.firstChild),$n=!1,c=!0):c=!1),c||Oi(n)),Me(n),c=n.type,h=n.pendingProps,g=e!==null?e.memoizedProps:null,r=h.children,Gh(c,h)?r=null:g!==null&&Gh(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=Fu(e,n,L0,null,null,i),io._currentValue=c),Rl(e,n),Ne(e,n,r,i),n.child;case 6:return e===null&&jt&&((e=i=ae)&&(i=T1(i,n.pendingProps,$n),i!==null?(n.stateNode=i,Xe=n,ae=null,e=!0):e=!1),e||Oi(n)),null;case 13:return d_(e,n,i);case 4:return rt(n,n.stateNode.containerInfo),r=n.pendingProps,e===null?n.child=Sa(n,null,r,i):Ne(e,n,r,i),n.child;case 11:return a_(e,n,n.type,n.pendingProps,i);case 7:return Ne(e,n,n.pendingProps,i),n.child;case 8:return Ne(e,n,n.pendingProps.children,i),n.child;case 12:return Ne(e,n,n.pendingProps.children,i),n.child;case 10:return r=n.pendingProps,js(n,n.type,r.value),Ne(e,n,r.children,i),n.child;case 9:return c=n.type._context,r=n.pendingProps.children,Ri(n),c=Fe(c),r=r(c),n.flags|=1,Ne(e,n,r,i),n.child;case 14:return r_(e,n,n.type,n.pendingProps,i);case 15:return o_(e,n,n.type,n.pendingProps,i);case 19:return m_(e,n,i);case 31:return r=n.pendingProps,i=n.mode,r={mode:r.mode,children:r.children},e===null?(i=Nl(r,i),i.ref=n.ref,n.child=i,i.return=n,n=i):(i=fs(e.child,r),i.ref=n.ref,n.child=i,i.return=n,n=i),n;case 22:return l_(e,n,i);case 24:return Ri(n),r=Fe(ge),e===null?(c=Nu(),c===null&&(c=Zt,h=Mu(),c.pooledCache=h,h.refCount++,h!==null&&(c.pooledCacheLanes|=i),c=h),n.memoizedState={parent:r,cache:c},qu(n),js(n,ge,c)):((e.lanes&i)!==0&&(zu(e,n),Vr(n,null,null,i),zr()),c=e.memoizedState,h=n.memoizedState,c.parent!==r?(c={parent:r,cache:r},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),js(n,ge,r)):(r=h.cache,js(n,ge,r),r!==c.cache&&Ou(n,[ge],i,!0))),Ne(e,n,n.pendingProps.children,i),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function bs(e){e.flags|=4}function g_(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Ag(n)){if(n=Mn.current,n!==null&&((qt&4194048)===qt?ts!==null:(qt&62914560)!==qt&&(qt&536870912)===0||n!==ts))throw kr=ku,tm;e.flags|=8192}}function kl(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Wd():536870912,e.lanes|=n,Ea|=n)}function Hr(e,n){if(!jt)switch(e.tailMode){case"hidden":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function se(e){var n=e.alternate!==null&&e.alternate.child===e.child,i=0,r=0;if(n)for(var c=e.child;c!==null;)i|=c.lanes|c.childLanes,r|=c.subtreeFlags&65011712,r|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)i|=c.lanes|c.childLanes,r|=c.subtreeFlags,r|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=r,e.childLanes=i,n}function W0(e,n,i){var r=n.pendingProps;switch(Au(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return se(n),null;case 1:return se(n),null;case 3:return i=n.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),_s(ge),ie(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Er(n)?bs(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Wp())),se(n),null;case 26:return i=n.memoizedState,e===null?(bs(n),i!==null?(se(n),g_(n,i)):(se(n),n.flags&=-16777217)):i?i!==e.memoizedState?(bs(n),se(n),g_(n,i)):(se(n),n.flags&=-16777217):(e.memoizedProps!==r&&bs(n),se(n),n.flags&=-16777217),null;case 27:Se(n),i=ct.current;var c=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==r&&bs(n);else{if(!r){if(n.stateNode===null)throw Error(a(166));return se(n),null}e=ht.current,Er(n)?Qp(n):(e=gg(c,r,i),n.stateNode=e,bs(n))}return se(n),null;case 5:if(Se(n),i=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==r&&bs(n);else{if(!r){if(n.stateNode===null)throw Error(a(166));return se(n),null}if(e=ht.current,Er(n))Qp(n);else{switch(c=Xl(ct.current),e){case 1:e=c.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:e=c.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":e=c.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":e=c.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof r.is=="string"?c.createElement("select",{is:r.is}):c.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e=typeof r.is=="string"?c.createElement(i,{is:r.is}):c.createElement(i)}}e[Le]=n,e[tn]=r;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)e.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=e;t:switch(qe(e,i,r),i){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&bs(n)}}return se(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==r&&bs(n);else{if(typeof r!="string"&&n.stateNode===null)throw Error(a(166));if(e=ct.current,Er(n)){if(e=n.stateNode,i=n.memoizedProps,r=null,c=Xe,c!==null)switch(c.tag){case 27:case 5:r=c.memoizedProps}e[Le]=n,e=!!(e.nodeValue===i||r!==null&&r.suppressHydrationWarning===!0||ug(e.nodeValue,i)),e||Oi(n)}else e=Xl(e).createTextNode(r),e[Le]=n,n.stateNode=e}return se(n),null;case 13:if(r=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=Er(n),r!==null&&r.dehydrated!==null){if(e===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[Le]=n}else Dr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;se(n),c=!1}else c=Wp(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(ys(n),n):(ys(n),null)}if(ys(n),(n.flags&128)!==0)return n.lanes=i,n;if(i=r!==null,e=e!==null&&e.memoizedState!==null,i){r=n.child,c=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(c=r.alternate.memoizedState.cachePool.pool);var h=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(h=r.memoizedState.cachePool.pool),h!==c&&(r.flags|=2048)}return i!==e&&i&&(n.child.flags|=8192),kl(n,n.updateQueue),se(n),null;case 4:return ie(),e===null&&jh(n.stateNode.containerInfo),se(n),null;case 10:return _s(n.type),se(n),null;case 19:if(J(ye),c=n.memoizedState,c===null)return se(n),null;if(r=(n.flags&128)!==0,h=c.rendering,h===null)if(r)Hr(c,!1);else{if(re!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(h=Cl(e),h!==null){for(n.flags|=128,Hr(c,!1),e=h.updateQueue,n.updateQueue=e,kl(n,e),n.subtreeFlags=0,e=i,i=n.child;i!==null;)Yp(i,e),i=i.sibling;return et(ye,ye.current&1|2),n.child}e=e.sibling}c.tail!==null&&kt()>Vl&&(n.flags|=128,r=!0,Hr(c,!1),n.lanes=4194304)}else{if(!r)if(e=Cl(h),e!==null){if(n.flags|=128,r=!0,e=e.updateQueue,n.updateQueue=e,kl(n,e),Hr(c,!0),c.tail===null&&c.tailMode==="hidden"&&!h.alternate&&!jt)return se(n),null}else 2*kt()-c.renderingStartTime>Vl&&i!==536870912&&(n.flags|=128,r=!0,Hr(c,!1),n.lanes=4194304);c.isBackwards?(h.sibling=n.child,n.child=h):(e=c.last,e!==null?e.sibling=h:n.child=h,c.last=h)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=kt(),n.sibling=null,e=ye.current,et(ye,r?e&1|2:e&1),n):(se(n),null);case 22:case 23:return ys(n),Bu(),r=n.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(n.flags|=8192):r&&(n.flags|=8192),r?(i&536870912)!==0&&(n.flags&128)===0&&(se(n),n.subtreeFlags&6&&(n.flags|=8192)):se(n),i=n.updateQueue,i!==null&&kl(n,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),r=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(r=n.memoizedState.cachePool.pool),r!==i&&(n.flags|=2048),e!==null&&J(Ni),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),n.memoizedState.cache!==i&&(n.flags|=2048),_s(ge),se(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function P0(e,n){switch(Au(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return _s(ge),ie(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Se(n),null;case 13:if(ys(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Dr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return J(ye),null;case 4:return ie(),null;case 10:return _s(n.type),null;case 22:case 23:return ys(n),Bu(),e!==null&&J(Ni),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return _s(ge),null;case 25:return null;default:return null}}function y_(e,n){switch(Au(n),n.tag){case 3:_s(ge),ie();break;case 26:case 27:case 5:Se(n);break;case 4:ie();break;case 13:ys(n);break;case 19:J(ye);break;case 10:_s(n.type);break;case 22:case 23:ys(n),Bu(),e!==null&&J(Ni);break;case 24:_s(ge)}}function Ir(e,n){try{var i=n.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var c=r.next;i=c;do{if((i.tag&e)===e){r=void 0;var h=i.create,g=i.inst;r=h(),g.destroy=r}i=i.next}while(i!==c)}}catch(v){Xt(n,n.return,v)}}function Is(e,n,i){try{var r=n.updateQueue,c=r!==null?r.lastEffect:null;if(c!==null){var h=c.next;r=h;do{if((r.tag&e)===e){var g=r.inst,v=g.destroy;if(v!==void 0){g.destroy=void 0,c=n;var C=i,j=v;try{j()}catch(Z){Xt(c,C,Z)}}}r=r.next}while(r!==h)}}catch(Z){Xt(n,n.return,Z)}}function v_(e){var n=e.updateQueue;if(n!==null){var i=e.stateNode;try{rm(n,i)}catch(r){Xt(e,e.return,r)}}}function b_(e,n,i){i.props=qi(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(r){Xt(e,n,r)}}function Yr(e,n){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof i=="function"?e.refCleanup=i(r):i.current=r}}catch(c){Xt(e,n,c)}}function es(e,n){var i=e.ref,r=e.refCleanup;if(i!==null)if(typeof r=="function")try{r()}catch(c){Xt(e,n,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(c){Xt(e,n,c)}else i.current=null}function x_(e){var n=e.type,i=e.memoizedProps,r=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":i.autoFocus&&r.focus();break t;case"img":i.src?r.src=i.src:i.srcSet&&(r.srcset=i.srcSet)}}catch(c){Xt(e,e.return,c)}}function dh(e,n,i){try{var r=e.stateNode;g1(r,e.type,i,n),r[tn]=n}catch(c){Xt(e,e.return,c)}}function S_(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Js(e.type)||e.tag===4}function ph(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||S_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Js(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function mh(e,n,i){var r=e.tag;if(r===5||r===6)e=e.stateNode,n?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,n):(n=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,n.appendChild(e),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=Yl));else if(r!==4&&(r===27&&Js(e.type)&&(i=e.stateNode,n=null),e=e.child,e!==null))for(mh(e,n,i),e=e.sibling;e!==null;)mh(e,n,i),e=e.sibling}function ql(e,n,i){var r=e.tag;if(r===5||r===6)e=e.stateNode,n?i.insertBefore(e,n):i.appendChild(e);else if(r!==4&&(r===27&&Js(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(ql(e,n,i),e=e.sibling;e!==null;)ql(e,n,i),e=e.sibling}function T_(e){var n=e.stateNode,i=e.memoizedProps;try{for(var r=e.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);qe(n,r,i),n[Le]=e,n[tn]=i}catch(h){Xt(e,e.return,h)}}var xs=!1,he=!1,_h=!1,w_=typeof WeakSet=="function"?WeakSet:Set,Ae=null;function K0(e,n){if(e=e.containerInfo,Lh=Jl,e=zp(e),pu(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else t:{i=(i=e.ownerDocument)&&i.defaultView||window;var r=i.getSelection&&i.getSelection();if(r&&r.rangeCount!==0){i=r.anchorNode;var c=r.anchorOffset,h=r.focusNode;r=r.focusOffset;try{i.nodeType,h.nodeType}catch{i=null;break t}var g=0,v=-1,C=-1,j=0,Z=0,K=e,F=null;e:for(;;){for(var H;K!==i||c!==0&&K.nodeType!==3||(v=g+c),K!==h||r!==0&&K.nodeType!==3||(C=g+r),K.nodeType===3&&(g+=K.nodeValue.length),(H=K.firstChild)!==null;)F=K,K=H;for(;;){if(K===e)break e;if(F===i&&++j===c&&(v=g),F===h&&++Z===r&&(C=g),(H=K.nextSibling)!==null)break;K=F,F=K.parentNode}K=H}i=v===-1||C===-1?null:{start:v,end:C}}else i=null}i=i||{start:0,end:0}}else i=null;for(Fh={focusedElem:e,selectionRange:i},Jl=!1,Ae=n;Ae!==null;)if(n=Ae,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,Ae=e;else for(;Ae!==null;){switch(n=Ae,h=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,i=n,c=h.memoizedProps,h=h.memoizedState,r=i.stateNode;try{var St=qi(i.type,c,i.elementType===i.type);e=r.getSnapshotBeforeUpdate(St,h),r.__reactInternalSnapshotBeforeUpdate=e}catch(bt){Xt(i,i.return,bt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,i=e.nodeType,i===9)Ih(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ih(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Ae=e;break}Ae=n.return}}function A_(e,n,i){var r=i.flags;switch(i.tag){case 0:case 11:case 15:Ys(e,i),r&4&&Ir(5,i);break;case 1:if(Ys(e,i),r&4)if(e=i.stateNode,n===null)try{e.componentDidMount()}catch(g){Xt(i,i.return,g)}else{var c=qi(i.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(c,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Xt(i,i.return,g)}}r&64&&v_(i),r&512&&Yr(i,i.return);break;case 3:if(Ys(e,i),r&64&&(e=i.updateQueue,e!==null)){if(n=null,i.child!==null)switch(i.child.tag){case 27:case 5:n=i.child.stateNode;break;case 1:n=i.child.stateNode}try{rm(e,n)}catch(g){Xt(i,i.return,g)}}break;case 27:n===null&&r&4&&T_(i);case 26:case 5:Ys(e,i),n===null&&r&4&&x_(i),r&512&&Yr(i,i.return);break;case 12:Ys(e,i);break;case 13:Ys(e,i),r&4&&C_(e,i),r&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=r1.bind(null,i),w1(e,i))));break;case 22:if(r=i.memoizedState!==null||xs,!r){n=n!==null&&n.memoizedState!==null||he,c=xs;var h=he;xs=r,(he=n)&&!h?Xs(e,i,(i.subtreeFlags&8772)!==0):Ys(e,i),xs=c,he=h}break;case 30:break;default:Ys(e,i)}}function E_(e){var n=e.alternate;n!==null&&(e.alternate=null,E_(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Wc(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Jt=null,sn=!1;function Ss(e,n,i){for(i=i.child;i!==null;)D_(e,n,i),i=i.sibling}function D_(e,n,i){if(Ie&&typeof Ie.onCommitFiberUnmount=="function")try{Ie.onCommitFiberUnmount(cs,i)}catch{}switch(i.tag){case 26:he||es(i,n),Ss(e,n,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:he||es(i,n);var r=Jt,c=sn;Js(i.type)&&(Jt=i.stateNode,sn=!1),Ss(e,n,i),to(i.stateNode),Jt=r,sn=c;break;case 5:he||es(i,n);case 6:if(r=Jt,c=sn,Jt=null,Ss(e,n,i),Jt=r,sn=c,Jt!==null)if(sn)try{(Jt.nodeType===9?Jt.body:Jt.nodeName==="HTML"?Jt.ownerDocument.body:Jt).removeChild(i.stateNode)}catch(h){Xt(i,n,h)}else try{Jt.removeChild(i.stateNode)}catch(h){Xt(i,n,h)}break;case 18:Jt!==null&&(sn?(e=Jt,mg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),lo(e)):mg(Jt,i.stateNode));break;case 4:r=Jt,c=sn,Jt=i.stateNode.containerInfo,sn=!0,Ss(e,n,i),Jt=r,sn=c;break;case 0:case 11:case 14:case 15:he||Is(2,i,n),he||Is(4,i,n),Ss(e,n,i);break;case 1:he||(es(i,n),r=i.stateNode,typeof r.componentWillUnmount=="function"&&b_(i,n,r)),Ss(e,n,i);break;case 21:Ss(e,n,i);break;case 22:he=(r=he)||i.memoizedState!==null,Ss(e,n,i),he=r;break;default:Ss(e,n,i)}}function C_(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{lo(e)}catch(i){Xt(n,n.return,i)}}function J0(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new w_),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new w_),n;default:throw Error(a(435,e.tag))}}function gh(e,n){var i=J0(e);n.forEach(function(r){var c=o1.bind(null,e,r);i.has(r)||(i.add(r),r.then(c,c))})}function hn(e,n){var i=n.deletions;if(i!==null)for(var r=0;r<i.length;r++){var c=i[r],h=e,g=n,v=g;t:for(;v!==null;){switch(v.tag){case 27:if(Js(v.type)){Jt=v.stateNode,sn=!1;break t}break;case 5:Jt=v.stateNode,sn=!1;break t;case 3:case 4:Jt=v.stateNode.containerInfo,sn=!0;break t}v=v.return}if(Jt===null)throw Error(a(160));D_(h,g,c),Jt=null,sn=!1,h=c.alternate,h!==null&&(h.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)O_(n,e),n=n.sibling}var Ln=null;function O_(e,n){var i=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:hn(n,e),fn(e),r&4&&(Is(3,e,e.return),Ir(3,e),Is(5,e,e.return));break;case 1:hn(n,e),fn(e),r&512&&(he||i===null||es(i,i.return)),r&64&&xs&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?r:i.concat(r))));break;case 26:var c=Ln;if(hn(n,e),fn(e),r&512&&(he||i===null||es(i,i.return)),r&4){var h=i!==null?i.memoizedState:null;if(r=e.memoizedState,i===null)if(r===null)if(e.stateNode===null){t:{r=e.type,i=e.memoizedProps,c=c.ownerDocument||c;e:switch(r){case"title":h=c.getElementsByTagName("title")[0],(!h||h[mr]||h[Le]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=c.createElement(r),c.head.insertBefore(h,c.querySelector("head > title"))),qe(h,r,i),h[Le]=e,Te(h),r=h;break t;case"link":var g=Tg("link","href",c).get(r+(i.href||""));if(g){for(var v=0;v<g.length;v++)if(h=g[v],h.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&h.getAttribute("rel")===(i.rel==null?null:i.rel)&&h.getAttribute("title")===(i.title==null?null:i.title)&&h.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){g.splice(v,1);break e}}h=c.createElement(r),qe(h,r,i),c.head.appendChild(h);break;case"meta":if(g=Tg("meta","content",c).get(r+(i.content||""))){for(v=0;v<g.length;v++)if(h=g[v],h.getAttribute("content")===(i.content==null?null:""+i.content)&&h.getAttribute("name")===(i.name==null?null:i.name)&&h.getAttribute("property")===(i.property==null?null:i.property)&&h.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&h.getAttribute("charset")===(i.charSet==null?null:i.charSet)){g.splice(v,1);break e}}h=c.createElement(r),qe(h,r,i),c.head.appendChild(h);break;default:throw Error(a(468,r))}h[Le]=e,Te(h),r=h}e.stateNode=r}else wg(c,e.type,e.stateNode);else e.stateNode=Sg(c,r,e.memoizedProps);else h!==r?(h===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):h.count--,r===null?wg(c,e.type,e.stateNode):Sg(c,r,e.memoizedProps)):r===null&&e.stateNode!==null&&dh(e,e.memoizedProps,i.memoizedProps)}break;case 27:hn(n,e),fn(e),r&512&&(he||i===null||es(i,i.return)),i!==null&&r&4&&dh(e,e.memoizedProps,i.memoizedProps);break;case 5:if(hn(n,e),fn(e),r&512&&(he||i===null||es(i,i.return)),e.flags&32){c=e.stateNode;try{ia(c,"")}catch(H){Xt(e,e.return,H)}}r&4&&e.stateNode!=null&&(c=e.memoizedProps,dh(e,c,i!==null?i.memoizedProps:c)),r&1024&&(_h=!0);break;case 6:if(hn(n,e),fn(e),r&4){if(e.stateNode===null)throw Error(a(162));r=e.memoizedProps,i=e.stateNode;try{i.nodeValue=r}catch(H){Xt(e,e.return,H)}}break;case 3:if(Wl=null,c=Ln,Ln=Ql(n.containerInfo),hn(n,e),Ln=c,fn(e),r&4&&i!==null&&i.memoizedState.isDehydrated)try{lo(n.containerInfo)}catch(H){Xt(e,e.return,H)}_h&&(_h=!1,M_(e));break;case 4:r=Ln,Ln=Ql(e.stateNode.containerInfo),hn(n,e),fn(e),Ln=r;break;case 12:hn(n,e),fn(e);break;case 13:hn(n,e),fn(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Th=kt()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,gh(e,r)));break;case 22:c=e.memoizedState!==null;var C=i!==null&&i.memoizedState!==null,j=xs,Z=he;if(xs=j||c,he=Z||C,hn(n,e),he=Z,xs=j,fn(e),r&8192)t:for(n=e.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(i===null||C||xs||he||zi(e)),i=null,n=e;;){if(n.tag===5||n.tag===26){if(i===null){C=i=n;try{if(h=C.stateNode,c)g=h.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{v=C.stateNode;var K=C.memoizedProps.style,F=K!=null&&K.hasOwnProperty("display")?K.display:null;v.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(H){Xt(C,C.return,H)}}}else if(n.tag===6){if(i===null){C=n;try{C.stateNode.nodeValue=c?"":C.memoizedProps}catch(H){Xt(C,C.return,H)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;i===n&&(i=null),n=n.return}i===n&&(i=null),n.sibling.return=n.return,n=n.sibling}r&4&&(r=e.updateQueue,r!==null&&(i=r.retryQueue,i!==null&&(r.retryQueue=null,gh(e,i))));break;case 19:hn(n,e),fn(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,gh(e,r)));break;case 30:break;case 21:break;default:hn(n,e),fn(e)}}function fn(e){var n=e.flags;if(n&2){try{for(var i,r=e.return;r!==null;){if(S_(r)){i=r;break}r=r.return}if(i==null)throw Error(a(160));switch(i.tag){case 27:var c=i.stateNode,h=ph(e);ql(e,h,c);break;case 5:var g=i.stateNode;i.flags&32&&(ia(g,""),i.flags&=-33);var v=ph(e);ql(e,v,g);break;case 3:case 4:var C=i.stateNode.containerInfo,j=ph(e);mh(e,j,C);break;default:throw Error(a(161))}}catch(Z){Xt(e,e.return,Z)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function M_(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;M_(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Ys(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)A_(e,n.alternate,n),n=n.sibling}function zi(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Is(4,n,n.return),zi(n);break;case 1:es(n,n.return);var i=n.stateNode;typeof i.componentWillUnmount=="function"&&b_(n,n.return,i),zi(n);break;case 27:to(n.stateNode);case 26:case 5:es(n,n.return),zi(n);break;case 22:n.memoizedState===null&&zi(n);break;case 30:zi(n);break;default:zi(n)}e=e.sibling}}function Xs(e,n,i){for(i=i&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var r=n.alternate,c=e,h=n,g=h.flags;switch(h.tag){case 0:case 11:case 15:Xs(c,h,i),Ir(4,h);break;case 1:if(Xs(c,h,i),r=h,c=r.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(j){Xt(r,r.return,j)}if(r=h,c=r.updateQueue,c!==null){var v=r.stateNode;try{var C=c.shared.hiddenCallbacks;if(C!==null)for(c.shared.hiddenCallbacks=null,c=0;c<C.length;c++)am(C[c],v)}catch(j){Xt(r,r.return,j)}}i&&g&64&&v_(h),Yr(h,h.return);break;case 27:T_(h);case 26:case 5:Xs(c,h,i),i&&r===null&&g&4&&x_(h),Yr(h,h.return);break;case 12:Xs(c,h,i);break;case 13:Xs(c,h,i),i&&g&4&&C_(c,h);break;case 22:h.memoizedState===null&&Xs(c,h,i),Yr(h,h.return);break;case 30:break;default:Xs(c,h,i)}n=n.sibling}}function yh(e,n){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&Mr(i))}function vh(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Mr(e))}function ns(e,n,i,r){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)R_(e,n,i,r),n=n.sibling}function R_(e,n,i,r){var c=n.flags;switch(n.tag){case 0:case 11:case 15:ns(e,n,i,r),c&2048&&Ir(9,n);break;case 1:ns(e,n,i,r);break;case 3:ns(e,n,i,r),c&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Mr(e)));break;case 12:if(c&2048){ns(e,n,i,r),e=n.stateNode;try{var h=n.memoizedProps,g=h.id,v=h.onPostCommit;typeof v=="function"&&v(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){Xt(n,n.return,C)}}else ns(e,n,i,r);break;case 13:ns(e,n,i,r);break;case 23:break;case 22:h=n.stateNode,g=n.alternate,n.memoizedState!==null?h._visibility&2?ns(e,n,i,r):Xr(e,n):h._visibility&2?ns(e,n,i,r):(h._visibility|=2,Ta(e,n,i,r,(n.subtreeFlags&10256)!==0)),c&2048&&yh(g,n);break;case 24:ns(e,n,i,r),c&2048&&vh(n.alternate,n);break;default:ns(e,n,i,r)}}function Ta(e,n,i,r,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var h=e,g=n,v=i,C=r,j=g.flags;switch(g.tag){case 0:case 11:case 15:Ta(h,g,v,C,c),Ir(8,g);break;case 23:break;case 22:var Z=g.stateNode;g.memoizedState!==null?Z._visibility&2?Ta(h,g,v,C,c):Xr(h,g):(Z._visibility|=2,Ta(h,g,v,C,c)),c&&j&2048&&yh(g.alternate,g);break;case 24:Ta(h,g,v,C,c),c&&j&2048&&vh(g.alternate,g);break;default:Ta(h,g,v,C,c)}n=n.sibling}}function Xr(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var i=e,r=n,c=r.flags;switch(r.tag){case 22:Xr(i,r),c&2048&&yh(r.alternate,r);break;case 24:Xr(i,r),c&2048&&vh(r.alternate,r);break;default:Xr(i,r)}n=n.sibling}}var Qr=8192;function wa(e){if(e.subtreeFlags&Qr)for(e=e.child;e!==null;)N_(e),e=e.sibling}function N_(e){switch(e.tag){case 26:wa(e),e.flags&Qr&&e.memoizedState!==null&&j1(Ln,e.memoizedState,e.memoizedProps);break;case 5:wa(e);break;case 3:case 4:var n=Ln;Ln=Ql(e.stateNode.containerInfo),wa(e),Ln=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Qr,Qr=16777216,wa(e),Qr=n):wa(e));break;default:wa(e)}}function k_(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Zr(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];Ae=r,z_(r,e)}k_(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)q_(e),e=e.sibling}function q_(e){switch(e.tag){case 0:case 11:case 15:Zr(e),e.flags&2048&&Is(9,e,e.return);break;case 3:Zr(e);break;case 12:Zr(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,zl(e)):Zr(e);break;default:Zr(e)}}function zl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];Ae=r,z_(r,e)}k_(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Is(8,n,n.return),zl(n);break;case 22:i=n.stateNode,i._visibility&2&&(i._visibility&=-3,zl(n));break;default:zl(n)}e=e.sibling}}function z_(e,n){for(;Ae!==null;){var i=Ae;switch(i.tag){case 0:case 11:case 15:Is(8,i,n);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var r=i.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Mr(i.memoizedState.cache)}if(r=i.child,r!==null)r.return=i,Ae=r;else t:for(i=e;Ae!==null;){r=Ae;var c=r.sibling,h=r.return;if(E_(r),r===i){Ae=null;break t}if(c!==null){c.return=h,Ae=c;break t}Ae=h}}}var $0={getCacheForType:function(e){var n=Fe(ge),i=n.data.get(e);return i===void 0&&(i=e(),n.data.set(e,i)),i}},t1=typeof WeakMap=="function"?WeakMap:Map,Lt=0,Zt=null,Mt=null,qt=0,Ft=0,dn=null,Qs=!1,Aa=!1,bh=!1,Ts=0,re=0,Zs=0,Vi=0,xh=0,Rn=0,Ea=0,Wr=null,an=null,Sh=!1,Th=0,Vl=1/0,jl=null,Ws=null,ke=0,Ps=null,Da=null,Ca=0,wh=0,Ah=null,V_=null,Pr=0,Eh=null;function pn(){if((Lt&2)!==0&&qt!==0)return qt&-qt;if(R.T!==null){var e=ma;return e!==0?e:kh()}return Jd()}function j_(){Rn===0&&(Rn=(qt&536870912)===0||jt?Zd():536870912);var e=Mn.current;return e!==null&&(e.flags|=32),Rn}function mn(e,n,i){(e===Zt&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)&&(Oa(e,0),Ks(e,qt,Rn,!1)),pr(e,i),((Lt&2)===0||e!==Zt)&&(e===Zt&&((Lt&2)===0&&(Vi|=i),re===4&&Ks(e,qt,Rn,!1)),ss(e))}function U_(e,n,i){if((Lt&6)!==0)throw Error(a(327));var r=!i&&(n&124)===0&&(n&e.expiredLanes)===0||dr(e,n),c=r?s1(e,n):Oh(e,n,!0),h=r;do{if(c===0){Aa&&!r&&Ks(e,n,0,!1);break}else{if(i=e.current.alternate,h&&!e1(i)){c=Oh(e,n,!1),h=!1;continue}if(c===2){if(h=n,e.errorRecoveryDisabledLanes&h)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var v=e;c=Wr;var C=v.current.memoizedState.isDehydrated;if(C&&(Oa(v,g).flags|=256),g=Oh(v,g,!1),g!==2){if(bh&&!C){v.errorRecoveryDisabledLanes|=h,Vi|=h,c=4;break t}h=an,an=c,h!==null&&(an===null?an=h:an.push.apply(an,h))}c=g}if(h=!1,c!==2)continue}}if(c===1){Oa(e,0),Ks(e,n,0,!0);break}t:{switch(r=e,h=c,h){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Ks(r,n,Rn,!Qs);break t;case 2:an=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(c=Th+300-kt(),10<c)){if(Ks(r,n,Rn,!Qs),Zo(r,0,!0)!==0)break t;r.timeoutHandle=dg(B_.bind(null,r,i,an,jl,Sh,n,Rn,Vi,Ea,Qs,h,2,-0,0),c);break t}B_(r,i,an,jl,Sh,n,Rn,Vi,Ea,Qs,h,0,-0,0)}}break}while(!0);ss(e)}function B_(e,n,i,r,c,h,g,v,C,j,Z,K,F,H){if(e.timeoutHandle=-1,K=n.subtreeFlags,(K&8192||(K&16785408)===16785408)&&(so={stylesheets:null,count:0,unsuspend:V1},N_(n),K=U1(),K!==null)){e.cancelPendingCommit=K(X_.bind(null,e,n,h,i,r,c,g,v,C,Z,1,F,H)),Ks(e,h,g,!j);return}X_(e,n,h,i,r,c,g,v,C)}function e1(e){for(var n=e;;){var i=n.tag;if((i===0||i===11||i===15)&&n.flags&16384&&(i=n.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var r=0;r<i.length;r++){var c=i[r],h=c.getSnapshot;c=c.value;try{if(!cn(h(),c))return!1}catch{return!1}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ks(e,n,i,r){n&=~xh,n&=~Vi,e.suspendedLanes|=n,e.pingedLanes&=~n,r&&(e.warmLanes|=n),r=e.expirationTimes;for(var c=n;0<c;){var h=31-Ye(c),g=1<<h;r[h]=-1,c&=~g}i!==0&&Pd(e,i,n)}function Ul(){return(Lt&6)===0?(Kr(0),!1):!0}function Dh(){if(Mt!==null){if(Ft===0)var e=Mt.return;else e=Mt,ms=Mi=null,Iu(e),xa=null,Fr=0,e=Mt;for(;e!==null;)y_(e.alternate,e),e=e.return;Mt=null}}function Oa(e,n){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,v1(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),Dh(),Zt=e,Mt=i=fs(e.current,null),qt=n,Ft=0,dn=null,Qs=!1,Aa=dr(e,n),bh=!1,Ea=Rn=xh=Vi=Zs=re=0,an=Wr=null,Sh=!1,(n&8)!==0&&(n|=n&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=n;0<r;){var c=31-Ye(r),h=1<<c;n|=e[c],r&=~h}return Ts=n,rl(),i}function L_(e,n){Et=null,R.H=Al,n===Nr||n===ml?(n=sm(),Ft=3):n===tm?(n=sm(),Ft=4):Ft=n===i_?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,dn=n,Mt===null&&(re=1,Ml(e,En(n,e.current)))}function F_(){var e=R.H;return R.H=Al,e===null?Al:e}function G_(){var e=R.A;return R.A=$0,e}function Ch(){re=4,Qs||(qt&4194048)!==qt&&Mn.current!==null||(Aa=!0),(Zs&134217727)===0&&(Vi&134217727)===0||Zt===null||Ks(Zt,qt,Rn,!1)}function Oh(e,n,i){var r=Lt;Lt|=2;var c=F_(),h=G_();(Zt!==e||qt!==n)&&(jl=null,Oa(e,n)),n=!1;var g=re;t:do try{if(Ft!==0&&Mt!==null){var v=Mt,C=dn;switch(Ft){case 8:Dh(),g=6;break t;case 3:case 2:case 9:case 6:Mn.current===null&&(n=!0);var j=Ft;if(Ft=0,dn=null,Ma(e,v,C,j),i&&Aa){g=0;break t}break;default:j=Ft,Ft=0,dn=null,Ma(e,v,C,j)}}n1(),g=re;break}catch(Z){L_(e,Z)}while(!0);return n&&e.shellSuspendCounter++,ms=Mi=null,Lt=r,R.H=c,R.A=h,Mt===null&&(Zt=null,qt=0,rl()),g}function n1(){for(;Mt!==null;)H_(Mt)}function s1(e,n){var i=Lt;Lt|=2;var r=F_(),c=G_();Zt!==e||qt!==n?(jl=null,Vl=kt()+500,Oa(e,n)):Aa=dr(e,n);t:do try{if(Ft!==0&&Mt!==null){n=Mt;var h=dn;e:switch(Ft){case 1:Ft=0,dn=null,Ma(e,n,h,1);break;case 2:case 9:if(em(h)){Ft=0,dn=null,I_(n);break}n=function(){Ft!==2&&Ft!==9||Zt!==e||(Ft=7),ss(e)},h.then(n,n);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:em(h)?(Ft=0,dn=null,I_(n)):(Ft=0,dn=null,Ma(e,n,h,7));break;case 5:var g=null;switch(Mt.tag){case 26:g=Mt.memoizedState;case 5:case 27:var v=Mt;if(!g||Ag(g)){Ft=0,dn=null;var C=v.sibling;if(C!==null)Mt=C;else{var j=v.return;j!==null?(Mt=j,Bl(j)):Mt=null}break e}}Ft=0,dn=null,Ma(e,n,h,5);break;case 6:Ft=0,dn=null,Ma(e,n,h,6);break;case 8:Dh(),re=6;break t;default:throw Error(a(462))}}i1();break}catch(Z){L_(e,Z)}while(!0);return ms=Mi=null,R.H=r,R.A=c,Lt=i,Mt!==null?0:(Zt=null,qt=0,rl(),re)}function i1(){for(;Mt!==null&&!ut();)H_(Mt)}function H_(e){var n=__(e.alternate,e,Ts);e.memoizedProps=e.pendingProps,n===null?Bl(e):Mt=n}function I_(e){var n=e,i=n.alternate;switch(n.tag){case 15:case 0:n=u_(i,n,n.pendingProps,n.type,void 0,qt);break;case 11:n=u_(i,n,n.pendingProps,n.type.render,n.ref,qt);break;case 5:Iu(n);default:y_(i,n),n=Mt=Yp(n,Ts),n=__(i,n,Ts)}e.memoizedProps=e.pendingProps,n===null?Bl(e):Mt=n}function Ma(e,n,i,r){ms=Mi=null,Iu(n),xa=null,Fr=0;var c=n.return;try{if(Q0(e,c,n,i,qt)){re=1,Ml(e,En(i,e.current)),Mt=null;return}}catch(h){if(c!==null)throw Mt=c,h;re=1,Ml(e,En(i,e.current)),Mt=null;return}n.flags&32768?(jt||r===1?e=!0:Aa||(qt&536870912)!==0?e=!1:(Qs=e=!0,(r===2||r===9||r===3||r===6)&&(r=Mn.current,r!==null&&r.tag===13&&(r.flags|=16384))),Y_(n,e)):Bl(n)}function Bl(e){var n=e;do{if((n.flags&32768)!==0){Y_(n,Qs);return}e=n.return;var i=W0(n.alternate,n,Ts);if(i!==null){Mt=i;return}if(n=n.sibling,n!==null){Mt=n;return}Mt=n=e}while(n!==null);re===0&&(re=5)}function Y_(e,n){do{var i=P0(e.alternate,e);if(i!==null){i.flags&=32767,Mt=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!n&&(e=e.sibling,e!==null)){Mt=e;return}Mt=e=i}while(e!==null);re=6,Mt=null}function X_(e,n,i,r,c,h,g,v,C){e.cancelPendingCommit=null;do Ll();while(ke!==0);if((Lt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(h=n.lanes|n.childLanes,h|=vu,Vv(e,i,h,g,v,C),e===Zt&&(Mt=Zt=null,qt=0),Da=n,Ps=e,Ca=i,wh=h,Ah=c,V_=r,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,l1(ce,function(){return K_(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||r){r=R.T,R.T=null,c=Y.p,Y.p=2,g=Lt,Lt|=4;try{K0(e,n,i)}finally{Lt=g,Y.p=c,R.T=r}}ke=1,Q_(),Z_(),W_()}}function Q_(){if(ke===1){ke=0;var e=Ps,n=Da,i=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||i){i=R.T,R.T=null;var r=Y.p;Y.p=2;var c=Lt;Lt|=4;try{O_(n,e);var h=Fh,g=zp(e.containerInfo),v=h.focusedElem,C=h.selectionRange;if(g!==v&&v&&v.ownerDocument&&qp(v.ownerDocument.documentElement,v)){if(C!==null&&pu(v)){var j=C.start,Z=C.end;if(Z===void 0&&(Z=j),"selectionStart"in v)v.selectionStart=j,v.selectionEnd=Math.min(Z,v.value.length);else{var K=v.ownerDocument||document,F=K&&K.defaultView||window;if(F.getSelection){var H=F.getSelection(),St=v.textContent.length,bt=Math.min(C.start,St),It=C.end===void 0?bt:Math.min(C.end,St);!H.extend&&bt>It&&(g=It,It=bt,bt=g);var q=kp(v,bt),N=kp(v,It);if(q&&N&&(H.rangeCount!==1||H.anchorNode!==q.node||H.anchorOffset!==q.offset||H.focusNode!==N.node||H.focusOffset!==N.offset)){var V=K.createRange();V.setStart(q.node,q.offset),H.removeAllRanges(),bt>It?(H.addRange(V),H.extend(N.node,N.offset)):(V.setEnd(N.node,N.offset),H.addRange(V))}}}}for(K=[],H=v;H=H.parentNode;)H.nodeType===1&&K.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<K.length;v++){var P=K[v];P.element.scrollLeft=P.left,P.element.scrollTop=P.top}}Jl=!!Lh,Fh=Lh=null}finally{Lt=c,Y.p=r,R.T=i}}e.current=n,ke=2}}function Z_(){if(ke===2){ke=0;var e=Ps,n=Da,i=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||i){i=R.T,R.T=null;var r=Y.p;Y.p=2;var c=Lt;Lt|=4;try{A_(e,n.alternate,n)}finally{Lt=c,Y.p=r,R.T=i}}ke=3}}function W_(){if(ke===4||ke===3){ke=0,yt();var e=Ps,n=Da,i=Ca,r=V_;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ke=5:(ke=0,Da=Ps=null,P_(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(Ws=null),Qc(i),n=n.stateNode,Ie&&typeof Ie.onCommitFiberRoot=="function")try{Ie.onCommitFiberRoot(cs,n,void 0,(n.current.flags&128)===128)}catch{}if(r!==null){n=R.T,c=Y.p,Y.p=2,R.T=null;try{for(var h=e.onRecoverableError,g=0;g<r.length;g++){var v=r[g];h(v.value,{componentStack:v.stack})}}finally{R.T=n,Y.p=c}}(Ca&3)!==0&&Ll(),ss(e),c=e.pendingLanes,(i&4194090)!==0&&(c&42)!==0?e===Eh?Pr++:(Pr=0,Eh=e):Pr=0,Kr(0)}}function P_(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Mr(n)))}function Ll(e){return Q_(),Z_(),W_(),K_()}function K_(){if(ke!==5)return!1;var e=Ps,n=wh;wh=0;var i=Qc(Ca),r=R.T,c=Y.p;try{Y.p=32>i?32:i,R.T=null,i=Ah,Ah=null;var h=Ps,g=Ca;if(ke=0,Da=Ps=null,Ca=0,(Lt&6)!==0)throw Error(a(331));var v=Lt;if(Lt|=4,q_(h.current),R_(h,h.current,g,i),Lt=v,Kr(0,!1),Ie&&typeof Ie.onPostCommitFiberRoot=="function")try{Ie.onPostCommitFiberRoot(cs,h)}catch{}return!0}finally{Y.p=c,R.T=r,P_(e,n)}}function J_(e,n,i){n=En(i,n),n=ih(e.stateNode,n,2),e=Ls(e,n,2),e!==null&&(pr(e,2),ss(e))}function Xt(e,n,i){if(e.tag===3)J_(e,e,i);else for(;n!==null;){if(n.tag===3){J_(n,e,i);break}else if(n.tag===1){var r=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ws===null||!Ws.has(r))){e=En(i,e),i=n_(2),r=Ls(n,i,2),r!==null&&(s_(i,r,n,e),pr(r,2),ss(r));break}}n=n.return}}function Mh(e,n,i){var r=e.pingCache;if(r===null){r=e.pingCache=new t1;var c=new Set;r.set(n,c)}else c=r.get(n),c===void 0&&(c=new Set,r.set(n,c));c.has(i)||(bh=!0,c.add(i),e=a1.bind(null,e,n,i),n.then(e,e))}function a1(e,n,i){var r=e.pingCache;r!==null&&r.delete(n),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,Zt===e&&(qt&i)===i&&(re===4||re===3&&(qt&62914560)===qt&&300>kt()-Th?(Lt&2)===0&&Oa(e,0):xh|=i,Ea===qt&&(Ea=0)),ss(e)}function $_(e,n){n===0&&(n=Wd()),e=ha(e,n),e!==null&&(pr(e,n),ss(e))}function r1(e){var n=e.memoizedState,i=0;n!==null&&(i=n.retryLane),$_(e,i)}function o1(e,n){var i=0;switch(e.tag){case 13:var r=e.stateNode,c=e.memoizedState;c!==null&&(i=c.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(a(314))}r!==null&&r.delete(n),$_(e,i)}function l1(e,n){return jn(e,n)}var Fl=null,Ra=null,Rh=!1,Gl=!1,Nh=!1,ji=0;function ss(e){e!==Ra&&e.next===null&&(Ra===null?Fl=Ra=e:Ra=Ra.next=e),Gl=!0,Rh||(Rh=!0,u1())}function Kr(e,n){if(!Nh&&Gl){Nh=!0;do for(var i=!1,r=Fl;r!==null;){if(e!==0){var c=r.pendingLanes;if(c===0)var h=0;else{var g=r.suspendedLanes,v=r.pingedLanes;h=(1<<31-Ye(42|e)+1)-1,h&=c&~(g&~v),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(i=!0,sg(r,h))}else h=qt,h=Zo(r,r===Zt?h:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(h&3)===0||dr(r,h)||(i=!0,sg(r,h));r=r.next}while(i);Nh=!1}}function c1(){tg()}function tg(){Gl=Rh=!1;var e=0;ji!==0&&(y1()&&(e=ji),ji=0);for(var n=kt(),i=null,r=Fl;r!==null;){var c=r.next,h=eg(r,n);h===0?(r.next=null,i===null?Fl=c:i.next=c,c===null&&(Ra=i)):(i=r,(e!==0||(h&3)!==0)&&(Gl=!0)),r=c}Kr(e)}function eg(e,n){for(var i=e.suspendedLanes,r=e.pingedLanes,c=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var g=31-Ye(h),v=1<<g,C=c[g];C===-1?((v&i)===0||(v&r)!==0)&&(c[g]=zv(v,n)):C<=n&&(e.expiredLanes|=v),h&=~v}if(n=Zt,i=qt,i=Zo(e,e===n?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,i===0||e===n&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&Pn(r),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||dr(e,i)){if(n=i&-i,n===e.callbackPriority)return n;switch(r!==null&&Pn(r),Qc(i)){case 2:case 8:i=Bt;break;case 32:i=ce;break;case 268435456:i=Kn;break;default:i=ce}return r=ng.bind(null,e),i=jn(i,r),e.callbackPriority=n,e.callbackNode=i,n}return r!==null&&r!==null&&Pn(r),e.callbackPriority=2,e.callbackNode=null,2}function ng(e,n){if(ke!==0&&ke!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(Ll()&&e.callbackNode!==i)return null;var r=qt;return r=Zo(e,e===Zt?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(U_(e,r,n),eg(e,kt()),e.callbackNode!=null&&e.callbackNode===i?ng.bind(null,e):null)}function sg(e,n){if(Ll())return null;U_(e,n,!0)}function u1(){b1(function(){(Lt&6)!==0?jn(Ct,c1):tg()})}function kh(){return ji===0&&(ji=Zd()),ji}function ig(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:$o(""+e)}function ag(e,n){var i=n.ownerDocument.createElement("input");return i.name=n.name,i.value=n.value,e.id&&i.setAttribute("form",e.id),n.parentNode.insertBefore(i,n),e=new FormData(e),i.parentNode.removeChild(i),e}function h1(e,n,i,r,c){if(n==="submit"&&i&&i.stateNode===c){var h=ig((c[tn]||null).action),g=r.submitter;g&&(n=(n=g[tn]||null)?ig(n.formAction):g.getAttribute("formAction"),n!==null&&(h=n,g=null));var v=new sl("action","action",null,r,c);e.push({event:v,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(ji!==0){var C=g?ag(c,g):new FormData(c);$u(i,{pending:!0,data:C,method:c.method,action:h},null,C)}}else typeof h=="function"&&(v.preventDefault(),C=g?ag(c,g):new FormData(c),$u(i,{pending:!0,data:C,method:c.method,action:h},h,C))},currentTarget:c}]})}}for(var qh=0;qh<yu.length;qh++){var zh=yu[qh],f1=zh.toLowerCase(),d1=zh[0].toUpperCase()+zh.slice(1);Bn(f1,"on"+d1)}Bn(Up,"onAnimationEnd"),Bn(Bp,"onAnimationIteration"),Bn(Lp,"onAnimationStart"),Bn("dblclick","onDoubleClick"),Bn("focusin","onFocus"),Bn("focusout","onBlur"),Bn(M0,"onTransitionRun"),Bn(R0,"onTransitionStart"),Bn(N0,"onTransitionCancel"),Bn(Fp,"onTransitionEnd"),ea("onMouseEnter",["mouseout","mouseover"]),ea("onMouseLeave",["mouseout","mouseover"]),ea("onPointerEnter",["pointerout","pointerover"]),ea("onPointerLeave",["pointerout","pointerover"]),xi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xi("onBeforeInput",["compositionend","keypress","textInput","paste"]),xi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),p1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Jr));function rg(e,n){n=(n&4)!==0;for(var i=0;i<e.length;i++){var r=e[i],c=r.event;r=r.listeners;t:{var h=void 0;if(n)for(var g=r.length-1;0<=g;g--){var v=r[g],C=v.instance,j=v.currentTarget;if(v=v.listener,C!==h&&c.isPropagationStopped())break t;h=v,c.currentTarget=j;try{h(c)}catch(Z){Ol(Z)}c.currentTarget=null,h=C}else for(g=0;g<r.length;g++){if(v=r[g],C=v.instance,j=v.currentTarget,v=v.listener,C!==h&&c.isPropagationStopped())break t;h=v,c.currentTarget=j;try{h(c)}catch(Z){Ol(Z)}c.currentTarget=null,h=C}}}}function Rt(e,n){var i=n[Zc];i===void 0&&(i=n[Zc]=new Set);var r=e+"__bubble";i.has(r)||(og(n,e,2,!1),i.add(r))}function Vh(e,n,i){var r=0;n&&(r|=4),og(i,e,r,n)}var Hl="_reactListening"+Math.random().toString(36).slice(2);function jh(e){if(!e[Hl]){e[Hl]=!0,tp.forEach(function(i){i!=="selectionchange"&&(p1.has(i)||Vh(i,!1,e),Vh(i,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Hl]||(n[Hl]=!0,Vh("selectionchange",!1,n))}}function og(e,n,i,r){switch(Rg(n)){case 2:var c=F1;break;case 8:c=G1;break;default:c=Kh}i=c.bind(null,n,i,e),c=void 0,!au||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),r?c!==void 0?e.addEventListener(n,i,{capture:!0,passive:c}):e.addEventListener(n,i,!0):c!==void 0?e.addEventListener(n,i,{passive:c}):e.addEventListener(n,i,!1)}function Uh(e,n,i,r,c){var h=r;if((n&1)===0&&(n&2)===0&&r!==null)t:for(;;){if(r===null)return;var g=r.tag;if(g===3||g===4){var v=r.stateNode.containerInfo;if(v===c)break;if(g===4)for(g=r.return;g!==null;){var C=g.tag;if((C===3||C===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;v!==null;){if(g=Ji(v),g===null)return;if(C=g.tag,C===5||C===6||C===26||C===27){r=h=g;continue t}v=v.parentNode}}r=r.return}pp(function(){var j=h,Z=su(i),K=[];t:{var F=Gp.get(e);if(F!==void 0){var H=sl,St=e;switch(e){case"keypress":if(el(i)===0)break t;case"keydown":case"keyup":H=l0;break;case"focusin":St="focus",H=cu;break;case"focusout":St="blur",H=cu;break;case"beforeblur":case"afterblur":H=cu;break;case"click":if(i.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=gp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Pv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=h0;break;case Up:case Bp:case Lp:H=$v;break;case Fp:H=d0;break;case"scroll":case"scrollend":H=Zv;break;case"wheel":H=m0;break;case"copy":case"cut":case"paste":H=e0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=vp;break;case"toggle":case"beforetoggle":H=g0}var bt=(n&4)!==0,It=!bt&&(e==="scroll"||e==="scrollend"),q=bt?F!==null?F+"Capture":null:F;bt=[];for(var N=j,V;N!==null;){var P=N;if(V=P.stateNode,P=P.tag,P!==5&&P!==26&&P!==27||V===null||q===null||(P=gr(N,q),P!=null&&bt.push($r(N,P,V))),It)break;N=N.return}0<bt.length&&(F=new H(F,St,null,i,Z),K.push({event:F,listeners:bt}))}}if((n&7)===0){t:{if(F=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",F&&i!==nu&&(St=i.relatedTarget||i.fromElement)&&(Ji(St)||St[Ki]))break t;if((H||F)&&(F=Z.window===Z?Z:(F=Z.ownerDocument)?F.defaultView||F.parentWindow:window,H?(St=i.relatedTarget||i.toElement,H=j,St=St?Ji(St):null,St!==null&&(It=u(St),bt=St.tag,St!==It||bt!==5&&bt!==27&&bt!==6)&&(St=null)):(H=null,St=j),H!==St)){if(bt=gp,P="onMouseLeave",q="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(bt=vp,P="onPointerLeave",q="onPointerEnter",N="pointer"),It=H==null?F:_r(H),V=St==null?F:_r(St),F=new bt(P,N+"leave",H,i,Z),F.target=It,F.relatedTarget=V,P=null,Ji(Z)===j&&(bt=new bt(q,N+"enter",St,i,Z),bt.target=V,bt.relatedTarget=It,P=bt),It=P,H&&St)e:{for(bt=H,q=St,N=0,V=bt;V;V=Na(V))N++;for(V=0,P=q;P;P=Na(P))V++;for(;0<N-V;)bt=Na(bt),N--;for(;0<V-N;)q=Na(q),V--;for(;N--;){if(bt===q||q!==null&&bt===q.alternate)break e;bt=Na(bt),q=Na(q)}bt=null}else bt=null;H!==null&&lg(K,F,H,bt,!1),St!==null&&It!==null&&lg(K,It,St,bt,!0)}}t:{if(F=j?_r(j):window,H=F.nodeName&&F.nodeName.toLowerCase(),H==="select"||H==="input"&&F.type==="file")var ft=Dp;else if(Ap(F))if(Cp)ft=D0;else{ft=A0;var Ot=w0}else H=F.nodeName,!H||H.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?j&&eu(j.elementType)&&(ft=Dp):ft=E0;if(ft&&(ft=ft(e,j))){Ep(K,ft,i,Z);break t}Ot&&Ot(e,F,j),e==="focusout"&&j&&F.type==="number"&&j.memoizedProps.value!=null&&tu(F,"number",F.value)}switch(Ot=j?_r(j):window,e){case"focusin":(Ap(Ot)||Ot.contentEditable==="true")&&(la=Ot,mu=j,Ar=null);break;case"focusout":Ar=mu=la=null;break;case"mousedown":_u=!0;break;case"contextmenu":case"mouseup":case"dragend":_u=!1,Vp(K,i,Z);break;case"selectionchange":if(O0)break;case"keydown":case"keyup":Vp(K,i,Z)}var _t;if(hu)t:{switch(e){case"compositionstart":var xt="onCompositionStart";break t;case"compositionend":xt="onCompositionEnd";break t;case"compositionupdate":xt="onCompositionUpdate";break t}xt=void 0}else oa?Tp(e,i)&&(xt="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(xt="onCompositionStart");xt&&(bp&&i.locale!=="ko"&&(oa||xt!=="onCompositionStart"?xt==="onCompositionEnd"&&oa&&(_t=mp()):(Vs=Z,ru="value"in Vs?Vs.value:Vs.textContent,oa=!0)),Ot=Il(j,xt),0<Ot.length&&(xt=new yp(xt,e,null,i,Z),K.push({event:xt,listeners:Ot}),_t?xt.data=_t:(_t=wp(i),_t!==null&&(xt.data=_t)))),(_t=v0?b0(e,i):x0(e,i))&&(xt=Il(j,"onBeforeInput"),0<xt.length&&(Ot=new yp("onBeforeInput","beforeinput",null,i,Z),K.push({event:Ot,listeners:xt}),Ot.data=_t)),h1(K,e,j,i,Z)}rg(K,n)})}function $r(e,n,i){return{instance:e,listener:n,currentTarget:i}}function Il(e,n){for(var i=n+"Capture",r=[];e!==null;){var c=e,h=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||h===null||(c=gr(e,i),c!=null&&r.unshift($r(e,c,h)),c=gr(e,n),c!=null&&r.push($r(e,c,h))),e.tag===3)return r;e=e.return}return[]}function Na(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function lg(e,n,i,r,c){for(var h=n._reactName,g=[];i!==null&&i!==r;){var v=i,C=v.alternate,j=v.stateNode;if(v=v.tag,C!==null&&C===r)break;v!==5&&v!==26&&v!==27||j===null||(C=j,c?(j=gr(i,h),j!=null&&g.unshift($r(i,j,C))):c||(j=gr(i,h),j!=null&&g.push($r(i,j,C)))),i=i.return}g.length!==0&&e.push({event:n,listeners:g})}var m1=/\r\n?/g,_1=/\u0000|\uFFFD/g;function cg(e){return(typeof e=="string"?e:""+e).replace(m1,`
`).replace(_1,"")}function ug(e,n){return n=cg(n),cg(e)===n}function Yl(){}function Ht(e,n,i,r,c,h){switch(i){case"children":typeof r=="string"?n==="body"||n==="textarea"&&r===""||ia(e,r):(typeof r=="number"||typeof r=="bigint")&&n!=="body"&&ia(e,""+r);break;case"className":Po(e,"class",r);break;case"tabIndex":Po(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Po(e,i,r);break;case"style":fp(e,r,h);break;case"data":if(n!=="object"){Po(e,"data",r);break}case"src":case"href":if(r===""&&(n!=="a"||i!=="href")){e.removeAttribute(i);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(i);break}r=$o(""+r),e.setAttribute(i,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(i==="formAction"?(n!=="input"&&Ht(e,n,"name",c.name,c,null),Ht(e,n,"formEncType",c.formEncType,c,null),Ht(e,n,"formMethod",c.formMethod,c,null),Ht(e,n,"formTarget",c.formTarget,c,null)):(Ht(e,n,"encType",c.encType,c,null),Ht(e,n,"method",c.method,c,null),Ht(e,n,"target",c.target,c,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(i);break}r=$o(""+r),e.setAttribute(i,r);break;case"onClick":r!=null&&(e.onclick=Yl);break;case"onScroll":r!=null&&Rt("scroll",e);break;case"onScrollEnd":r!=null&&Rt("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(a(61));if(i=r.__html,i!=null){if(c.children!=null)throw Error(a(60));e.innerHTML=i}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}i=$o(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(i,""+r):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":r===!0?e.setAttribute(i,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(i,r):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(i,r):e.removeAttribute(i);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(i):e.setAttribute(i,r);break;case"popover":Rt("beforetoggle",e),Rt("toggle",e),Wo(e,"popover",r);break;case"xlinkActuate":us(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":us(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":us(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":us(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":us(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":us(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":us(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":us(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":us(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Wo(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=Xv.get(i)||i,Wo(e,i,r))}}function Bh(e,n,i,r,c,h){switch(i){case"style":fp(e,r,h);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(a(61));if(i=r.__html,i!=null){if(c.children!=null)throw Error(a(60));e.innerHTML=i}}break;case"children":typeof r=="string"?ia(e,r):(typeof r=="number"||typeof r=="bigint")&&ia(e,""+r);break;case"onScroll":r!=null&&Rt("scroll",e);break;case"onScrollEnd":r!=null&&Rt("scrollend",e);break;case"onClick":r!=null&&(e.onclick=Yl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ep.hasOwnProperty(i))t:{if(i[0]==="o"&&i[1]==="n"&&(c=i.endsWith("Capture"),n=i.slice(2,c?i.length-7:void 0),h=e[tn]||null,h=h!=null?h[i]:null,typeof h=="function"&&e.removeEventListener(n,h,c),typeof r=="function")){typeof h!="function"&&h!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(n,r,c);break t}i in e?e[i]=r:r===!0?e.setAttribute(i,""):Wo(e,i,r)}}}function qe(e,n,i){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Rt("error",e),Rt("load",e);var r=!1,c=!1,h;for(h in i)if(i.hasOwnProperty(h)){var g=i[h];if(g!=null)switch(h){case"src":r=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ht(e,n,h,g,i,null)}}c&&Ht(e,n,"srcSet",i.srcSet,i,null),r&&Ht(e,n,"src",i.src,i,null);return;case"input":Rt("invalid",e);var v=h=g=c=null,C=null,j=null;for(r in i)if(i.hasOwnProperty(r)){var Z=i[r];if(Z!=null)switch(r){case"name":c=Z;break;case"type":g=Z;break;case"checked":C=Z;break;case"defaultChecked":j=Z;break;case"value":h=Z;break;case"defaultValue":v=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(a(137,n));break;default:Ht(e,n,r,Z,i,null)}}lp(e,h,v,C,j,g,c,!1),Ko(e);return;case"select":Rt("invalid",e),r=g=h=null;for(c in i)if(i.hasOwnProperty(c)&&(v=i[c],v!=null))switch(c){case"value":h=v;break;case"defaultValue":g=v;break;case"multiple":r=v;default:Ht(e,n,c,v,i,null)}n=h,i=g,e.multiple=!!r,n!=null?sa(e,!!r,n,!1):i!=null&&sa(e,!!r,i,!0);return;case"textarea":Rt("invalid",e),h=c=r=null;for(g in i)if(i.hasOwnProperty(g)&&(v=i[g],v!=null))switch(g){case"value":r=v;break;case"defaultValue":c=v;break;case"children":h=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(a(91));break;default:Ht(e,n,g,v,i,null)}up(e,r,c,h),Ko(e);return;case"option":for(C in i)if(i.hasOwnProperty(C)&&(r=i[C],r!=null))switch(C){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Ht(e,n,C,r,i,null)}return;case"dialog":Rt("beforetoggle",e),Rt("toggle",e),Rt("cancel",e),Rt("close",e);break;case"iframe":case"object":Rt("load",e);break;case"video":case"audio":for(r=0;r<Jr.length;r++)Rt(Jr[r],e);break;case"image":Rt("error",e),Rt("load",e);break;case"details":Rt("toggle",e);break;case"embed":case"source":case"link":Rt("error",e),Rt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in i)if(i.hasOwnProperty(j)&&(r=i[j],r!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ht(e,n,j,r,i,null)}return;default:if(eu(n)){for(Z in i)i.hasOwnProperty(Z)&&(r=i[Z],r!==void 0&&Bh(e,n,Z,r,i,void 0));return}}for(v in i)i.hasOwnProperty(v)&&(r=i[v],r!=null&&Ht(e,n,v,r,i,null))}function g1(e,n,i,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,h=null,g=null,v=null,C=null,j=null,Z=null;for(H in i){var K=i[H];if(i.hasOwnProperty(H)&&K!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":C=K;default:r.hasOwnProperty(H)||Ht(e,n,H,null,r,K)}}for(var F in r){var H=r[F];if(K=i[F],r.hasOwnProperty(F)&&(H!=null||K!=null))switch(F){case"type":h=H;break;case"name":c=H;break;case"checked":j=H;break;case"defaultChecked":Z=H;break;case"value":g=H;break;case"defaultValue":v=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==K&&Ht(e,n,F,H,r,K)}}$c(e,g,v,C,j,Z,h,c);return;case"select":H=g=v=F=null;for(h in i)if(C=i[h],i.hasOwnProperty(h)&&C!=null)switch(h){case"value":break;case"multiple":H=C;default:r.hasOwnProperty(h)||Ht(e,n,h,null,r,C)}for(c in r)if(h=r[c],C=i[c],r.hasOwnProperty(c)&&(h!=null||C!=null))switch(c){case"value":F=h;break;case"defaultValue":v=h;break;case"multiple":g=h;default:h!==C&&Ht(e,n,c,h,r,C)}n=v,i=g,r=H,F!=null?sa(e,!!i,F,!1):!!r!=!!i&&(n!=null?sa(e,!!i,n,!0):sa(e,!!i,i?[]:"",!1));return;case"textarea":H=F=null;for(v in i)if(c=i[v],i.hasOwnProperty(v)&&c!=null&&!r.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:Ht(e,n,v,null,r,c)}for(g in r)if(c=r[g],h=i[g],r.hasOwnProperty(g)&&(c!=null||h!=null))switch(g){case"value":F=c;break;case"defaultValue":H=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==h&&Ht(e,n,g,c,r,h)}cp(e,F,H);return;case"option":for(var St in i)if(F=i[St],i.hasOwnProperty(St)&&F!=null&&!r.hasOwnProperty(St))switch(St){case"selected":e.selected=!1;break;default:Ht(e,n,St,null,r,F)}for(C in r)if(F=r[C],H=i[C],r.hasOwnProperty(C)&&F!==H&&(F!=null||H!=null))switch(C){case"selected":e.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:Ht(e,n,C,F,r,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var bt in i)F=i[bt],i.hasOwnProperty(bt)&&F!=null&&!r.hasOwnProperty(bt)&&Ht(e,n,bt,null,r,F);for(j in r)if(F=r[j],H=i[j],r.hasOwnProperty(j)&&F!==H&&(F!=null||H!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:Ht(e,n,j,F,r,H)}return;default:if(eu(n)){for(var It in i)F=i[It],i.hasOwnProperty(It)&&F!==void 0&&!r.hasOwnProperty(It)&&Bh(e,n,It,void 0,r,F);for(Z in r)F=r[Z],H=i[Z],!r.hasOwnProperty(Z)||F===H||F===void 0&&H===void 0||Bh(e,n,Z,F,r,H);return}}for(var q in i)F=i[q],i.hasOwnProperty(q)&&F!=null&&!r.hasOwnProperty(q)&&Ht(e,n,q,null,r,F);for(K in r)F=r[K],H=i[K],!r.hasOwnProperty(K)||F===H||F==null&&H==null||Ht(e,n,K,F,r,H)}var Lh=null,Fh=null;function Xl(e){return e.nodeType===9?e:e.ownerDocument}function hg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fg(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Gh(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Hh=null;function y1(){var e=window.event;return e&&e.type==="popstate"?e===Hh?!1:(Hh=e,!0):(Hh=null,!1)}var dg=typeof setTimeout=="function"?setTimeout:void 0,v1=typeof clearTimeout=="function"?clearTimeout:void 0,pg=typeof Promise=="function"?Promise:void 0,b1=typeof queueMicrotask=="function"?queueMicrotask:typeof pg<"u"?function(e){return pg.resolve(null).then(e).catch(x1)}:dg;function x1(e){setTimeout(function(){throw e})}function Js(e){return e==="head"}function mg(e,n){var i=n,r=0,c=0;do{var h=i.nextSibling;if(e.removeChild(i),h&&h.nodeType===8)if(i=h.data,i==="/$"){if(0<r&&8>r){i=r;var g=e.ownerDocument;if(i&1&&to(g.documentElement),i&2&&to(g.body),i&4)for(i=g.head,to(i),g=i.firstChild;g;){var v=g.nextSibling,C=g.nodeName;g[mr]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&g.rel.toLowerCase()==="stylesheet"||i.removeChild(g),g=v}}if(c===0){e.removeChild(h),lo(n);return}c--}else i==="$"||i==="$?"||i==="$!"?c++:r=i.charCodeAt(0)-48;else r=0;i=h}while(i);lo(n)}function Ih(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var i=n;switch(n=n.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Ih(i),Wc(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function S1(e,n,i,r){for(;e.nodeType===1;){var c=i;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[mr])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var h=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=Fn(e.nextSibling),e===null)break}return null}function T1(e,n,i){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Fn(e.nextSibling),e===null))return null;return e}function Yh(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function w1(e,n){var i=e.ownerDocument;if(e.data!=="$?"||i.readyState==="complete")n();else{var r=function(){n(),i.removeEventListener("DOMContentLoaded",r)};i.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function Fn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var Xh=null;function _g(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(n===0)return e;n--}else i==="/$"&&n++}e=e.previousSibling}return null}function gg(e,n,i){switch(n=Xl(i),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function to(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Wc(e)}var Nn=new Map,yg=new Set;function Ql(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ws=Y.d;Y.d={f:A1,r:E1,D:D1,C:C1,L:O1,m:M1,X:N1,S:R1,M:k1};function A1(){var e=ws.f(),n=Ul();return e||n}function E1(e){var n=$i(e);n!==null&&n.tag===5&&n.type==="form"?Um(n):ws.r(e)}var ka=typeof document>"u"?null:document;function vg(e,n,i){var r=ka;if(r&&typeof n=="string"&&n){var c=An(n);c='link[rel="'+e+'"][href="'+c+'"]',typeof i=="string"&&(c+='[crossorigin="'+i+'"]'),yg.has(c)||(yg.add(c),e={rel:e,crossOrigin:i,href:n},r.querySelector(c)===null&&(n=r.createElement("link"),qe(n,"link",e),Te(n),r.head.appendChild(n)))}}function D1(e){ws.D(e),vg("dns-prefetch",e,null)}function C1(e,n){ws.C(e,n),vg("preconnect",e,n)}function O1(e,n,i){ws.L(e,n,i);var r=ka;if(r&&e&&n){var c='link[rel="preload"][as="'+An(n)+'"]';n==="image"&&i&&i.imageSrcSet?(c+='[imagesrcset="'+An(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(c+='[imagesizes="'+An(i.imageSizes)+'"]')):c+='[href="'+An(e)+'"]';var h=c;switch(n){case"style":h=qa(e);break;case"script":h=za(e)}Nn.has(h)||(e=_({rel:"preload",href:n==="image"&&i&&i.imageSrcSet?void 0:e,as:n},i),Nn.set(h,e),r.querySelector(c)!==null||n==="style"&&r.querySelector(eo(h))||n==="script"&&r.querySelector(no(h))||(n=r.createElement("link"),qe(n,"link",e),Te(n),r.head.appendChild(n)))}}function M1(e,n){ws.m(e,n);var i=ka;if(i&&e){var r=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+An(r)+'"][href="'+An(e)+'"]',h=c;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=za(e)}if(!Nn.has(h)&&(e=_({rel:"modulepreload",href:e},n),Nn.set(h,e),i.querySelector(c)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(no(h)))return}r=i.createElement("link"),qe(r,"link",e),Te(r),i.head.appendChild(r)}}}function R1(e,n,i){ws.S(e,n,i);var r=ka;if(r&&e){var c=ta(r).hoistableStyles,h=qa(e);n=n||"default";var g=c.get(h);if(!g){var v={loading:0,preload:null};if(g=r.querySelector(eo(h)))v.loading=5;else{e=_({rel:"stylesheet",href:e,"data-precedence":n},i),(i=Nn.get(h))&&Qh(e,i);var C=g=r.createElement("link");Te(C),qe(C,"link",e),C._p=new Promise(function(j,Z){C.onload=j,C.onerror=Z}),C.addEventListener("load",function(){v.loading|=1}),C.addEventListener("error",function(){v.loading|=2}),v.loading|=4,Zl(g,n,r)}g={type:"stylesheet",instance:g,count:1,state:v},c.set(h,g)}}}function N1(e,n){ws.X(e,n);var i=ka;if(i&&e){var r=ta(i).hoistableScripts,c=za(e),h=r.get(c);h||(h=i.querySelector(no(c)),h||(e=_({src:e,async:!0},n),(n=Nn.get(c))&&Zh(e,n),h=i.createElement("script"),Te(h),qe(h,"link",e),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},r.set(c,h))}}function k1(e,n){ws.M(e,n);var i=ka;if(i&&e){var r=ta(i).hoistableScripts,c=za(e),h=r.get(c);h||(h=i.querySelector(no(c)),h||(e=_({src:e,async:!0,type:"module"},n),(n=Nn.get(c))&&Zh(e,n),h=i.createElement("script"),Te(h),qe(h,"link",e),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},r.set(c,h))}}function bg(e,n,i,r){var c=(c=ct.current)?Ql(c):null;if(!c)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(n=qa(i.href),i=ta(c).hoistableStyles,r=i.get(n),r||(r={type:"style",instance:null,count:0,state:null},i.set(n,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=qa(i.href);var h=ta(c).hoistableStyles,g=h.get(e);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,g),(h=c.querySelector(eo(e)))&&!h._p&&(g.instance=h,g.state.loading=5),Nn.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Nn.set(e,i),h||q1(c,e,i,g.state))),n&&r===null)throw Error(a(528,""));return g}if(n&&r!==null)throw Error(a(529,""));return null;case"script":return n=i.async,i=i.src,typeof i=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=za(i),i=ta(c).hoistableScripts,r=i.get(n),r||(r={type:"script",instance:null,count:0,state:null},i.set(n,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function qa(e){return'href="'+An(e)+'"'}function eo(e){return'link[rel="stylesheet"]['+e+"]"}function xg(e){return _({},e,{"data-precedence":e.precedence,precedence:null})}function q1(e,n,i,r){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?r.loading=1:(n=e.createElement("link"),r.preload=n,n.addEventListener("load",function(){return r.loading|=1}),n.addEventListener("error",function(){return r.loading|=2}),qe(n,"link",i),Te(n),e.head.appendChild(n))}function za(e){return'[src="'+An(e)+'"]'}function no(e){return"script[async]"+e}function Sg(e,n,i){if(n.count++,n.instance===null)switch(n.type){case"style":var r=e.querySelector('style[data-href~="'+An(i.href)+'"]');if(r)return n.instance=r,Te(r),r;var c=_({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),Te(r),qe(r,"style",c),Zl(r,i.precedence,e),n.instance=r;case"stylesheet":c=qa(i.href);var h=e.querySelector(eo(c));if(h)return n.state.loading|=4,n.instance=h,Te(h),h;r=xg(i),(c=Nn.get(c))&&Qh(r,c),h=(e.ownerDocument||e).createElement("link"),Te(h);var g=h;return g._p=new Promise(function(v,C){g.onload=v,g.onerror=C}),qe(h,"link",r),n.state.loading|=4,Zl(h,i.precedence,e),n.instance=h;case"script":return h=za(i.src),(c=e.querySelector(no(h)))?(n.instance=c,Te(c),c):(r=i,(c=Nn.get(h))&&(r=_({},i),Zh(r,c)),e=e.ownerDocument||e,c=e.createElement("script"),Te(c),qe(c,"link",r),e.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(r=n.instance,n.state.loading|=4,Zl(r,i.precedence,e));return n.instance}function Zl(e,n,i){for(var r=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=r.length?r[r.length-1]:null,h=c,g=0;g<r.length;g++){var v=r[g];if(v.dataset.precedence===n)h=v;else if(h!==c)break}h?h.parentNode.insertBefore(e,h.nextSibling):(n=i.nodeType===9?i.head:i,n.insertBefore(e,n.firstChild))}function Qh(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Zh(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Wl=null;function Tg(e,n,i){if(Wl===null){var r=new Map,c=Wl=new Map;c.set(i,r)}else c=Wl,r=c.get(i),r||(r=new Map,c.set(i,r));if(r.has(e))return r;for(r.set(e,null),i=i.getElementsByTagName(e),c=0;c<i.length;c++){var h=i[c];if(!(h[mr]||h[Le]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var g=h.getAttribute(n)||"";g=e+g;var v=r.get(g);v?v.push(h):r.set(g,[h])}}return r}function wg(e,n,i){e=e.ownerDocument||e,e.head.insertBefore(i,n==="title"?e.querySelector("head > title"):null)}function z1(e,n,i){if(i===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Ag(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var so=null;function V1(){}function j1(e,n,i){if(so===null)throw Error(a(475));var r=so;if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=qa(i.href),h=e.querySelector(eo(c));if(h){e=h._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(r.count++,r=Pl.bind(r),e.then(r,r)),n.state.loading|=4,n.instance=h,Te(h);return}h=e.ownerDocument||e,i=xg(i),(c=Nn.get(c))&&Qh(i,c),h=h.createElement("link"),Te(h);var g=h;g._p=new Promise(function(v,C){g.onload=v,g.onerror=C}),qe(h,"link",i),n.instance=h}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(r.count++,n=Pl.bind(r),e.addEventListener("load",n),e.addEventListener("error",n))}}function U1(){if(so===null)throw Error(a(475));var e=so;return e.stylesheets&&e.count===0&&Wh(e,e.stylesheets),0<e.count?function(n){var i=setTimeout(function(){if(e.stylesheets&&Wh(e,e.stylesheets),e.unsuspend){var r=e.unsuspend;e.unsuspend=null,r()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i)}}:null}function Pl(){if(this.count--,this.count===0){if(this.stylesheets)Wh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Kl=null;function Wh(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Kl=new Map,n.forEach(B1,e),Kl=null,Pl.call(e))}function B1(e,n){if(!(n.state.loading&4)){var i=Kl.get(e);if(i)var r=i.get(null);else{i=new Map,Kl.set(e,i);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<c.length;h++){var g=c[h];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(i.set(g.dataset.precedence,g),r=g)}r&&i.set(null,r)}c=n.instance,g=c.getAttribute("data-precedence"),h=i.get(g)||r,h===r&&i.set(null,c),i.set(g,c),this.count++,r=Pl.bind(this),c.addEventListener("load",r),c.addEventListener("error",r),h?h.parentNode.insertBefore(c,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),n.state.loading|=4}}var io={$$typeof:B,Provider:null,Consumer:null,_currentValue:tt,_currentValue2:tt,_threadCount:0};function L1(e,n,i,r,c,h,g,v){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Yc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yc(0),this.hiddenUpdates=Yc(null),this.identifierPrefix=r,this.onUncaughtError=c,this.onCaughtError=h,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=v,this.incompleteTransitions=new Map}function Eg(e,n,i,r,c,h,g,v,C,j,Z,K){return e=new L1(e,n,i,g,v,C,j,K),n=1,h===!0&&(n|=24),h=un(3,null,null,n),e.current=h,h.stateNode=e,n=Mu(),n.refCount++,e.pooledCache=n,n.refCount++,h.memoizedState={element:r,isDehydrated:i,cache:n},qu(h),e}function Dg(e){return e?(e=fa,e):fa}function Cg(e,n,i,r,c,h){c=Dg(c),r.context===null?r.context=c:r.pendingContext=c,r=Bs(n),r.payload={element:i},h=h===void 0?null:h,h!==null&&(r.callback=h),i=Ls(e,r,n),i!==null&&(mn(i,e,n),qr(i,e,n))}function Og(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<n?i:n}}function Ph(e,n){Og(e,n),(e=e.alternate)&&Og(e,n)}function Mg(e){if(e.tag===13){var n=ha(e,67108864);n!==null&&mn(n,e,67108864),Ph(e,67108864)}}var Jl=!0;function F1(e,n,i,r){var c=R.T;R.T=null;var h=Y.p;try{Y.p=2,Kh(e,n,i,r)}finally{Y.p=h,R.T=c}}function G1(e,n,i,r){var c=R.T;R.T=null;var h=Y.p;try{Y.p=8,Kh(e,n,i,r)}finally{Y.p=h,R.T=c}}function Kh(e,n,i,r){if(Jl){var c=Jh(r);if(c===null)Uh(e,n,r,$l,i),Ng(e,r);else if(I1(c,e,n,i,r))r.stopPropagation();else if(Ng(e,r),n&4&&-1<H1.indexOf(e)){for(;c!==null;){var h=$i(c);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var g=Un(h.pendingLanes);if(g!==0){var v=h;for(v.pendingLanes|=2,v.entangledLanes|=2;g;){var C=1<<31-Ye(g);v.entanglements[1]|=C,g&=~C}ss(h),(Lt&6)===0&&(Vl=kt()+500,Kr(0))}}break;case 13:v=ha(h,2),v!==null&&mn(v,h,2),Ul(),Ph(h,2)}if(h=Jh(r),h===null&&Uh(e,n,r,$l,i),h===c)break;c=h}c!==null&&r.stopPropagation()}else Uh(e,n,r,null,i)}}function Jh(e){return e=su(e),$h(e)}var $l=null;function $h(e){if($l=null,e=Ji(e),e!==null){var n=u(e);if(n===null)e=null;else{var i=n.tag;if(i===13){if(e=f(n),e!==null)return e;e=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return $l=e,null}function Rg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ut()){case Ct:return 2;case Bt:return 8;case ce:case Tn:return 32;case Kn:return 268435456;default:return 32}default:return 32}}var tf=!1,$s=null,ti=null,ei=null,ao=new Map,ro=new Map,ni=[],H1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ng(e,n){switch(e){case"focusin":case"focusout":$s=null;break;case"dragenter":case"dragleave":ti=null;break;case"mouseover":case"mouseout":ei=null;break;case"pointerover":case"pointerout":ao.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ro.delete(n.pointerId)}}function oo(e,n,i,r,c,h){return e===null||e.nativeEvent!==h?(e={blockedOn:n,domEventName:i,eventSystemFlags:r,nativeEvent:h,targetContainers:[c]},n!==null&&(n=$i(n),n!==null&&Mg(n)),e):(e.eventSystemFlags|=r,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function I1(e,n,i,r,c){switch(n){case"focusin":return $s=oo($s,e,n,i,r,c),!0;case"dragenter":return ti=oo(ti,e,n,i,r,c),!0;case"mouseover":return ei=oo(ei,e,n,i,r,c),!0;case"pointerover":var h=c.pointerId;return ao.set(h,oo(ao.get(h)||null,e,n,i,r,c)),!0;case"gotpointercapture":return h=c.pointerId,ro.set(h,oo(ro.get(h)||null,e,n,i,r,c)),!0}return!1}function kg(e){var n=Ji(e.target);if(n!==null){var i=u(n);if(i!==null){if(n=i.tag,n===13){if(n=f(i),n!==null){e.blockedOn=n,jv(e.priority,function(){if(i.tag===13){var r=pn();r=Xc(r);var c=ha(i,r);c!==null&&mn(c,i,r),Ph(i,r)}});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function tc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var i=Jh(e.nativeEvent);if(i===null){i=e.nativeEvent;var r=new i.constructor(i.type,i);nu=r,i.target.dispatchEvent(r),nu=null}else return n=$i(i),n!==null&&Mg(n),e.blockedOn=i,!1;n.shift()}return!0}function qg(e,n,i){tc(e)&&i.delete(n)}function Y1(){tf=!1,$s!==null&&tc($s)&&($s=null),ti!==null&&tc(ti)&&(ti=null),ei!==null&&tc(ei)&&(ei=null),ao.forEach(qg),ro.forEach(qg)}function ec(e,n){e.blockedOn===n&&(e.blockedOn=null,tf||(tf=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Y1)))}var nc=null;function zg(e){nc!==e&&(nc=e,o.unstable_scheduleCallback(o.unstable_NormalPriority,function(){nc===e&&(nc=null);for(var n=0;n<e.length;n+=3){var i=e[n],r=e[n+1],c=e[n+2];if(typeof r!="function"){if($h(r||i)===null)continue;break}var h=$i(i);h!==null&&(e.splice(n,3),n-=3,$u(h,{pending:!0,data:c,method:i.method,action:r},r,c))}}))}function lo(e){function n(C){return ec(C,e)}$s!==null&&ec($s,e),ti!==null&&ec(ti,e),ei!==null&&ec(ei,e),ao.forEach(n),ro.forEach(n);for(var i=0;i<ni.length;i++){var r=ni[i];r.blockedOn===e&&(r.blockedOn=null)}for(;0<ni.length&&(i=ni[0],i.blockedOn===null);)kg(i),i.blockedOn===null&&ni.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(r=0;r<i.length;r+=3){var c=i[r],h=i[r+1],g=c[tn]||null;if(typeof h=="function")g||zg(i);else if(g){var v=null;if(h&&h.hasAttribute("formAction")){if(c=h,g=h[tn]||null)v=g.formAction;else if($h(c)!==null)continue}else v=g.action;typeof v=="function"?i[r+1]=v:(i.splice(r,3),r-=3),zg(i)}}}function ef(e){this._internalRoot=e}sc.prototype.render=ef.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var i=n.current,r=pn();Cg(i,r,e,n,null,null)},sc.prototype.unmount=ef.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Cg(e.current,2,null,e,null,null),Ul(),n[Ki]=null}};function sc(e){this._internalRoot=e}sc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Jd();e={blockedOn:null,target:e,priority:n};for(var i=0;i<ni.length&&n!==0&&n<ni[i].priority;i++);ni.splice(i,0,e),i===0&&kg(e)}};var Vg=t.version;if(Vg!=="19.1.0")throw Error(a(527,Vg,"19.1.0"));Y.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=p(n),e=e!==null?m(e):null,e=e===null?null:e.stateNode,e};var X1={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{cs=ic.inject(X1),Ie=ic}catch{}}return uo.createRoot=function(e,n){if(!l(e))throw Error(a(299));var i=!1,r="",c=Jm,h=$m,g=t_,v=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(v=n.unstable_transitionCallbacks)),n=Eg(e,1,!1,null,null,i,r,c,h,g,v,null),e[Ki]=n.current,jh(e),new ef(n)},uo.hydrateRoot=function(e,n,i){if(!l(e))throw Error(a(299));var r=!1,c="",h=Jm,g=$m,v=t_,C=null,j=null;return i!=null&&(i.unstable_strictMode===!0&&(r=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(C=i.unstable_transitionCallbacks),i.formState!==void 0&&(j=i.formState)),n=Eg(e,1,!0,n,i??null,r,c,h,g,v,C,j),n.context=Dg(null),i=n.current,r=pn(),r=Xc(r),c=Bs(r),c.callback=null,Ls(i,c,r),i=r,n.current.lanes=i,pr(n,i),ss(n),e[Ki]=n.current,jh(e),new sc(n)},uo.version="19.1.0",uo}var Qg;function nb(){if(Qg)return af.exports;Qg=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(t){console.error(t)}}return o(),af.exports=eb(),af.exports}var sb=nb();const ib="modulepreload",ab=function(o){return"/practice-helper/"+o},Zg={},rb=function(t,s,a){let l=Promise.resolve();if(s&&s.length>0){let m=function(_){return Promise.all(_.map(y=>Promise.resolve(y).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};var f=m;document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),p=d?.nonce||d?.getAttribute("nonce");l=m(s.map(_=>{if(_=ab(_),_ in Zg)return;Zg[_]=!0;const y=_.endsWith(".css"),x=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${_}"]${x}`))return;const b=document.createElement("link");if(b.rel=y?"stylesheet":ib,y||(b.as="script"),b.crossOrigin="",b.href=_,p&&b.setAttribute("nonce",p),document.head.appendChild(b),y)return new Promise((S,w)=>{b.addEventListener("load",S),b.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${_}`)))})}))}function u(d){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=d,window.dispatchEvent(p),!p.defaultPrevented)throw d}return l.then(d=>{for(const p of d||[])p.status==="rejected"&&u(p.reason);return t().catch(u)})};var cf,Wg;function ob(){if(Wg)return cf;Wg=1;function o(t){if(this.size=t|0,this.size<=1||(this.size&this.size-1)!==0)throw new Error("FFT size must be a power of two and bigger than 1");this._csize=t<<1;for(var s=new Array(this.size*2),a=0;a<s.length;a+=2){const m=Math.PI*a/this.size;s[a]=Math.cos(m),s[a+1]=-Math.sin(m)}this.table=s;for(var l=0,u=1;this.size>u;u<<=1)l++;this._width=l%2===0?l-1:l,this._bitrev=new Array(1<<this._width);for(var f=0;f<this._bitrev.length;f++){this._bitrev[f]=0;for(var d=0;d<this._width;d+=2){var p=this._width-d-2;this._bitrev[f]|=(f>>>d&3)<<p}}this._out=null,this._data=null,this._inv=0}return cf=o,o.prototype.fromComplexArray=function(s,a){for(var l=a||new Array(s.length>>>1),u=0;u<s.length;u+=2)l[u>>>1]=s[u];return l},o.prototype.createComplexArray=function(){const s=new Array(this._csize);for(var a=0;a<s.length;a++)s[a]=0;return s},o.prototype.toComplexArray=function(s,a){for(var l=a||this.createComplexArray(),u=0;u<l.length;u+=2)l[u]=s[u>>>1],l[u+1]=0;return l},o.prototype.completeSpectrum=function(s){for(var a=this._csize,l=a>>>1,u=2;u<l;u+=2)s[a-u]=s[u],s[a-u+1]=-s[u+1]},o.prototype.transform=function(s,a){if(s===a)throw new Error("Input and output buffers must be different");this._out=s,this._data=a,this._inv=0,this._transform4(),this._out=null,this._data=null},o.prototype.realTransform=function(s,a){if(s===a)throw new Error("Input and output buffers must be different");this._out=s,this._data=a,this._inv=0,this._realTransform4(),this._out=null,this._data=null},o.prototype.inverseTransform=function(s,a){if(s===a)throw new Error("Input and output buffers must be different");this._out=s,this._data=a,this._inv=1,this._transform4();for(var l=0;l<s.length;l++)s[l]/=this.size;this._out=null,this._data=null},o.prototype._transform4=function(){var s=this._out,a=this._csize,l=this._width,u=1<<l,f=a/u<<1,d,p,m=this._bitrev;if(f===4)for(d=0,p=0;d<a;d+=f,p++){const E=m[p];this._singleTransform2(d,E,u)}else for(d=0,p=0;d<a;d+=f,p++){const E=m[p];this._singleTransform4(d,E,u)}var _=this._inv?-1:1,y=this.table;for(u>>=2;u>=2;u>>=2){f=a/u<<1;var x=f>>>2;for(d=0;d<a;d+=f)for(var b=d+x,S=d,w=0;S<b;S+=2,w+=u){const E=S,O=E+x,U=O+x,B=U+x,Q=s[E],D=s[E+1],M=s[O],k=s[O+1],T=s[U],z=s[U+1],G=s[B],I=s[B+1],X=Q,st=D,nt=y[w],ot=_*y[w+1],R=M*nt-k*ot,Y=M*ot+k*nt,tt=y[2*w],at=_*y[2*w+1],A=T*tt-z*at,L=T*at+z*tt,J=y[3*w],et=_*y[3*w+1],ht=G*J-I*et,lt=G*et+I*J,ct=X+A,Nt=st+L,rt=X-A,ie=st-L,Me=R+ht,Se=Y+lt,Re=_*(R-ht),jn=_*(Y-lt),Pn=ct+Me,ut=Nt+Se,yt=ct-Me,kt=Nt-Se,Ut=rt+jn,Ct=ie-Re,Bt=rt-jn,ce=ie+Re;s[E]=Pn,s[E+1]=ut,s[O]=Ut,s[O+1]=Ct,s[U]=yt,s[U+1]=kt,s[B]=Bt,s[B+1]=ce}}},o.prototype._singleTransform2=function(s,a,l){const u=this._out,f=this._data,d=f[a],p=f[a+1],m=f[a+l],_=f[a+l+1],y=d+m,x=p+_,b=d-m,S=p-_;u[s]=y,u[s+1]=x,u[s+2]=b,u[s+3]=S},o.prototype._singleTransform4=function(s,a,l){const u=this._out,f=this._data,d=this._inv?-1:1,p=l*2,m=l*3,_=f[a],y=f[a+1],x=f[a+l],b=f[a+l+1],S=f[a+p],w=f[a+p+1],E=f[a+m],O=f[a+m+1],U=_+S,B=y+w,Q=_-S,D=y-w,M=x+E,k=b+O,T=d*(x-E),z=d*(b-O),G=U+M,I=B+k,X=Q+z,st=D-T,nt=U-M,ot=B-k,R=Q-z,Y=D+T;u[s]=G,u[s+1]=I,u[s+2]=X,u[s+3]=st,u[s+4]=nt,u[s+5]=ot,u[s+6]=R,u[s+7]=Y},o.prototype._realTransform4=function(){var s=this._out,a=this._csize,l=this._width,u=1<<l,f=a/u<<1,d,p,m=this._bitrev;if(f===4)for(d=0,p=0;d<a;d+=f,p++){const Un=m[p];this._singleRealTransform2(d,Un>>>1,u>>>1)}else for(d=0,p=0;d<a;d+=f,p++){const Un=m[p];this._singleRealTransform4(d,Un>>>1,u>>>1)}var _=this._inv?-1:1,y=this.table;for(u>>=2;u>=2;u>>=2){f=a/u<<1;var x=f>>>1,b=x>>>1,S=b>>>1;for(d=0;d<a;d+=f)for(var w=0,E=0;w<=S;w+=2,E+=u){var O=d+w,U=O+b,B=U+b,Q=B+b,D=s[O],M=s[O+1],k=s[U],T=s[U+1],z=s[B],G=s[B+1],I=s[Q],X=s[Q+1],st=D,nt=M,ot=y[E],R=_*y[E+1],Y=k*ot-T*R,tt=k*R+T*ot,at=y[2*E],A=_*y[2*E+1],L=z*at-G*A,J=z*A+G*at,et=y[3*E],ht=_*y[3*E+1],lt=I*et-X*ht,ct=I*ht+X*et,Nt=st+L,rt=nt+J,ie=st-L,Me=nt-J,Se=Y+lt,Re=tt+ct,jn=_*(Y-lt),Pn=_*(tt-ct),ut=Nt+Se,yt=rt+Re,kt=ie+Pn,Ut=Me-jn;if(s[O]=ut,s[O+1]=yt,s[U]=kt,s[U+1]=Ut,w===0){var Ct=Nt-Se,Bt=rt-Re;s[B]=Ct,s[B+1]=Bt;continue}if(w!==S){var ce=ie,Tn=-Me,Kn=Nt,yi=-rt,fr=-_*Pn,cs=-_*jn,Ie=-_*Re,Jn=-_*Se,Ye=ce+fr,Gc=Tn+cs,Hc=Kn+Jn,Ic=yi-Ie,vi=d+b-w,bi=d+x-w;s[vi]=Ye,s[vi+1]=Gc,s[bi]=Hc,s[bi+1]=Ic}}}},o.prototype._singleRealTransform2=function(s,a,l){const u=this._out,f=this._data,d=f[a],p=f[a+l],m=d+p,_=d-p;u[s]=m,u[s+1]=0,u[s+2]=_,u[s+3]=0},o.prototype._singleRealTransform4=function(s,a,l){const u=this._out,f=this._data,d=this._inv?-1:1,p=l*2,m=l*3,_=f[a],y=f[a+l],x=f[a+p],b=f[a+m],S=_+x,w=_-x,E=y+b,O=d*(y-b),U=S+E,B=w,Q=-O,D=S-E,M=w,k=O;u[s]=U,u[s+1]=0,u[s+2]=B,u[s+3]=Q,u[s+4]=D,u[s+5]=0,u[s+6]=M,u[s+7]=k},cf}var lb=ob();const cb=Ey(lb);class po{_inputLength;_fft;_bufferSupplier;_paddedInputBuffer;_transformBuffer;_inverseBuffer;static forFloat32Array(t){return new po(t,s=>new Float32Array(s))}static forFloat64Array(t){return new po(t,s=>new Float64Array(s))}static forNumberArray(t){return new po(t,s=>Array(s))}constructor(t,s){if(t<1)throw new Error("Input length must be at least one");this._inputLength=t,this._fft=new cb(fb(2*t)),this._bufferSupplier=s,this._paddedInputBuffer=this._bufferSupplier(this._fft.size),this._transformBuffer=this._bufferSupplier(2*this._fft.size),this._inverseBuffer=this._bufferSupplier(2*this._fft.size)}get inputLength(){return this._inputLength}autocorrelate(t,s=this._bufferSupplier(t.length)){if(t.length!==this._inputLength)throw new Error(`Input must have length ${this._inputLength} but had length ${t.length}`);for(let l=0;l<t.length;l++)this._paddedInputBuffer[l]=t[l];for(let l=t.length;l<this._paddedInputBuffer.length;l++)this._paddedInputBuffer[l]=0;this._fft.realTransform(this._transformBuffer,this._paddedInputBuffer),this._fft.completeSpectrum(this._transformBuffer);const a=this._transformBuffer;for(let l=0;l<a.length;l+=2)a[l]=a[l]*a[l]+a[l+1]*a[l+1],a[l+1]=0;this._fft.inverseTransform(this._inverseBuffer,this._transformBuffer);for(let l=0;l<t.length;l++)s[l]=this._inverseBuffer[2*l];return s}}function ub(o){const t=[];let s=!1,a=-1/0,l=-1;for(let u=1;u<o.length-1;u++)o[u-1]<=0&&o[u]>0?(s=!0,l=u,a=o[u]):o[u-1]>0&&o[u]<=0?(s=!1,l!==-1&&t.push(l)):s&&o[u]>a&&(a=o[u],l=u);return t}function hb(o,t){const[s,a,l]=[o-1,o,o+1],[u,f,d]=[t[s],t[a],t[l]],p=u/2-f+d/2,m=-(u/2)*(a+l)+f*(s+l)-d/2*(s+a),_=u*a*l/2-f*s*l+d*s*a/2,y=-m/(2*p),x=p*y*y+m*y+_;return[y,x]}class mo{_autocorrelator;_nsdfBuffer;_clarityThreshold=.9;_minVolumeAbsolute=0;_maxInputAmplitude=1;static forFloat32Array(t){return new mo(t,s=>new Float32Array(s))}static forFloat64Array(t){return new mo(t,s=>new Float64Array(s))}static forNumberArray(t){return new mo(t,s=>Array(s))}constructor(t,s){this._autocorrelator=new po(t,s),this._nsdfBuffer=s(t)}get inputLength(){return this._autocorrelator.inputLength}set clarityThreshold(t){if(!Number.isFinite(t)||t<=0||t>1)throw new Error("clarityThreshold must be a number in the range (0, 1]");this._clarityThreshold=t}set minVolumeAbsolute(t){if(!Number.isFinite(t)||t<0||t>this._maxInputAmplitude)throw new Error(`minVolumeAbsolute must be a number in the range [0, ${this._maxInputAmplitude}]`);this._minVolumeAbsolute=t}set minVolumeDecibels(t){if(!Number.isFinite(t)||t>0)throw new Error("minVolumeDecibels must be a number <= 0");this._minVolumeAbsolute=this._maxInputAmplitude*10**(t/10)}set maxInputAmplitude(t){if(!Number.isFinite(t)||t<=0)throw new Error("maxInputAmplitude must be a number > 0");this._maxInputAmplitude=t}findPitch(t,s){if(this._belowMinimumVolume(t))return[0,0];this._nsdf(t);const a=ub(this._nsdfBuffer);if(a.length===0)return[0,0];const l=Math.max(...a.map(p=>this._nsdfBuffer[p])),u=a.find(p=>this._nsdfBuffer[p]>=this._clarityThreshold*l),[f,d]=hb(u,this._nsdfBuffer);return[s/f,Math.min(d,1)]}_belowMinimumVolume(t){if(this._minVolumeAbsolute===0)return!1;let s=0;for(let a=0;a<t.length;a++)s+=t[a]**2;return Math.sqrt(s/t.length)<this._minVolumeAbsolute}_nsdf(t){this._autocorrelator.autocorrelate(t,this._nsdfBuffer);let s=2*this._nsdfBuffer[0],a;for(a=0;a<this._nsdfBuffer.length&&s>0;a++)this._nsdfBuffer[a]=2*this._nsdfBuffer[a]/s,s-=t[a]**2+t[t.length-a-1]**2;for(;a<this._nsdfBuffer.length;a++)this._nsdfBuffer[a]=0}}function fb(o){return o--,o|=o>>1,o|=o>>2,o|=o>>4,o|=o>>8,o|=o>>16,o++,o}const Dy=2048,db=mo.forFloat32Array(Dy),pb=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];function mb(o){const s=12*Math.log2(o/440),a=Math.round(s)+57,l=pb[(a+12*1e3)%12],u=Math.floor(a/12);return`${l}${u}`}function _b(o,t){return Math.floor(1200*Math.log2(o/t))}const gb=({note:o,cents:t,setNote:s,setCents:a})=>{const[l,u]=mt.useState(!1),[f,d]=mt.useState(null),p=mt.useRef(null),m=mt.useRef(null),_=mt.useRef(null),y=mt.useRef(null),x=mt.useRef(null),b=mt.useRef(null),S=mt.useCallback(()=>{y.current&&cancelAnimationFrame(y.current),p.current&&(p.current.close(),p.current=null),x.current&&(x.current.getTracks().forEach(U=>U.stop()),x.current=null),b.current&&(clearTimeout(b.current),b.current=null),u(!1),s(null),a(null)},[s,a]);Fg.useEffect(()=>{const U=async()=>{document.visibilityState==="visible"&&p.current&&p.current.state!=="running"&&await p.current.resume()};return document.addEventListener("visibilitychange",U),()=>{document.removeEventListener("visibilitychange",U)}},[]);const w=async()=>{d(null);try{const U=await navigator.mediaDevices.getUserMedia({audio:!0});x.current=U;const B=window.AudioContext||window.webkitAudioContext,Q=new B;p.current=Q,Q.state!=="running"&&await Q.resume();const D=Q.createAnalyser();D.fftSize=Dy,m.current=D;const M=Q.createMediaStreamSource(U);_.current=M,M.connect(D);const k=new Float32Array(D.fftSize);let T=0;const z=.01,G=.8,I=16,X=st=>{D.getFloatTimeDomainData(k);let nt=0;for(let R=0;R<k.length;R++)nt+=k[R]*k[R];nt=Math.sqrt(nt/k.length);const ot=st!==void 0?st:performance.now();if(nt>z&&ot-T>I){const[R,Y]=db.findPitch(k,Q.sampleRate);if(Y>G&&R>50&&R<2e3){const tt=mb(R),at=Math.round(12*Math.log2(R/440)+57),A=440*Math.pow(2,(at-57)/12);s(tt),a(_b(R,A))}else s(null),a(null);T=ot}y.current=requestAnimationFrame(X)};X()}catch{d("oops! something went wrong! you may need to refresh the website"),u(!1),b.current||(b.current=window.setTimeout(()=>{b.current=null,l&&w()},2e3))}},E=async()=>{if(l)S();else try{p.current&&p.current.state!=="running"&&await p.current.resume(),u(!0),w()}catch{d("oops! something went wrong! you may need to refresh the website"),b.current||(b.current=window.setTimeout(()=>{b.current=null,l&&w()},2e3))}};Fg.useEffect(()=>()=>S(),[S]);const O={12:"m2 (+12)",4:"M2 (+4)",16:"m3 (+16)",[-14]:"M3 (-14)",[-2]:"P4 (-2)",[-18]:"tritone (-18)",2:"P5 (+2)",14:"m6 (+14)",[-16]:"M6 (-16)",[-4]:"m7 (-4)",[-12]:"M7 (-12)"};return it.jsxs("div",{style:{padding:"2vw 1vw",border:"1px solid #ccc",borderRadius:8,textAlign:"center",overflow:"visible",cursor:"pointer",backgroundColor:l?"#f0f8ff":"#fff",transition:"background-color 0.2s ease",width:"100%",maxWidth:500,minWidth:260,height:"85vh",maxHeight:"85vh",minHeight:320,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",boxSizing:"border-box"},onClick:E,children:[it.jsx("h2",{style:{fontSize:"1.5rem",margin:"0 0 8px 0"},children:"Tuner"}),it.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:"clamp(2px, 0.5vh, 8px)",width:"100%",maxWidth:420,minWidth:220,height:"100%"},children:[it.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 320 460",style:{display:"block",margin:"0 auto",overflow:"visible",flexGrow:1,maxHeight:"60vh",minHeight:180,width:"100%"},children:[it.jsx("line",{x1:"160",y1:"20",x2:"160",y2:"420",stroke:"#bbb",strokeWidth:1,strokeLinecap:"round"}),Array.from({length:51},(U,B)=>{const Q=B-25,D=O[Q],M=D!==void 0,k=Q===0||Q===-25||Q===25,T=k?40:M?24:12,z=k?"#111":M?"#444":"#888",G=420-(Q+25)/50*400,I=D&&(D.includes("m")||D.includes("tritone"));return it.jsxs("g",{children:[it.jsx("line",{x1:160-T,y1:G,x2:160+T,y2:G,stroke:z,strokeWidth:k?3:M?2:1}),M&&I&&it.jsx("text",{x:160-T-12,y:G,fontSize:13,fill:"#333",textAnchor:"end",dominantBaseline:"middle",children:D}),M&&!I&&it.jsx("text",{x:160+T+12,y:G,fontSize:13,fill:"#333",textAnchor:"start",dominantBaseline:"middle",children:D})]},Q)}),it.jsx("text",{x:"160",y:"432",fontSize:13,fill:"#333",textAnchor:"middle",dominantBaseline:"hanging",children:"-25"}),it.jsx("text",{x:"160",y:"8",fontSize:13,fill:"#333",textAnchor:"middle",dominantBaseline:"auto",children:"+25"}),t!==null&&it.jsx("circle",{cx:"160",cy:420-(Math.max(-25,Math.min(25,t))+25)/50*400,r:8,fill:t>=-25&&t<=25?"#32CD32":"#e74c3c"})]}),it.jsx("div",{style:{fontSize:24,marginTop:8},children:o||"--"}),it.jsxs("div",{style:{fontSize:16,color:"#888"},children:["cents: ",t!==null?t:"--"]}),f&&it.jsx("div",{style:{color:"red"},children:f})]})]})},Af="15.1.22",Pg=(o,t,s)=>({endTime:t,insertTime:s,type:"exponentialRampToValue",value:o}),Kg=(o,t,s)=>({endTime:t,insertTime:s,type:"linearRampToValue",value:o}),ff=(o,t)=>({startTime:t,type:"setValue",value:o}),Cy=(o,t,s)=>({duration:s,startTime:t,type:"setValueCurve",values:o}),Oy=(o,t,{startTime:s,target:a,timeConstant:l})=>a+(t-a)*Math.exp((s-o)/l),Ua=o=>o.type==="exponentialRampToValue",hc=o=>o.type==="linearRampToValue",ai=o=>Ua(o)||hc(o),Ef=o=>o.type==="setValue",Es=o=>o.type==="setValueCurve",fc=(o,t,s,a)=>{const l=o[t];return l===void 0?a:ai(l)||Ef(l)?l.value:Es(l)?l.values[l.values.length-1]:Oy(s,fc(o,t-1,l.startTime,a),l)},Jg=(o,t,s,a,l)=>s===void 0?[a.insertTime,l]:ai(s)?[s.endTime,s.value]:Ef(s)?[s.startTime,s.value]:Es(s)?[s.startTime+s.duration,s.values[s.values.length-1]]:[s.startTime,fc(o,t-1,s.startTime,l)],df=o=>o.type==="cancelAndHold",pf=o=>o.type==="cancelScheduledValues",ii=o=>df(o)||pf(o)?o.cancelTime:Ua(o)||hc(o)?o.endTime:o.startTime,$g=(o,t,s,{endTime:a,value:l})=>s===l?l:0<s&&0<l||s<0&&l<0?s*(l/s)**((o-t)/(a-t)):0,ty=(o,t,s,{endTime:a,value:l})=>s+(o-t)/(a-t)*(l-s),yb=(o,t)=>{const s=Math.floor(t),a=Math.ceil(t);return s===a?o[s]:(1-(t-s))*o[s]+(1-(a-t))*o[a]},vb=(o,{duration:t,startTime:s,values:a})=>{const l=(o-s)/t*(a.length-1);return yb(a,l)},ac=o=>o.type==="setTarget";class bb{constructor(t){this._automationEvents=[],this._currenTime=0,this._defaultValue=t}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(t){const s=ii(t);if(df(t)||pf(t)){const a=this._automationEvents.findIndex(u=>pf(t)&&Es(u)?u.startTime+u.duration>=s:ii(u)>=s),l=this._automationEvents[a];if(a!==-1&&(this._automationEvents=this._automationEvents.slice(0,a)),df(t)){const u=this._automationEvents[this._automationEvents.length-1];if(l!==void 0&&ai(l)){if(u!==void 0&&ac(u))throw new Error("The internal list is malformed.");const f=u===void 0?l.insertTime:Es(u)?u.startTime+u.duration:ii(u),d=u===void 0?this._defaultValue:Es(u)?u.values[u.values.length-1]:u.value,p=Ua(l)?$g(s,f,d,l):ty(s,f,d,l),m=Ua(l)?Pg(p,s,this._currenTime):Kg(p,s,this._currenTime);this._automationEvents.push(m)}if(u!==void 0&&ac(u)&&this._automationEvents.push(ff(this.getValue(s),s)),u!==void 0&&Es(u)&&u.startTime+u.duration>s){const f=s-u.startTime,d=(u.values.length-1)/u.duration,p=Math.max(2,1+Math.ceil(f*d)),m=f/(p-1)*d,_=u.values.slice(0,p);if(m<1)for(let y=1;y<p;y+=1){const x=m*y%1;_[y]=u.values[y-1]*(1-x)+u.values[y]*x}this._automationEvents[this._automationEvents.length-1]=Cy(_,u.startTime,f)}}}else{const a=this._automationEvents.findIndex(f=>ii(f)>s),l=a===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[a-1];if(l!==void 0&&Es(l)&&ii(l)+l.duration>s)return!1;const u=Ua(t)?Pg(t.value,t.endTime,this._currenTime):hc(t)?Kg(t.value,s,this._currenTime):t;if(a===-1)this._automationEvents.push(u);else{if(Es(t)&&s+t.duration>ii(this._automationEvents[a]))return!1;this._automationEvents.splice(a,0,u)}}return!0}flush(t){const s=this._automationEvents.findIndex(a=>ii(a)>t);if(s>1){const a=this._automationEvents.slice(s-1),l=a[0];ac(l)&&a.unshift(ff(fc(this._automationEvents,s-2,l.startTime,this._defaultValue),l.startTime)),this._automationEvents=a}}getValue(t){if(this._automationEvents.length===0)return this._defaultValue;const s=this._automationEvents.findIndex(f=>ii(f)>t),a=this._automationEvents[s],l=(s===-1?this._automationEvents.length:s)-1,u=this._automationEvents[l];if(u!==void 0&&ac(u)&&(a===void 0||!ai(a)||a.insertTime>t))return Oy(t,fc(this._automationEvents,l-1,u.startTime,this._defaultValue),u);if(u!==void 0&&Ef(u)&&(a===void 0||!ai(a)))return u.value;if(u!==void 0&&Es(u)&&(a===void 0||!ai(a)||u.startTime+u.duration>t))return t<u.startTime+u.duration?vb(t,u):u.values[u.values.length-1];if(u!==void 0&&ai(u)&&(a===void 0||!ai(a)))return u.value;if(a!==void 0&&Ua(a)){const[f,d]=Jg(this._automationEvents,l,u,a,this._defaultValue);return $g(t,f,d,a)}if(a!==void 0&&hc(a)){const[f,d]=Jg(this._automationEvents,l,u,a,this._defaultValue);return ty(t,f,d,a)}return this._defaultValue}}const xb=o=>({cancelTime:o,type:"cancelAndHold"}),Sb=o=>({cancelTime:o,type:"cancelScheduledValues"}),Tb=(o,t)=>({endTime:t,type:"exponentialRampToValue",value:o}),wb=(o,t)=>({endTime:t,type:"linearRampToValue",value:o}),Ab=(o,t,s)=>({startTime:t,target:o,timeConstant:s,type:"setTarget"}),Eb=()=>new DOMException("","AbortError"),Db=o=>(t,s,[a,l,u],f)=>{o(t[l],[s,a,u],d=>d[0]===s&&d[1]===a,f)},Cb=o=>(t,s,a)=>{const l=[];for(let u=0;u<a.numberOfInputs;u+=1)l.push(new Set);o.set(t,{activeInputs:l,outputs:new Set,passiveInputs:new WeakMap,renderer:s})},Ob=o=>(t,s)=>{o.set(t,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:s})},La=new WeakSet,My=new WeakMap,Df=new WeakMap,Ry=new WeakMap,Cf=new WeakMap,Ac=new WeakMap,Ny=new WeakMap,mf=new WeakMap,_f=new WeakMap,gf=new WeakMap,ky={construct(){return ky}},Mb=o=>{try{const t=new Proxy(o,ky);new t}catch{return!1}return!0},ey=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,ny=(o,t)=>{const s=[];let a=o.replace(/^[\s]+/,""),l=a.match(ey);for(;l!==null;){const u=l[1].slice(1,-1),f=l[0].replace(/([\s]+)?;?$/,"").replace(u,new URL(u,t).toString());s.push(f),a=a.slice(l[0].length).replace(/^[\s]+/,""),l=a.match(ey)}return[s.join(";"),a]},sy=o=>{if(o!==void 0&&!Array.isArray(o))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},iy=o=>{if(!Mb(o))throw new TypeError("The given value for processorCtor should be a constructor.");if(o.prototype===null||typeof o.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},Rb=(o,t,s,a,l,u,f,d,p,m,_,y,x)=>{let b=0;return(S,w,E={credentials:"omit"})=>{const O=_.get(S);if(O!==void 0&&O.has(w))return Promise.resolve();const U=m.get(S);if(U!==void 0){const D=U.get(w);if(D!==void 0)return D}const B=u(S),Q=B.audioWorklet===void 0?l(w).then(([D,M])=>{const[k,T]=ny(D,M),z=`${k};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${T}
})})(window,'_AWGS')`;return s(z)}).then(()=>{const D=x._AWGS.pop();if(D===void 0)throw new SyntaxError;a(B.currentTime,B.sampleRate,()=>D(class{},void 0,(M,k)=>{if(M.trim()==="")throw t();const T=_f.get(B);if(T!==void 0){if(T.has(M))throw t();iy(k),sy(k.parameterDescriptors),T.set(M,k)}else iy(k),sy(k.parameterDescriptors),_f.set(B,new Map([[M,k]]))},B.sampleRate,void 0,void 0))}):Promise.all([l(w),Promise.resolve(o(y,y))]).then(([[D,M],k])=>{const T=b+1;b=T;const[z,G]=ny(D,M),nt=`${z};((AudioWorkletProcessor,registerProcessor)=>{${G}
})(${k?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${k?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${k?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${T}',class extends AudioWorkletProcessor{process(){return !1}})`,ot=new Blob([nt],{type:"application/javascript; charset=utf-8"}),R=URL.createObjectURL(ot);return B.audioWorklet.addModule(R,E).then(()=>{if(d(B))return B;const Y=f(B);return Y.audioWorklet.addModule(R,E).then(()=>Y)}).then(Y=>{if(p===null)throw new SyntaxError;try{new p(Y,`__sac${T}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(R))});return U===void 0?m.set(S,new Map([[w,Q]])):U.set(w,Q),Q.then(()=>{const D=_.get(S);D===void 0?_.set(S,new Set([w])):D.add(w)}).finally(()=>{const D=m.get(S);D!==void 0&&D.delete(w)}),Q}},In=(o,t)=>{const s=o.get(t);if(s===void 0)throw new Error("A value with the given key could not be found.");return s},Ec=(o,t)=>{const s=Array.from(o).filter(t);if(s.length>1)throw Error("More than one element was found.");if(s.length===0)throw Error("No element was found.");const[a]=s;return o.delete(a),a},qy=(o,t,s,a)=>{const l=In(o,t),u=Ec(l,f=>f[0]===s&&f[1]===a);return l.size===0&&o.delete(t),u},To=o=>In(Ny,o),Fa=o=>{if(La.has(o))throw new Error("The AudioNode is already stored.");La.add(o),To(o).forEach(t=>t(!0))},zy=o=>"port"in o,wo=o=>{if(!La.has(o))throw new Error("The AudioNode is not stored.");La.delete(o),To(o).forEach(t=>t(!1))},yf=(o,t)=>{!zy(o)&&t.every(s=>s.size===0)&&wo(o)},Nb=(o,t,s,a,l,u,f,d,p,m,_,y,x)=>{const b=new WeakMap;return(S,w,E,O,U)=>{const{activeInputs:B,passiveInputs:Q}=u(w),{outputs:D}=u(S),M=d(S),k=T=>{const z=p(w),G=p(S);if(T){const I=qy(Q,S,E,O);o(B,S,I,!1),!U&&!y(S)&&s(G,z,E,O),x(w)&&Fa(w)}else{const I=a(B,S,E,O);t(Q,O,I,!1),!U&&!y(S)&&l(G,z,E,O);const X=f(w);if(X===0)_(w)&&yf(w,B);else{const st=b.get(w);st!==void 0&&clearTimeout(st),b.set(w,setTimeout(()=>{_(w)&&yf(w,B)},X*1e3))}}};return m(D,[w,E,O],T=>T[0]===w&&T[1]===E&&T[2]===O,!0)?(M.add(k),_(S)?o(B,S,[E,O,k],!0):t(Q,O,[S,E,k],!0),!0):!1}},kb=o=>(t,s,[a,l,u],f)=>{const d=t.get(a);d===void 0?t.set(a,new Set([[l,s,u]])):o(d,[l,s,u],p=>p[0]===l&&p[1]===s,f)},qb=o=>(t,s)=>{const a=o(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});s.connect(a).connect(t.destination);const l=()=>{s.removeEventListener("ended",l),s.disconnect(a),a.disconnect()};s.addEventListener("ended",l)},zb=o=>(t,s)=>{o(t).add(s)},Vb={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},jb=(o,t,s,a,l,u)=>class extends o{constructor(d,p){const m=l(d),_={...Vb,...p},y=a(m,_),x=u(m)?t():null;super(d,!1,y,x),this._nativeAnalyserNode=y}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(d){this._nativeAnalyserNode.fftSize=d}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(d){const p=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=d,!(d>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=p,s()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(d){const p=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=d,!(this._nativeAnalyserNode.maxDecibels>d))throw this._nativeAnalyserNode.minDecibels=p,s()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(d){this._nativeAnalyserNode.smoothingTimeConstant=d}getByteFrequencyData(d){this._nativeAnalyserNode.getByteFrequencyData(d)}getByteTimeDomainData(d){this._nativeAnalyserNode.getByteTimeDomainData(d)}getFloatFrequencyData(d){this._nativeAnalyserNode.getFloatFrequencyData(d)}getFloatTimeDomainData(d){this._nativeAnalyserNode.getFloatTimeDomainData(d)}},He=(o,t)=>o.context===t,Ub=(o,t,s)=>()=>{const a=new WeakMap,l=async(u,f)=>{let d=t(u);if(!He(d,f)){const m={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,fftSize:d.fftSize,maxDecibels:d.maxDecibels,minDecibels:d.minDecibels,smoothingTimeConstant:d.smoothingTimeConstant};d=o(f,m)}return a.set(f,d),await s(u,f,d),d};return{render(u,f){const d=a.get(f);return d!==void 0?Promise.resolve(d):l(u,f)}}},dc=o=>{try{o.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},rs=()=>new DOMException("","IndexSizeError"),Of=o=>{o.getChannelData=(t=>s=>{try{return t.call(o,s)}catch(a){throw a.code===12?rs():a}})(o.getChannelData)},Bb={numberOfChannels:1},Lb=(o,t,s,a,l,u,f,d)=>{let p=null;return class Vy{constructor(_){if(l===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:y,numberOfChannels:x,sampleRate:b}={...Bb,..._};p===null&&(p=new l(1,1,44100));const S=a!==null&&t(u,u)?new a({length:y,numberOfChannels:x,sampleRate:b}):p.createBuffer(x,y,b);if(S.numberOfChannels===0)throw s();return typeof S.copyFromChannel!="function"?(f(S),Of(S)):t(dc,()=>dc(S))||d(S),o.add(S),S}static[Symbol.hasInstance](_){return _!==null&&typeof _=="object"&&Object.getPrototypeOf(_)===Vy.prototype||o.has(_)}}},rn=-34028234663852886e22,Qe=-rn,Ds=o=>La.has(o),Fb={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},Gb=(o,t,s,a,l,u,f,d)=>class extends o{constructor(m,_){const y=u(m),x={...Fb,..._},b=l(y,x),S=f(y),w=S?t():null;super(m,!1,b,w),this._audioBufferSourceNodeRenderer=w,this._isBufferNullified=!1,this._isBufferSet=x.buffer!==null,this._nativeAudioBufferSourceNode=b,this._onended=null,this._playbackRate=s(this,S,b.playbackRate,Qe,rn)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(m){if(this._nativeAudioBufferSourceNode.buffer=m,m!==null){if(this._isBufferSet)throw a();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(m){this._nativeAudioBufferSourceNode.loop=m}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(m){this._nativeAudioBufferSourceNode.loopEnd=m}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(m){this._nativeAudioBufferSourceNode.loopStart=m}get onended(){return this._onended}set onended(m){const _=typeof m=="function"?d(this,m):null;this._nativeAudioBufferSourceNode.onended=_;const y=this._nativeAudioBufferSourceNode.onended;this._onended=y!==null&&y===_?m:y}get playbackRate(){return this._playbackRate}start(m=0,_=0,y){if(this._nativeAudioBufferSourceNode.start(m,_,y),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=y===void 0?[m,_]:[m,_,y]),this.context.state!=="closed"){Fa(this);const x=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",x),Ds(this)&&wo(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",x)}}stop(m=0){this._nativeAudioBufferSourceNode.stop(m),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=m)}},Hb=(o,t,s,a,l)=>()=>{const u=new WeakMap;let f=null,d=null;const p=async(m,_)=>{let y=s(m);const x=He(y,_);if(!x){const b={buffer:y.buffer,channelCount:y.channelCount,channelCountMode:y.channelCountMode,channelInterpretation:y.channelInterpretation,loop:y.loop,loopEnd:y.loopEnd,loopStart:y.loopStart,playbackRate:y.playbackRate.value};y=t(_,b),f!==null&&y.start(...f),d!==null&&y.stop(d)}return u.set(_,y),x?await o(_,m.playbackRate,y.playbackRate):await a(_,m.playbackRate,y.playbackRate),await l(m,_,y),y};return{set start(m){f=m},set stop(m){d=m},render(m,_){const y=u.get(_);return y!==void 0?Promise.resolve(y):p(m,_)}}},Ib=o=>"playbackRate"in o,Yb=o=>"frequency"in o&&"gain"in o,Xb=o=>"offset"in o,Qb=o=>!("frequency"in o)&&"gain"in o,Zb=o=>"detune"in o&&"frequency"in o&&!("gain"in o),Wb=o=>"pan"in o,We=o=>In(My,o),Ao=o=>In(Ry,o),vf=(o,t)=>{const{activeInputs:s}=We(o);s.forEach(l=>l.forEach(([u])=>{t.includes(o)||vf(u,[...t,o])}));const a=Ib(o)?[o.playbackRate]:zy(o)?Array.from(o.parameters.values()):Yb(o)?[o.Q,o.detune,o.frequency,o.gain]:Xb(o)?[o.offset]:Qb(o)?[o.gain]:Zb(o)?[o.detune,o.frequency]:Wb(o)?[o.pan]:[];for(const l of a){const u=Ao(l);u!==void 0&&u.activeInputs.forEach(([f])=>vf(f,t))}Ds(o)&&wo(o)},jy=o=>{vf(o.destination,[])},Pb=o=>o===void 0||typeof o=="number"||typeof o=="string"&&(o==="balanced"||o==="interactive"||o==="playback"),Kb=(o,t,s,a,l,u,f,d,p)=>class extends o{constructor(_={}){if(p===null)throw new Error("Missing the native AudioContext constructor.");let y;try{y=new p(_)}catch(S){throw S.code===12&&S.message==="sampleRate is not in range"?s():S}if(y===null)throw a();if(!Pb(_.latencyHint))throw new TypeError(`The provided value '${_.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(_.sampleRate!==void 0&&y.sampleRate!==_.sampleRate)throw s();super(y,2);const{latencyHint:x}=_,{sampleRate:b}=y;if(this._baseLatency=typeof y.baseLatency=="number"?y.baseLatency:x==="balanced"?512/b:x==="interactive"||x===void 0?256/b:x==="playback"?1024/b:Math.max(2,Math.min(128,Math.round(x*b/128)))*128/b,this._nativeAudioContext=y,p.name==="webkitAudioContext"?(this._nativeGainNode=y.createGain(),this._nativeOscillatorNode=y.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(y.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,y.state==="running"){this._state="suspended";const S=()=>{this._state==="suspended"&&(this._state=null),y.removeEventListener("statechange",S)};y.addEventListener("statechange",S)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw t()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),jy(this)}))}createMediaElementSource(_){return new l(this,{mediaElement:_})}createMediaStreamDestination(){return new u(this)}createMediaStreamSource(_){return new f(this,{mediaStream:_})}createMediaStreamTrackSource(_){return new d(this,{mediaStreamTrack:_})}resume(){return this._state==="suspended"?new Promise((_,y)=>{const x=()=>{this._nativeAudioContext.removeEventListener("statechange",x),this._nativeAudioContext.state==="running"?_():this.resume().then(_,y)};this._nativeAudioContext.addEventListener("statechange",x)}):this._nativeAudioContext.resume().catch(_=>{throw _===void 0||_.code===15?t():_})}suspend(){return this._nativeAudioContext.suspend().catch(_=>{throw _===void 0?t():_})}},Jb=(o,t,s,a,l,u,f,d)=>class extends o{constructor(m,_){const y=u(m),x=f(y),b=l(y,_,x),S=x?t(d):null;super(m,!1,b,S),this._isNodeOfNativeOfflineAudioContext=x,this._nativeAudioDestinationNode=b}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(m){if(this._isNodeOfNativeOfflineAudioContext)throw a();if(m>this._nativeAudioDestinationNode.maxChannelCount)throw s();this._nativeAudioDestinationNode.channelCount=m}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(m){if(this._isNodeOfNativeOfflineAudioContext)throw a();this._nativeAudioDestinationNode.channelCountMode=m}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},$b=o=>{const t=new WeakMap,s=async(a,l)=>{const u=l.destination;return t.set(l,u),await o(a,l,u),u};return{render(a,l){const u=t.get(l);return u!==void 0?Promise.resolve(u):s(a,l)}}},tx=(o,t,s,a,l,u,f,d)=>(p,m)=>{const _=m.listener,y=()=>{const D=new Float32Array(1),M=t(m,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),k=f(m);let T=!1,z=[0,0,-1,0,1,0],G=[0,0,0];const I=()=>{if(T)return;T=!0;const ot=a(m,256,9,0);ot.onaudioprocess=({inputBuffer:R})=>{const Y=[u(R,D,0),u(R,D,1),u(R,D,2),u(R,D,3),u(R,D,4),u(R,D,5)];Y.some((at,A)=>at!==z[A])&&(_.setOrientation(...Y),z=Y);const tt=[u(R,D,6),u(R,D,7),u(R,D,8)];tt.some((at,A)=>at!==G[A])&&(_.setPosition(...tt),G=tt)},M.connect(ot)},X=ot=>R=>{R!==z[ot]&&(z[ot]=R,_.setOrientation(...z))},st=ot=>R=>{R!==G[ot]&&(G[ot]=R,_.setPosition(...G))},nt=(ot,R,Y)=>{const tt=s(m,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:R});tt.connect(M,0,ot),tt.start(),Object.defineProperty(tt.offset,"defaultValue",{get(){return R}});const at=o({context:p},k,tt.offset,Qe,rn);return d(at,"value",A=>()=>A.call(at),A=>L=>{try{A.call(at,L)}catch(J){if(J.code!==9)throw J}I(),k&&Y(L)}),at.cancelAndHoldAtTime=(A=>k?()=>{throw l()}:(...L)=>{const J=A.apply(at,L);return I(),J})(at.cancelAndHoldAtTime),at.cancelScheduledValues=(A=>k?()=>{throw l()}:(...L)=>{const J=A.apply(at,L);return I(),J})(at.cancelScheduledValues),at.exponentialRampToValueAtTime=(A=>k?()=>{throw l()}:(...L)=>{const J=A.apply(at,L);return I(),J})(at.exponentialRampToValueAtTime),at.linearRampToValueAtTime=(A=>k?()=>{throw l()}:(...L)=>{const J=A.apply(at,L);return I(),J})(at.linearRampToValueAtTime),at.setTargetAtTime=(A=>k?()=>{throw l()}:(...L)=>{const J=A.apply(at,L);return I(),J})(at.setTargetAtTime),at.setValueAtTime=(A=>k?()=>{throw l()}:(...L)=>{const J=A.apply(at,L);return I(),J})(at.setValueAtTime),at.setValueCurveAtTime=(A=>k?()=>{throw l()}:(...L)=>{const J=A.apply(at,L);return I(),J})(at.setValueCurveAtTime),at};return{forwardX:nt(0,0,X(0)),forwardY:nt(1,0,X(1)),forwardZ:nt(2,-1,X(2)),positionX:nt(6,0,st(0)),positionY:nt(7,0,st(1)),positionZ:nt(8,0,st(2)),upX:nt(3,0,X(3)),upY:nt(4,1,X(4)),upZ:nt(5,0,X(5))}},{forwardX:x,forwardY:b,forwardZ:S,positionX:w,positionY:E,positionZ:O,upX:U,upY:B,upZ:Q}=_.forwardX===void 0?y():_;return{get forwardX(){return x},get forwardY(){return b},get forwardZ(){return S},get positionX(){return w},get positionY(){return E},get positionZ(){return O},get upX(){return U},get upY(){return B},get upZ(){return Q}}},pc=o=>"context"in o,Eo=o=>pc(o[0]),Hi=(o,t,s,a)=>{for(const l of o)if(s(l)){if(a)return!1;throw Error("The set contains at least one similar element.")}return o.add(t),!0},ay=(o,t,[s,a],l)=>{Hi(o,[t,s,a],u=>u[0]===t&&u[1]===s,l)},ry=(o,[t,s,a],l)=>{const u=o.get(t);u===void 0?o.set(t,new Set([[s,a]])):Hi(u,[s,a],f=>f[0]===s,l)},Wa=o=>"inputs"in o,mc=(o,t,s,a)=>{if(Wa(t)){const l=t.inputs[a];return o.connect(l,s,0),[l,s,0]}return o.connect(t,s,a),[t,s,a]},Uy=(o,t,s)=>{for(const a of o)if(a[0]===t&&a[1]===s)return o.delete(a),a;return null},ex=(o,t,s)=>Ec(o,a=>a[0]===t&&a[1]===s),By=(o,t)=>{if(!To(o).delete(t))throw new Error("Missing the expected event listener.")},Ly=(o,t,s)=>{const a=In(o,t),l=Ec(a,u=>u[0]===s);return a.size===0&&o.delete(t),l},_c=(o,t,s,a)=>{Wa(t)?o.disconnect(t.inputs[a],s,0):o.disconnect(t,s,a)},Kt=o=>In(Df,o),go=o=>In(Cf,o),Fi=o=>mf.has(o),lc=o=>!La.has(o),oy=(o,t)=>new Promise(s=>{if(t!==null)s(!0);else{const a=o.createScriptProcessor(256,1,1),l=o.createGain(),u=o.createBuffer(1,2,44100),f=u.getChannelData(0);f[0]=1,f[1]=1;const d=o.createBufferSource();d.buffer=u,d.loop=!0,d.connect(a).connect(o.destination),d.connect(l),d.disconnect(l),a.onaudioprocess=p=>{const m=p.inputBuffer.getChannelData(0);Array.prototype.some.call(m,_=>_===1)?s(!0):s(!1),d.stop(),a.onaudioprocess=null,d.disconnect(a),a.disconnect(o.destination)},d.start()}}),uf=(o,t)=>{const s=new Map;for(const a of o)for(const l of a){const u=s.get(l);s.set(l,u===void 0?1:u+1)}s.forEach((a,l)=>t(l,a))},gc=o=>"context"in o,nx=o=>{const t=new Map;o.connect=(s=>(a,l=0,u=0)=>{const f=gc(a)?s(a,l,u):s(a,l),d=t.get(a);return d===void 0?t.set(a,[{input:u,output:l}]):d.every(p=>p.input!==u||p.output!==l)&&d.push({input:u,output:l}),f})(o.connect.bind(o)),o.disconnect=(s=>(a,l,u)=>{if(s.apply(o),a===void 0)t.clear();else if(typeof a=="number")for(const[f,d]of t){const p=d.filter(m=>m.output!==a);p.length===0?t.delete(f):t.set(f,p)}else if(t.has(a))if(l===void 0)t.delete(a);else{const f=t.get(a);if(f!==void 0){const d=f.filter(p=>p.output!==l&&(p.input!==u||u===void 0));d.length===0?t.delete(a):t.set(a,d)}}for(const[f,d]of t)d.forEach(p=>{gc(f)?o.connect(f,p.output,p.input):o.connect(f,p.output)})})(o.disconnect)},sx=(o,t,s,a)=>{const{activeInputs:l,passiveInputs:u}=Ao(t),{outputs:f}=We(o),d=To(o),p=m=>{const _=Kt(o),y=go(t);if(m){const x=Ly(u,o,s);ay(l,o,x,!1),!a&&!Fi(o)&&_.connect(y,s)}else{const x=ex(l,o,s);ry(u,x,!1),!a&&!Fi(o)&&_.disconnect(y,s)}};return Hi(f,[t,s],m=>m[0]===t&&m[1]===s,!0)?(d.add(p),Ds(o)?ay(l,o,[s,p],!0):ry(u,[o,s,p],!0),!0):!1},ix=(o,t,s,a)=>{const{activeInputs:l,passiveInputs:u}=We(t),f=Uy(l[a],o,s);return f===null?[qy(u,o,s,a)[2],!1]:[f[2],!0]},ax=(o,t,s)=>{const{activeInputs:a,passiveInputs:l}=Ao(t),u=Uy(a,o,s);return u===null?[Ly(l,o,s)[1],!1]:[u[2],!0]},Mf=(o,t,s,a,l)=>{const[u,f]=ix(o,s,a,l);if(u!==null&&(By(o,u),f&&!t&&!Fi(o)&&_c(Kt(o),Kt(s),a,l)),Ds(s)){const{activeInputs:d}=We(s);yf(s,d)}},Rf=(o,t,s,a)=>{const[l,u]=ax(o,s,a);l!==null&&(By(o,l),u&&!t&&!Fi(o)&&Kt(o).disconnect(go(s),a))},rx=(o,t)=>{const s=We(o),a=[];for(const l of s.outputs)Eo(l)?Mf(o,t,...l):Rf(o,t,...l),a.push(l[0]);return s.outputs.clear(),a},ox=(o,t,s)=>{const a=We(o),l=[];for(const u of a.outputs)u[1]===s&&(Eo(u)?Mf(o,t,...u):Rf(o,t,...u),l.push(u[0]),a.outputs.delete(u));return l},lx=(o,t,s,a,l)=>{const u=We(o);return Array.from(u.outputs).filter(f=>f[0]===s&&(a===void 0||f[1]===a)&&(l===void 0||f[2]===l)).map(f=>(Eo(f)?Mf(o,t,...f):Rf(o,t,...f),u.outputs.delete(f),f[0]))},cx=(o,t,s,a,l,u,f,d,p,m,_,y,x,b,S,w)=>class extends m{constructor(O,U,B,Q){super(B),this._context=O,this._nativeAudioNode=B;const D=_(O);y(D)&&s(oy,()=>oy(D,w))!==!0&&nx(B),Df.set(this,B),Ny.set(this,new Set),O.state!=="closed"&&U&&Fa(this),o(this,Q,B)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(O){this._nativeAudioNode.channelCount=O}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(O){this._nativeAudioNode.channelCountMode=O}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(O){this._nativeAudioNode.channelInterpretation=O}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(O,U=0,B=0){if(U<0||U>=this._nativeAudioNode.numberOfOutputs)throw l();const Q=_(this._context),D=S(Q);if(x(O)||b(O))throw u();if(pc(O)){const T=Kt(O);try{const G=mc(this._nativeAudioNode,T,U,B),I=lc(this);(D||I)&&this._nativeAudioNode.disconnect(...G),this.context.state!=="closed"&&!I&&lc(O)&&Fa(O)}catch(G){throw G.code===12?u():G}if(t(this,O,U,B,D)){const G=p([this],O);uf(G,a(D))}return O}const M=go(O);if(M.name==="playbackRate"&&M.maxValue===1024)throw f();try{this._nativeAudioNode.connect(M,U),(D||lc(this))&&this._nativeAudioNode.disconnect(M,U)}catch(T){throw T.code===12?u():T}if(sx(this,O,U,D)){const T=p([this],O);uf(T,a(D))}}disconnect(O,U,B){let Q;const D=_(this._context),M=S(D);if(O===void 0)Q=rx(this,M);else if(typeof O=="number"){if(O<0||O>=this.numberOfOutputs)throw l();Q=ox(this,M,O)}else{if(U!==void 0&&(U<0||U>=this.numberOfOutputs)||pc(O)&&B!==void 0&&(B<0||B>=O.numberOfInputs))throw l();if(Q=lx(this,M,O,U,B),Q.length===0)throw u()}for(const k of Q){const T=p([this],k);uf(T,d)}}},ux=(o,t,s,a,l,u,f,d,p,m,_,y,x)=>(b,S,w,E=null,O=null)=>{const U=w.value,B=new bb(U),Q=S?a(B):null,D={get defaultValue(){return U},get maxValue(){return E===null?w.maxValue:E},get minValue(){return O===null?w.minValue:O},get value(){return w.value},set value(M){w.value=M,D.setValueAtTime(M,b.context.currentTime)},cancelAndHoldAtTime(M){if(typeof w.cancelAndHoldAtTime=="function")Q===null&&B.flush(b.context.currentTime),B.add(l(M)),w.cancelAndHoldAtTime(M);else{const k=Array.from(B).pop();Q===null&&B.flush(b.context.currentTime),B.add(l(M));const T=Array.from(B).pop();w.cancelScheduledValues(M),k!==T&&T!==void 0&&(T.type==="exponentialRampToValue"?w.exponentialRampToValueAtTime(T.value,T.endTime):T.type==="linearRampToValue"?w.linearRampToValueAtTime(T.value,T.endTime):T.type==="setValue"?w.setValueAtTime(T.value,T.startTime):T.type==="setValueCurve"&&w.setValueCurveAtTime(T.values,T.startTime,T.duration))}return D},cancelScheduledValues(M){return Q===null&&B.flush(b.context.currentTime),B.add(u(M)),w.cancelScheduledValues(M),D},exponentialRampToValueAtTime(M,k){if(M===0)throw new RangeError;if(!Number.isFinite(k)||k<0)throw new RangeError;const T=b.context.currentTime;return Q===null&&B.flush(T),Array.from(B).length===0&&(B.add(m(U,T)),w.setValueAtTime(U,T)),B.add(f(M,k)),w.exponentialRampToValueAtTime(M,k),D},linearRampToValueAtTime(M,k){const T=b.context.currentTime;return Q===null&&B.flush(T),Array.from(B).length===0&&(B.add(m(U,T)),w.setValueAtTime(U,T)),B.add(d(M,k)),w.linearRampToValueAtTime(M,k),D},setTargetAtTime(M,k,T){return Q===null&&B.flush(b.context.currentTime),B.add(p(M,k,T)),w.setTargetAtTime(M,k,T),D},setValueAtTime(M,k){return Q===null&&B.flush(b.context.currentTime),B.add(m(M,k)),w.setValueAtTime(M,k),D},setValueCurveAtTime(M,k,T){const z=M instanceof Float32Array?M:new Float32Array(M);if(y!==null&&y.name==="webkitAudioContext"){const G=k+T,I=b.context.sampleRate,X=Math.ceil(k*I),st=Math.floor(G*I),nt=st-X,ot=new Float32Array(nt);for(let Y=0;Y<nt;Y+=1){const tt=(z.length-1)/T*((X+Y)/I-k),at=Math.floor(tt),A=Math.ceil(tt);ot[Y]=at===A?z[at]:(1-(tt-at))*z[at]+(1-(A-tt))*z[A]}Q===null&&B.flush(b.context.currentTime),B.add(_(ot,k,T)),w.setValueCurveAtTime(ot,k,T);const R=st/I;R<G&&x(D,ot[ot.length-1],R),x(D,z[z.length-1],G)}else Q===null&&B.flush(b.context.currentTime),B.add(_(z,k,T)),w.setValueCurveAtTime(z,k,T);return D}};return s.set(D,w),t.set(D,b),o(D,Q),D},hx=o=>({replay(t){for(const s of o)if(s.type==="exponentialRampToValue"){const{endTime:a,value:l}=s;t.exponentialRampToValueAtTime(l,a)}else if(s.type==="linearRampToValue"){const{endTime:a,value:l}=s;t.linearRampToValueAtTime(l,a)}else if(s.type==="setTarget"){const{startTime:a,target:l,timeConstant:u}=s;t.setTargetAtTime(l,a,u)}else if(s.type==="setValue"){const{startTime:a,value:l}=s;t.setValueAtTime(l,a)}else if(s.type==="setValueCurve"){const{duration:a,startTime:l,values:u}=s;t.setValueCurveAtTime(u,l,a)}else throw new Error("Can't apply an unknown automation.")}});class Fy{constructor(t){this._map=new Map(t)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(t,s=null){return this._map.forEach((a,l)=>t.call(s,a,l,this))}get(t){return this._map.get(t)}has(t){return this._map.has(t)}keys(){return this._map.keys()}values(){return this._map.values()}}const fx={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},dx=(o,t,s,a,l,u,f,d,p,m,_,y,x,b)=>class extends t{constructor(w,E,O){var U;const B=d(w),Q=p(B),D=_({...fx,...O});x(D);const M=_f.get(B),k=M?.get(E),T=Q||B.state!=="closed"?B:(U=f(B))!==null&&U!==void 0?U:B,z=l(T,Q?null:w.baseLatency,m,E,k,D),G=Q?a(E,D,k):null;super(w,!0,z,G);const I=[];z.parameters.forEach((st,nt)=>{const ot=s(this,Q,st);I.push([nt,ot])}),this._nativeAudioWorkletNode=z,this._onprocessorerror=null,this._parameters=new Fy(I),Q&&o(B,this);const{activeInputs:X}=u(this);y(z,X)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(w){const E=typeof w=="function"?b(this,w):null;this._nativeAudioWorkletNode.onprocessorerror=E;const O=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=O!==null&&O===E?w:O}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function yc(o,t,s,a,l){if(typeof o.copyFromChannel=="function")t[s].byteLength===0&&(t[s]=new Float32Array(128)),o.copyFromChannel(t[s],a,l);else{const u=o.getChannelData(a);if(t[s].byteLength===0)t[s]=u.slice(l,l+128);else{const f=new Float32Array(u.buffer,l*Float32Array.BYTES_PER_ELEMENT,128);t[s].set(f)}}}const Gy=(o,t,s,a,l)=>{typeof o.copyToChannel=="function"?t[s].byteLength!==0&&o.copyToChannel(t[s],a,l):t[s].byteLength!==0&&o.getChannelData(a).set(t[s],l)},vc=(o,t)=>{const s=[];for(let a=0;a<o;a+=1){const l=[],u=typeof t=="number"?t:t[a];for(let f=0;f<u;f+=1)l.push(new Float32Array(128));s.push(l)}return s},px=(o,t)=>{const s=In(gf,o),a=Kt(t);return In(s,a)},mx=async(o,t,s,a,l,u,f)=>{const d=t===null?Math.ceil(o.context.length/128)*128:t.length,p=a.channelCount*a.numberOfInputs,m=l.reduce((E,O)=>E+O,0),_=m===0?null:s.createBuffer(m,d,s.sampleRate);if(u===void 0)throw new Error("Missing the processor constructor.");const y=We(o),x=await px(s,o),b=vc(a.numberOfInputs,a.channelCount),S=vc(a.numberOfOutputs,l),w=Array.from(o.parameters.keys()).reduce((E,O)=>({...E,[O]:new Float32Array(128)}),{});for(let E=0;E<d;E+=128){if(a.numberOfInputs>0&&t!==null)for(let O=0;O<a.numberOfInputs;O+=1)for(let U=0;U<a.channelCount;U+=1)yc(t,b[O],U,U,E);u.parameterDescriptors!==void 0&&t!==null&&u.parameterDescriptors.forEach(({name:O},U)=>{yc(t,w,O,p+U,E)});for(let O=0;O<a.numberOfInputs;O+=1)for(let U=0;U<l[O];U+=1)S[O][U].byteLength===0&&(S[O][U]=new Float32Array(128));try{const O=b.map((B,Q)=>y.activeInputs[Q].size===0?[]:B),U=f(E/s.sampleRate,s.sampleRate,()=>x.process(O,S,w));if(_!==null)for(let B=0,Q=0;B<a.numberOfOutputs;B+=1){for(let D=0;D<l[B];D+=1)Gy(_,S[B],D,Q+D,E);Q+=l[B]}if(!U)break}catch(O){o.dispatchEvent(new ErrorEvent("processorerror",{colno:O.colno,filename:O.filename,lineno:O.lineno,message:O.message}));break}}return _},_x=(o,t,s,a,l,u,f,d,p,m,_,y,x,b,S,w)=>(E,O,U)=>{const B=new WeakMap;let Q=null;const D=async(M,k)=>{let T=_(M),z=null;const G=He(T,k),I=Array.isArray(O.outputChannelCount)?O.outputChannelCount:Array.from(O.outputChannelCount);if(y===null){const X=I.reduce((R,Y)=>R+Y,0),st=l(k,{channelCount:Math.max(1,X),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,X)}),nt=[];for(let R=0;R<M.numberOfOutputs;R+=1)nt.push(a(k,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:I[R]}));const ot=f(k,{channelCount:O.channelCount,channelCountMode:O.channelCountMode,channelInterpretation:O.channelInterpretation,gain:1});ot.connect=t.bind(null,nt),ot.disconnect=p.bind(null,nt),z=[st,nt,ot]}else G||(T=new y(k,E));if(B.set(k,z===null?T:z[2]),z!==null){if(Q===null){if(U===void 0)throw new Error("Missing the processor constructor.");if(x===null)throw new Error("Missing the native OfflineAudioContext constructor.");const Y=M.channelCount*M.numberOfInputs,tt=U.parameterDescriptors===void 0?0:U.parameterDescriptors.length,at=Y+tt;Q=mx(M,at===0?null:await(async()=>{const L=new x(at,Math.ceil(M.context.length/128)*128,k.sampleRate),J=[],et=[];for(let ct=0;ct<O.numberOfInputs;ct+=1)J.push(f(L,{channelCount:O.channelCount,channelCountMode:O.channelCountMode,channelInterpretation:O.channelInterpretation,gain:1})),et.push(l(L,{channelCount:O.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:O.channelCount}));const ht=await Promise.all(Array.from(M.parameters.values()).map(async ct=>{const Nt=u(L,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:ct.value});return await b(L,ct,Nt.offset),Nt})),lt=a(L,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,Y+tt)});for(let ct=0;ct<O.numberOfInputs;ct+=1){J[ct].connect(et[ct]);for(let Nt=0;Nt<O.channelCount;Nt+=1)et[ct].connect(lt,Nt,ct*O.channelCount+Nt)}for(const[ct,Nt]of ht.entries())Nt.connect(lt,0,Y+ct),Nt.start(0);return lt.connect(L.destination),await Promise.all(J.map(ct=>S(M,L,ct))),w(L)})(),k,O,I,U,m)}const X=await Q,st=s(k,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[nt,ot,R]=z;X!==null&&(st.buffer=X,st.start(0)),st.connect(nt);for(let Y=0,tt=0;Y<M.numberOfOutputs;Y+=1){const at=ot[Y];for(let A=0;A<I[Y];A+=1)nt.connect(at,tt+A,A);tt+=I[Y]}return R}if(G)for(const[X,st]of M.parameters.entries())await o(k,st,T.parameters.get(X));else for(const[X,st]of M.parameters.entries())await b(k,st,T.parameters.get(X));return await S(M,k,T),T};return{render(M,k){d(k,M);const T=B.get(k);return T!==void 0?Promise.resolve(T):D(M,k)}}},gx=(o,t,s,a,l,u,f,d,p,m,_,y,x,b,S,w,E,O,U,B)=>class extends S{constructor(D,M){super(D,M),this._nativeContext=D,this._audioWorklet=o===void 0?void 0:{addModule:(k,T)=>o(this,k,T)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new t(this)}createBiquadFilter(){return new l(this)}createBuffer(D,M,k){return new s({length:M,numberOfChannels:D,sampleRate:k})}createBufferSource(){return new a(this)}createChannelMerger(D=6){return new u(this,{numberOfInputs:D})}createChannelSplitter(D=6){return new f(this,{numberOfOutputs:D})}createConstantSource(){return new d(this)}createConvolver(){return new p(this)}createDelay(D=1){return new _(this,{maxDelayTime:D})}createDynamicsCompressor(){return new y(this)}createGain(){return new x(this)}createIIRFilter(D,M){return new b(this,{feedback:M,feedforward:D})}createOscillator(){return new w(this)}createPanner(){return new E(this)}createPeriodicWave(D,M,k={disableNormalization:!1}){return new O(this,{...k,imag:M,real:D})}createStereoPanner(){return new U(this)}createWaveShaper(){return new B(this)}decodeAudioData(D,M,k){return m(this._nativeContext,D).then(T=>(typeof M=="function"&&M(T),T),T=>{throw typeof k=="function"&&k(T),T})}},yx={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},vx=(o,t,s,a,l,u,f,d)=>class extends o{constructor(m,_){const y=u(m),x={...yx,..._},b=l(y,x),S=f(y),w=S?s():null;super(m,!1,b,w),this._Q=t(this,S,b.Q,Qe,rn),this._detune=t(this,S,b.detune,1200*Math.log2(Qe),-1200*Math.log2(Qe)),this._frequency=t(this,S,b.frequency,m.sampleRate/2,0),this._gain=t(this,S,b.gain,40*Math.log10(Qe),rn),this._nativeBiquadFilterNode=b,d(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(m){this._nativeBiquadFilterNode.type=m}getFrequencyResponse(m,_,y){try{this._nativeBiquadFilterNode.getFrequencyResponse(m,_,y)}catch(x){throw x.code===11?a():x}if(m.length!==_.length||_.length!==y.length)throw a()}},bx=(o,t,s,a,l)=>()=>{const u=new WeakMap,f=async(d,p)=>{let m=s(d);const _=He(m,p);if(!_){const y={Q:m.Q.value,channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,detune:m.detune.value,frequency:m.frequency.value,gain:m.gain.value,type:m.type};m=t(p,y)}return u.set(p,m),_?(await o(p,d.Q,m.Q),await o(p,d.detune,m.detune),await o(p,d.frequency,m.frequency),await o(p,d.gain,m.gain)):(await a(p,d.Q,m.Q),await a(p,d.detune,m.detune),await a(p,d.frequency,m.frequency),await a(p,d.gain,m.gain)),await l(d,p,m),m};return{render(d,p){const m=u.get(p);return m!==void 0?Promise.resolve(m):f(d,p)}}},xx=(o,t)=>(s,a)=>{const l=t.get(s);if(l!==void 0)return l;const u=o.get(s);if(u!==void 0)return u;try{const f=a();return f instanceof Promise?(o.set(s,f),f.catch(()=>!1).then(d=>(o.delete(s),t.set(s,d),d))):(t.set(s,f),f)}catch{return t.set(s,!1),!1}},Sx={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},Tx=(o,t,s,a,l)=>class extends o{constructor(f,d){const p=a(f),m={...Sx,...d},_=s(p,m),y=l(p)?t():null;super(f,!1,_,y)}},wx=(o,t,s)=>()=>{const a=new WeakMap,l=async(u,f)=>{let d=t(u);if(!He(d,f)){const m={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,numberOfInputs:d.numberOfInputs};d=o(f,m)}return a.set(f,d),await s(u,f,d),d};return{render(u,f){const d=a.get(f);return d!==void 0?Promise.resolve(d):l(u,f)}}},Ax={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},Ex=(o,t,s,a,l,u)=>class extends o{constructor(d,p){const m=a(d),_=u({...Ax,...p}),y=s(m,_),x=l(m)?t():null;super(d,!1,y,x)}},Dx=(o,t,s)=>()=>{const a=new WeakMap,l=async(u,f)=>{let d=t(u);if(!He(d,f)){const m={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,numberOfOutputs:d.numberOfOutputs};d=o(f,m)}return a.set(f,d),await s(u,f,d),d};return{render(u,f){const d=a.get(f);return d!==void 0?Promise.resolve(d):l(u,f)}}},Cx=o=>(t,s,a)=>o(s,t,a),Ox=o=>(t,s,a=0,l=0)=>{const u=t[a];if(u===void 0)throw o();return gc(s)?u.connect(s,0,l):u.connect(s,0)},Mx=o=>(t,s)=>{const a=o(t,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),l=t.createBuffer(1,2,44100);return a.buffer=l,a.loop=!0,a.connect(s),a.start(),()=>{a.stop(),a.disconnect(s)}},Rx={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},Nx=(o,t,s,a,l,u,f)=>class extends o{constructor(p,m){const _=l(p),y={...Rx,...m},x=a(_,y),b=u(_),S=b?s():null;super(p,!1,x,S),this._constantSourceNodeRenderer=S,this._nativeConstantSourceNode=x,this._offset=t(this,b,x.offset,Qe,rn),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(p){const m=typeof p=="function"?f(this,p):null;this._nativeConstantSourceNode.onended=m;const _=this._nativeConstantSourceNode.onended;this._onended=_!==null&&_===m?p:_}start(p=0){if(this._nativeConstantSourceNode.start(p),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=p),this.context.state!=="closed"){Fa(this);const m=()=>{this._nativeConstantSourceNode.removeEventListener("ended",m),Ds(this)&&wo(this)};this._nativeConstantSourceNode.addEventListener("ended",m)}}stop(p=0){this._nativeConstantSourceNode.stop(p),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=p)}},kx=(o,t,s,a,l)=>()=>{const u=new WeakMap;let f=null,d=null;const p=async(m,_)=>{let y=s(m);const x=He(y,_);if(!x){const b={channelCount:y.channelCount,channelCountMode:y.channelCountMode,channelInterpretation:y.channelInterpretation,offset:y.offset.value};y=t(_,b),f!==null&&y.start(f),d!==null&&y.stop(d)}return u.set(_,y),x?await o(_,m.offset,y.offset):await a(_,m.offset,y.offset),await l(m,_,y),y};return{set start(m){f=m},set stop(m){d=m},render(m,_){const y=u.get(_);return y!==void 0?Promise.resolve(y):p(m,_)}}},qx=o=>t=>(o[0]=t,o[0]),zx={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},Vx=(o,t,s,a,l,u)=>class extends o{constructor(d,p){const m=a(d),_={...zx,...p},y=s(m,_),b=l(m)?t():null;super(d,!1,y,b),this._isBufferNullified=!1,this._nativeConvolverNode=y,_.buffer!==null&&u(this,_.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(d){if(this._nativeConvolverNode.buffer=d,d===null&&this._nativeConvolverNode.buffer!==null){const p=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=p.createBuffer(1,1,p.sampleRate),this._isBufferNullified=!0,u(this,0)}else this._isBufferNullified=!1,u(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(d){this._nativeConvolverNode.normalize=d}},jx=(o,t,s)=>()=>{const a=new WeakMap,l=async(u,f)=>{let d=t(u);if(!He(d,f)){const m={buffer:d.buffer,channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,disableNormalization:!d.normalize};d=o(f,m)}return a.set(f,d),Wa(d)?await s(u,f,d.inputs[0]):await s(u,f,d),d};return{render(u,f){const d=a.get(f);return d!==void 0?Promise.resolve(d):l(u,f)}}},Ux=(o,t)=>(s,a,l)=>{if(t===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new t(s,a,l)}catch(u){throw u.name==="SyntaxError"?o():u}},Bx=()=>new DOMException("","DataCloneError"),ly=o=>{const{port1:t,port2:s}=new MessageChannel;return new Promise(a=>{const l=()=>{s.onmessage=null,t.close(),s.close(),a()};s.onmessage=()=>l();try{t.postMessage(o,[o])}catch{}finally{l()}})},Lx=(o,t,s,a,l,u,f,d,p,m,_)=>(y,x)=>{const b=f(y)?y:u(y);if(l.has(x)){const S=s();return Promise.reject(S)}try{l.add(x)}catch{}return t(p,()=>p(b))?b.decodeAudioData(x).then(S=>(ly(x).catch(()=>{}),t(d,()=>d(S))||_(S),o.add(S),S)):new Promise((S,w)=>{const E=async()=>{try{await ly(x)}catch{}},O=U=>{w(U),E()};try{b.decodeAudioData(x,U=>{typeof U.copyFromChannel!="function"&&(m(U),Of(U)),o.add(U),E().then(()=>S(U))},U=>{O(U===null?a():U)})}catch(U){O(U)}})},Fx=(o,t,s,a,l,u,f,d)=>(p,m)=>{const _=t.get(p);if(_===void 0)throw new Error("Missing the expected cycle count.");const y=u(p.context),x=d(y);if(_===m){if(t.delete(p),!x&&f(p)){const b=a(p),{outputs:S}=s(p);for(const w of S)if(Eo(w)){const E=a(w[0]);o(b,E,w[1],w[2])}else{const E=l(w[0]);b.connect(E,w[1])}}}else t.set(p,_-m)},Gx={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},Hx=(o,t,s,a,l,u,f)=>class extends o{constructor(p,m){const _=l(p),y={...Gx,...m},x=a(_,y),b=u(_),S=b?s(y.maxDelayTime):null;super(p,!1,x,S),this._delayTime=t(this,b,x.delayTime),f(this,y.maxDelayTime)}get delayTime(){return this._delayTime}},Ix=(o,t,s,a,l)=>u=>{const f=new WeakMap,d=async(p,m)=>{let _=s(p);const y=He(_,m);if(!y){const x={channelCount:_.channelCount,channelCountMode:_.channelCountMode,channelInterpretation:_.channelInterpretation,delayTime:_.delayTime.value,maxDelayTime:u};_=t(m,x)}return f.set(m,_),y?await o(m,p.delayTime,_.delayTime):await a(m,p.delayTime,_.delayTime),await l(p,m,_),_};return{render(p,m){const _=f.get(m);return _!==void 0?Promise.resolve(_):d(p,m)}}},Yx=o=>(t,s,a,l)=>o(t[l],u=>u[0]===s&&u[1]===a),Xx=o=>(t,s)=>{o(t).delete(s)},Qx=o=>"delayTime"in o,Zx=(o,t,s)=>function a(l,u){const f=pc(u)?u:s(o,u);if(Qx(f))return[];if(l[0]===f)return[l];if(l.includes(f))return[];const{outputs:d}=t(f);return Array.from(d).map(p=>a([...l,f],p[0])).reduce((p,m)=>p.concat(m),[])},rc=(o,t,s)=>{const a=t[s];if(a===void 0)throw o();return a},Wx=o=>(t,s=void 0,a=void 0,l=0)=>s===void 0?t.forEach(u=>u.disconnect()):typeof s=="number"?rc(o,t,s).disconnect():gc(s)?a===void 0?t.forEach(u=>u.disconnect(s)):l===void 0?rc(o,t,a).disconnect(s,0):rc(o,t,a).disconnect(s,0,l):a===void 0?t.forEach(u=>u.disconnect(s)):rc(o,t,a).disconnect(s,0),Px={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},Kx=(o,t,s,a,l,u,f,d)=>class extends o{constructor(m,_){const y=u(m),x={...Px,..._},b=a(y,x),S=f(y),w=S?s():null;super(m,!1,b,w),this._attack=t(this,S,b.attack),this._knee=t(this,S,b.knee),this._nativeDynamicsCompressorNode=b,this._ratio=t(this,S,b.ratio),this._release=t(this,S,b.release),this._threshold=t(this,S,b.threshold),d(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(m){const _=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=m,m>2)throw this._nativeDynamicsCompressorNode.channelCount=_,l()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(m){const _=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=m,m==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=_,l()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},Jx=(o,t,s,a,l)=>()=>{const u=new WeakMap,f=async(d,p)=>{let m=s(d);const _=He(m,p);if(!_){const y={attack:m.attack.value,channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,knee:m.knee.value,ratio:m.ratio.value,release:m.release.value,threshold:m.threshold.value};m=t(p,y)}return u.set(p,m),_?(await o(p,d.attack,m.attack),await o(p,d.knee,m.knee),await o(p,d.ratio,m.ratio),await o(p,d.release,m.release),await o(p,d.threshold,m.threshold)):(await a(p,d.attack,m.attack),await a(p,d.knee,m.knee),await a(p,d.ratio,m.ratio),await a(p,d.release,m.release),await a(p,d.threshold,m.threshold)),await l(d,p,m),m};return{render(d,p){const m=u.get(p);return m!==void 0?Promise.resolve(m):f(d,p)}}},$x=()=>new DOMException("","EncodingError"),tS=o=>t=>new Promise((s,a)=>{if(o===null){a(new SyntaxError);return}const l=o.document.head;if(l===null)a(new SyntaxError);else{const u=o.document.createElement("script"),f=new Blob([t],{type:"application/javascript"}),d=URL.createObjectURL(f),p=o.onerror,m=()=>{o.onerror=p,URL.revokeObjectURL(d)};o.onerror=(_,y,x,b,S)=>{if(y===d||y===o.location.href&&x===1&&b===1)return m(),a(S),!1;if(p!==null)return p(_,y,x,b,S)},u.onerror=()=>{m(),a(new SyntaxError)},u.onload=()=>{m(),s()},u.src=d,u.type="module",l.appendChild(u)}}),eS=o=>class{constructor(s){this._nativeEventTarget=s,this._listeners=new WeakMap}addEventListener(s,a,l){if(a!==null){let u=this._listeners.get(a);u===void 0&&(u=o(this,a),typeof a=="function"&&this._listeners.set(a,u)),this._nativeEventTarget.addEventListener(s,u,l)}}dispatchEvent(s){return this._nativeEventTarget.dispatchEvent(s)}removeEventListener(s,a,l){const u=a===null?void 0:this._listeners.get(a);this._nativeEventTarget.removeEventListener(s,u===void 0?null:u,l)}},nS=o=>(t,s,a)=>{Object.defineProperties(o,{currentFrame:{configurable:!0,get(){return Math.round(t*s)}},currentTime:{configurable:!0,get(){return t}}});try{return a()}finally{o!==null&&(delete o.currentFrame,delete o.currentTime)}},sS=o=>async t=>{try{const s=await fetch(t);if(s.ok)return[await s.text(),s.url]}catch{}throw o()},iS={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},aS=(o,t,s,a,l,u)=>class extends o{constructor(d,p){const m=l(d),_={...iS,...p},y=a(m,_),x=u(m),b=x?s():null;super(d,!1,y,b),this._gain=t(this,x,y.gain,Qe,rn)}get gain(){return this._gain}},rS=(o,t,s,a,l)=>()=>{const u=new WeakMap,f=async(d,p)=>{let m=s(d);const _=He(m,p);if(!_){const y={channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,gain:m.gain.value};m=t(p,y)}return u.set(p,m),_?await o(p,d.gain,m.gain):await a(p,d.gain,m.gain),await l(d,p,m),m};return{render(d,p){const m=u.get(p);return m!==void 0?Promise.resolve(m):f(d,p)}}},oS=(o,t)=>s=>t(o,s),lS=o=>t=>{const s=o(t);if(s.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return s.renderer},cS=o=>t=>{var s;return(s=o.get(t))!==null&&s!==void 0?s:0},uS=o=>t=>{const s=o(t);if(s.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return s.renderer},hS=o=>t=>o.get(t),Ce=()=>new DOMException("","InvalidStateError"),fS=o=>t=>{const s=o.get(t);if(s===void 0)throw Ce();return s},dS=(o,t)=>s=>{let a=o.get(s);if(a!==void 0)return a;if(t===null)throw new Error("Missing the native OfflineAudioContext constructor.");return a=new t(1,1,44100),o.set(s,a),a},pS=o=>t=>{const s=o.get(t);if(s===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return s},Dc=()=>new DOMException("","InvalidAccessError"),mS=o=>{o.getFrequencyResponse=(t=>(s,a,l)=>{if(s.length!==a.length||a.length!==l.length)throw Dc();return t.call(o,s,a,l)})(o.getFrequencyResponse)},_S={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},gS=(o,t,s,a,l,u)=>class extends o{constructor(d,p){const m=a(d),_=l(m),y={..._S,...p},x=t(m,_?null:d.baseLatency,y),b=_?s(y.feedback,y.feedforward):null;super(d,!1,x,b),mS(x),this._nativeIIRFilterNode=x,u(this,1)}getFrequencyResponse(d,p,m){return this._nativeIIRFilterNode.getFrequencyResponse(d,p,m)}},Hy=(o,t,s,a,l,u,f,d,p,m,_)=>{const y=m.length;let x=d;for(let b=0;b<y;b+=1){let S=s[0]*m[b];for(let w=1;w<l;w+=1){const E=x-w&p-1;S+=s[w]*u[E],S-=o[w]*f[E]}for(let w=l;w<a;w+=1)S+=s[w]*u[x-w&p-1];for(let w=l;w<t;w+=1)S-=o[w]*f[x-w&p-1];u[x]=m[b],f[x]=S,x=x+1&p-1,_[b]=S}return x},yS=(o,t,s,a)=>{const l=s instanceof Float64Array?s:new Float64Array(s),u=a instanceof Float64Array?a:new Float64Array(a),f=l.length,d=u.length,p=Math.min(f,d);if(l[0]!==1){for(let S=0;S<f;S+=1)u[S]/=l[0];for(let S=1;S<d;S+=1)l[S]/=l[0]}const m=32,_=new Float32Array(m),y=new Float32Array(m),x=t.createBuffer(o.numberOfChannels,o.length,o.sampleRate),b=o.numberOfChannels;for(let S=0;S<b;S+=1){const w=o.getChannelData(S),E=x.getChannelData(S);_.fill(0),y.fill(0),Hy(l,f,u,d,p,_,y,0,m,w,E)}return x},vS=(o,t,s,a,l)=>(u,f)=>{const d=new WeakMap;let p=null;const m=async(_,y)=>{let x=null,b=t(_);const S=He(b,y);if(y.createIIRFilter===void 0?x=o(y,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):S||(b=y.createIIRFilter(f,u)),d.set(y,x===null?b:x),x!==null){if(p===null){if(s===null)throw new Error("Missing the native OfflineAudioContext constructor.");const E=new s(_.context.destination.channelCount,_.context.length,y.sampleRate);p=(async()=>{await a(_,E,E.destination);const O=await l(E);return yS(O,y,u,f)})()}const w=await p;return x.buffer=w,x.start(0),x}return await a(_,y,b),b};return{render(_,y){const x=d.get(y);return x!==void 0?Promise.resolve(x):m(_,y)}}},bS=(o,t,s,a,l,u)=>f=>(d,p)=>{const m=o.get(d);if(m===void 0){if(!f&&u(d)){const _=a(d),{outputs:y}=s(d);for(const x of y)if(Eo(x)){const b=a(x[0]);t(_,b,x[1],x[2])}else{const b=l(x[0]);_.disconnect(b,x[1])}}o.set(d,p)}else o.set(d,m+p)},xS=(o,t)=>s=>{const a=o.get(s);return t(a)||t(s)},SS=(o,t)=>s=>o.has(s)||t(s),TS=(o,t)=>s=>o.has(s)||t(s),wS=(o,t)=>s=>{const a=o.get(s);return t(a)||t(s)},AS=o=>t=>o!==null&&t instanceof o,ES=o=>t=>o!==null&&typeof o.AudioNode=="function"&&t instanceof o.AudioNode,DS=o=>t=>o!==null&&typeof o.AudioParam=="function"&&t instanceof o.AudioParam,CS=(o,t)=>s=>o(s)||t(s),OS=o=>t=>o!==null&&t instanceof o,MS=o=>o!==null&&o.isSecureContext,RS=async(o,t,s,a,l,u,f,d,p,m,_,y,x,b,S,w)=>o(t,t)&&o(s,s)&&o(l,l)&&o(u,u)&&o(d,d)&&o(p,p)&&o(m,m)&&o(_,_)&&o(y,y)&&o(x,x)&&o(b,b)?(await Promise.all([o(a,a),o(f,f),o(S,S),o(w,w)])).every(O=>O):!1,NS=(o,t,s,a)=>class extends o{constructor(u,f){const d=s(u),p=t(d,f);if(a(d))throw TypeError();super(u,!0,p,null),this._nativeMediaElementAudioSourceNode=p}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},kS={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},qS=(o,t,s,a)=>class extends o{constructor(u,f){const d=s(u);if(a(d))throw new TypeError;const p={...kS,...f},m=t(d,p);super(u,!1,m,null),this._nativeMediaStreamAudioDestinationNode=m}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},zS=(o,t,s,a)=>class extends o{constructor(u,f){const d=s(u),p=t(d,f);if(a(d))throw new TypeError;super(u,!0,p,null),this._nativeMediaStreamAudioSourceNode=p}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},VS=(o,t,s)=>class extends o{constructor(l,u){const f=s(l),d=t(f,u);super(l,!0,d,null)}},jS=(o,t,s,a,l,u)=>class extends s{constructor(d,p){super(d),this._nativeContext=d,Ac.set(this,d),a(d)&&l.set(d,new Set),this._destination=new o(this,p),this._listener=t(this,d),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(d){const p=typeof d=="function"?u(this,d):null;this._nativeContext.onstatechange=p;const m=this._nativeContext.onstatechange;this._onstatechange=m!==null&&m===p?d:m}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},yo=o=>{const t=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const s=o.decodeAudioData(t.buffer,()=>{});return s===void 0?!1:(s.catch(()=>{}),!0)}catch{}return!1},US=(o,t)=>(s,a,l)=>{const u=new Set;return s.connect=(f=>(d,p=0,m=0)=>{const _=u.size===0;if(t(d))return f.call(s,d,p,m),o(u,[d,p,m],y=>y[0]===d&&y[1]===p&&y[2]===m,!0),_&&a(),d;f.call(s,d,p),o(u,[d,p],y=>y[0]===d&&y[1]===p,!0),_&&a()})(s.connect),s.disconnect=(f=>(d,p,m)=>{const _=u.size>0;if(d===void 0)f.apply(s),u.clear();else if(typeof d=="number"){f.call(s,d);for(const x of u)x[1]===d&&u.delete(x)}else{t(d)?f.call(s,d,p,m):f.call(s,d,p);for(const x of u)x[0]===d&&(p===void 0||x[1]===p)&&(m===void 0||x[2]===m)&&u.delete(x)}const y=u.size===0;_&&y&&l()})(s.disconnect),s},$t=(o,t,s)=>{const a=t[s];a!==void 0&&a!==o[s]&&(o[s]=a)},be=(o,t)=>{$t(o,t,"channelCount"),$t(o,t,"channelCountMode"),$t(o,t,"channelInterpretation")},cy=o=>typeof o.getFloatTimeDomainData=="function",BS=o=>{o.getFloatTimeDomainData=t=>{const s=new Uint8Array(t.length);o.getByteTimeDomainData(s);const a=Math.max(s.length,o.fftSize);for(let l=0;l<a;l+=1)t[l]=(s[l]-128)*.0078125;return t}},LS=(o,t)=>(s,a)=>{const l=s.createAnalyser();if(be(l,a),!(a.maxDecibels>a.minDecibels))throw t();return $t(l,a,"fftSize"),$t(l,a,"maxDecibels"),$t(l,a,"minDecibels"),$t(l,a,"smoothingTimeConstant"),o(cy,()=>cy(l))||BS(l),l},FS=o=>o===null?null:o.hasOwnProperty("AudioBuffer")?o.AudioBuffer:null,oe=(o,t,s)=>{const a=t[s];a!==void 0&&a!==o[s].value&&(o[s].value=a)},GS=o=>{o.start=(t=>{let s=!1;return(a=0,l=0,u)=>{if(s)throw Ce();t.call(o,a,l,u),s=!0}})(o.start)},Nf=o=>{o.start=(t=>(s=0,a=0,l)=>{if(typeof l=="number"&&l<0||a<0||s<0)throw new RangeError("The parameters can't be negative.");t.call(o,s,a,l)})(o.start)},kf=o=>{o.stop=(t=>(s=0)=>{if(s<0)throw new RangeError("The parameter can't be negative.");t.call(o,s)})(o.stop)},HS=(o,t,s,a,l,u,f,d,p,m,_)=>(y,x)=>{const b=y.createBufferSource();return be(b,x),oe(b,x,"playbackRate"),$t(b,x,"buffer"),$t(b,x,"loop"),$t(b,x,"loopEnd"),$t(b,x,"loopStart"),t(s,()=>s(y))||GS(b),t(a,()=>a(y))||p(b),t(l,()=>l(y))||m(b,y),t(u,()=>u(y))||Nf(b),t(f,()=>f(y))||_(b,y),t(d,()=>d(y))||kf(b),o(y,b),b},IS=o=>o===null?null:o.hasOwnProperty("AudioContext")?o.AudioContext:o.hasOwnProperty("webkitAudioContext")?o.webkitAudioContext:null,YS=(o,t)=>(s,a,l)=>{const u=s.destination;if(u.channelCount!==a)try{u.channelCount=a}catch{}l&&u.channelCountMode!=="explicit"&&(u.channelCountMode="explicit"),u.maxChannelCount===0&&Object.defineProperty(u,"maxChannelCount",{value:a});const f=o(s,{channelCount:a,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,gain:1});return t(f,"channelCount",d=>()=>d.call(f),d=>p=>{d.call(f,p);try{u.channelCount=p}catch(m){if(p>u.maxChannelCount)throw m}}),t(f,"channelCountMode",d=>()=>d.call(f),d=>p=>{d.call(f,p),u.channelCountMode=p}),t(f,"channelInterpretation",d=>()=>d.call(f),d=>p=>{d.call(f,p),u.channelInterpretation=p}),Object.defineProperty(f,"maxChannelCount",{get:()=>u.maxChannelCount}),f.connect(u),f},XS=o=>o===null?null:o.hasOwnProperty("AudioWorkletNode")?o.AudioWorkletNode:null,QS=o=>{const{port1:t}=new MessageChannel;try{t.postMessage(o)}finally{t.close()}},ZS=(o,t,s,a,l)=>(u,f,d,p,m,_)=>{if(d!==null)try{const y=new d(u,p,_),x=new Map;let b=null;if(Object.defineProperties(y,{channelCount:{get:()=>_.channelCount,set:()=>{throw o()}},channelCountMode:{get:()=>"explicit",set:()=>{throw o()}},onprocessorerror:{get:()=>b,set:S=>{typeof b=="function"&&y.removeEventListener("processorerror",b),b=typeof S=="function"?S:null,typeof b=="function"&&y.addEventListener("processorerror",b)}}}),y.addEventListener=(S=>(...w)=>{if(w[0]==="processorerror"){const E=typeof w[1]=="function"?w[1]:typeof w[1]=="object"&&w[1]!==null&&typeof w[1].handleEvent=="function"?w[1].handleEvent:null;if(E!==null){const O=x.get(w[1]);O!==void 0?w[1]=O:(w[1]=U=>{U.type==="error"?(Object.defineProperties(U,{type:{value:"processorerror"}}),E(U)):E(new ErrorEvent(w[0],{...U}))},x.set(E,w[1]))}}return S.call(y,"error",w[1],w[2]),S.call(y,...w)})(y.addEventListener),y.removeEventListener=(S=>(...w)=>{if(w[0]==="processorerror"){const E=x.get(w[1]);E!==void 0&&(x.delete(w[1]),w[1]=E)}return S.call(y,"error",w[1],w[2]),S.call(y,w[0],w[1],w[2])})(y.removeEventListener),_.numberOfOutputs!==0){const S=s(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return y.connect(S).connect(u.destination),l(y,()=>S.disconnect(),()=>S.connect(u.destination))}return y}catch(y){throw y.code===11?a():y}if(m===void 0)throw a();return QS(_),t(u,f,m,_)},Iy=(o,t)=>o===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(o*t))))),WS=o=>new Promise((t,s)=>{const{port1:a,port2:l}=new MessageChannel;a.onmessage=({data:u})=>{a.close(),l.close(),t(u)},a.onmessageerror=({data:u})=>{a.close(),l.close(),s(u)},l.postMessage(o)}),PS=async(o,t)=>{const s=await WS(t);return new o(s)},KS=(o,t,s,a)=>{let l=gf.get(o);l===void 0&&(l=new WeakMap,gf.set(o,l));const u=PS(s,a);return l.set(t,u),u},JS=(o,t,s,a,l,u,f,d,p,m,_,y,x)=>(b,S,w,E)=>{if(E.numberOfInputs===0&&E.numberOfOutputs===0)throw p();const O=Array.isArray(E.outputChannelCount)?E.outputChannelCount:Array.from(E.outputChannelCount);if(O.some(ut=>ut<1))throw p();if(O.length!==E.numberOfOutputs)throw t();if(E.channelCountMode!=="explicit")throw p();const U=E.channelCount*E.numberOfInputs,B=O.reduce((ut,yt)=>ut+yt,0),Q=w.parameterDescriptors===void 0?0:w.parameterDescriptors.length;if(U+Q>6||B>6)throw p();const D=new MessageChannel,M=[],k=[];for(let ut=0;ut<E.numberOfInputs;ut+=1)M.push(f(b,{channelCount:E.channelCount,channelCountMode:E.channelCountMode,channelInterpretation:E.channelInterpretation,gain:1})),k.push(l(b,{channelCount:E.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:E.channelCount}));const T=[];if(w.parameterDescriptors!==void 0)for(const{defaultValue:ut,maxValue:yt,minValue:kt,name:Ut}of w.parameterDescriptors){const Ct=u(b,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:E.parameterData[Ut]!==void 0?E.parameterData[Ut]:ut===void 0?0:ut});Object.defineProperties(Ct.offset,{defaultValue:{get:()=>ut===void 0?0:ut},maxValue:{get:()=>yt===void 0?Qe:yt},minValue:{get:()=>kt===void 0?rn:kt}}),T.push(Ct)}const z=a(b,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,U+Q)}),G=Iy(S,b.sampleRate),I=d(b,G,U+Q,Math.max(1,B)),X=l(b,{channelCount:Math.max(1,B),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,B)}),st=[];for(let ut=0;ut<E.numberOfOutputs;ut+=1)st.push(a(b,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:O[ut]}));for(let ut=0;ut<E.numberOfInputs;ut+=1){M[ut].connect(k[ut]);for(let yt=0;yt<E.channelCount;yt+=1)k[ut].connect(z,yt,ut*E.channelCount+yt)}const nt=new Fy(w.parameterDescriptors===void 0?[]:w.parameterDescriptors.map(({name:ut},yt)=>{const kt=T[yt];return kt.connect(z,0,U+yt),kt.start(0),[ut,kt.offset]}));z.connect(I);let ot=E.channelInterpretation,R=null;const Y=E.numberOfOutputs===0?[I]:st,tt={get bufferSize(){return G},get channelCount(){return E.channelCount},set channelCount(ut){throw s()},get channelCountMode(){return E.channelCountMode},set channelCountMode(ut){throw s()},get channelInterpretation(){return ot},set channelInterpretation(ut){for(const yt of M)yt.channelInterpretation=ut;ot=ut},get context(){return I.context},get inputs(){return M},get numberOfInputs(){return E.numberOfInputs},get numberOfOutputs(){return E.numberOfOutputs},get onprocessorerror(){return R},set onprocessorerror(ut){typeof R=="function"&&tt.removeEventListener("processorerror",R),R=typeof ut=="function"?ut:null,typeof R=="function"&&tt.addEventListener("processorerror",R)},get parameters(){return nt},get port(){return D.port2},addEventListener(...ut){return I.addEventListener(ut[0],ut[1],ut[2])},connect:o.bind(null,Y),disconnect:m.bind(null,Y),dispatchEvent(...ut){return I.dispatchEvent(ut[0])},removeEventListener(...ut){return I.removeEventListener(ut[0],ut[1],ut[2])}},at=new Map;D.port1.addEventListener=(ut=>(...yt)=>{if(yt[0]==="message"){const kt=typeof yt[1]=="function"?yt[1]:typeof yt[1]=="object"&&yt[1]!==null&&typeof yt[1].handleEvent=="function"?yt[1].handleEvent:null;if(kt!==null){const Ut=at.get(yt[1]);Ut!==void 0?yt[1]=Ut:(yt[1]=Ct=>{_(b.currentTime,b.sampleRate,()=>kt(Ct))},at.set(kt,yt[1]))}}return ut.call(D.port1,yt[0],yt[1],yt[2])})(D.port1.addEventListener),D.port1.removeEventListener=(ut=>(...yt)=>{if(yt[0]==="message"){const kt=at.get(yt[1]);kt!==void 0&&(at.delete(yt[1]),yt[1]=kt)}return ut.call(D.port1,yt[0],yt[1],yt[2])})(D.port1.removeEventListener);let A=null;Object.defineProperty(D.port1,"onmessage",{get:()=>A,set:ut=>{typeof A=="function"&&D.port1.removeEventListener("message",A),A=typeof ut=="function"?ut:null,typeof A=="function"&&(D.port1.addEventListener("message",A),D.port1.start())}}),w.prototype.port=D.port1;let L=null;KS(b,tt,w,E).then(ut=>L=ut);const et=vc(E.numberOfInputs,E.channelCount),ht=vc(E.numberOfOutputs,O),lt=w.parameterDescriptors===void 0?[]:w.parameterDescriptors.reduce((ut,{name:yt})=>({...ut,[yt]:new Float32Array(128)}),{});let ct=!0;const Nt=()=>{E.numberOfOutputs>0&&I.disconnect(X);for(let ut=0,yt=0;ut<E.numberOfOutputs;ut+=1){const kt=st[ut];for(let Ut=0;Ut<O[ut];Ut+=1)X.disconnect(kt,yt+Ut,Ut);yt+=O[ut]}},rt=new Map;I.onaudioprocess=({inputBuffer:ut,outputBuffer:yt})=>{if(L!==null){const kt=y(tt);for(let Ut=0;Ut<G;Ut+=128){for(let Ct=0;Ct<E.numberOfInputs;Ct+=1)for(let Bt=0;Bt<E.channelCount;Bt+=1)yc(ut,et[Ct],Bt,Bt,Ut);w.parameterDescriptors!==void 0&&w.parameterDescriptors.forEach(({name:Ct},Bt)=>{yc(ut,lt,Ct,U+Bt,Ut)});for(let Ct=0;Ct<E.numberOfInputs;Ct+=1)for(let Bt=0;Bt<O[Ct];Bt+=1)ht[Ct][Bt].byteLength===0&&(ht[Ct][Bt]=new Float32Array(128));try{const Ct=et.map((ce,Tn)=>{if(kt[Tn].size>0)return rt.set(Tn,G/128),ce;const yi=rt.get(Tn);return yi===void 0?[]:(ce.every(fr=>fr.every(cs=>cs===0))&&(yi===1?rt.delete(Tn):rt.set(Tn,yi-1)),ce)});ct=_(b.currentTime+Ut/b.sampleRate,b.sampleRate,()=>L.process(Ct,ht,lt));for(let ce=0,Tn=0;ce<E.numberOfOutputs;ce+=1){for(let Kn=0;Kn<O[ce];Kn+=1)Gy(yt,ht[ce],Kn,Tn+Kn,Ut);Tn+=O[ce]}}catch(Ct){ct=!1,tt.dispatchEvent(new ErrorEvent("processorerror",{colno:Ct.colno,filename:Ct.filename,lineno:Ct.lineno,message:Ct.message}))}if(!ct){for(let Ct=0;Ct<E.numberOfInputs;Ct+=1){M[Ct].disconnect(k[Ct]);for(let Bt=0;Bt<E.channelCount;Bt+=1)k[Ut].disconnect(z,Bt,Ct*E.channelCount+Bt)}if(w.parameterDescriptors!==void 0){const Ct=w.parameterDescriptors.length;for(let Bt=0;Bt<Ct;Bt+=1){const ce=T[Bt];ce.disconnect(z,0,U+Bt),ce.stop()}}z.disconnect(I),I.onaudioprocess=null,ie?Nt():Re();break}}}};let ie=!1;const Me=f(b,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),Se=()=>I.connect(Me).connect(b.destination),Re=()=>{I.disconnect(Me),Me.disconnect()},jn=()=>{if(ct){Re(),E.numberOfOutputs>0&&I.connect(X);for(let ut=0,yt=0;ut<E.numberOfOutputs;ut+=1){const kt=st[ut];for(let Ut=0;Ut<O[ut];Ut+=1)X.connect(kt,yt+Ut,Ut);yt+=O[ut]}}ie=!0},Pn=()=>{ct&&(Se(),Nt()),ie=!1};return Se(),x(tt,jn,Pn)},Yy=(o,t)=>{const s=o.createBiquadFilter();return be(s,t),oe(s,t,"Q"),oe(s,t,"detune"),oe(s,t,"frequency"),oe(s,t,"gain"),$t(s,t,"type"),s},$S=(o,t)=>(s,a)=>{const l=s.createChannelMerger(a.numberOfInputs);return o!==null&&o.name==="webkitAudioContext"&&t(s,l),be(l,a),l},tT=o=>{const t=o.numberOfOutputs;Object.defineProperty(o,"channelCount",{get:()=>t,set:s=>{if(s!==t)throw Ce()}}),Object.defineProperty(o,"channelCountMode",{get:()=>"explicit",set:s=>{if(s!=="explicit")throw Ce()}}),Object.defineProperty(o,"channelInterpretation",{get:()=>"discrete",set:s=>{if(s!=="discrete")throw Ce()}})},Do=(o,t)=>{const s=o.createChannelSplitter(t.numberOfOutputs);return be(s,t),tT(s),s},eT=(o,t,s,a,l)=>(u,f)=>{if(u.createConstantSource===void 0)return s(u,f);const d=u.createConstantSource();return be(d,f),oe(d,f,"offset"),t(a,()=>a(u))||Nf(d),t(l,()=>l(u))||kf(d),o(u,d),d},Pa=(o,t)=>(o.connect=t.connect.bind(t),o.disconnect=t.disconnect.bind(t),o),nT=(o,t,s,a)=>(l,{offset:u,...f})=>{const d=l.createBuffer(1,2,44100),p=t(l,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),m=s(l,{...f,gain:u}),_=d.getChannelData(0);_[0]=1,_[1]=1,p.buffer=d,p.loop=!0;const y={get bufferSize(){},get channelCount(){return m.channelCount},set channelCount(S){m.channelCount=S},get channelCountMode(){return m.channelCountMode},set channelCountMode(S){m.channelCountMode=S},get channelInterpretation(){return m.channelInterpretation},set channelInterpretation(S){m.channelInterpretation=S},get context(){return m.context},get inputs(){return[]},get numberOfInputs(){return p.numberOfInputs},get numberOfOutputs(){return m.numberOfOutputs},get offset(){return m.gain},get onended(){return p.onended},set onended(S){p.onended=S},addEventListener(...S){return p.addEventListener(S[0],S[1],S[2])},dispatchEvent(...S){return p.dispatchEvent(S[0])},removeEventListener(...S){return p.removeEventListener(S[0],S[1],S[2])},start(S=0){p.start.call(p,S)},stop(S=0){p.stop.call(p,S)}},x=()=>p.connect(m),b=()=>p.disconnect(m);return o(l,p),a(Pa(y,m),x,b)},sT=(o,t)=>(s,a)=>{const l=s.createConvolver();if(be(l,a),a.disableNormalization===l.normalize&&(l.normalize=!a.disableNormalization),$t(l,a,"buffer"),a.channelCount>2||(t(l,"channelCount",u=>()=>u.call(l),u=>f=>{if(f>2)throw o();return u.call(l,f)}),a.channelCountMode==="max"))throw o();return t(l,"channelCountMode",u=>()=>u.call(l),u=>f=>{if(f==="max")throw o();return u.call(l,f)}),l},Xy=(o,t)=>{const s=o.createDelay(t.maxDelayTime);return be(s,t),oe(s,t,"delayTime"),s},iT=o=>(t,s)=>{const a=t.createDynamicsCompressor();if(be(a,s),s.channelCount>2||s.channelCountMode==="max")throw o();return oe(a,s,"attack"),oe(a,s,"knee"),oe(a,s,"ratio"),oe(a,s,"release"),oe(a,s,"threshold"),a},ln=(o,t)=>{const s=o.createGain();return be(s,t),oe(s,t,"gain"),s},aT=o=>(t,s,a)=>{if(t.createIIRFilter===void 0)return o(t,s,a);const l=t.createIIRFilter(a.feedforward,a.feedback);return be(l,a),l};function rT(o,t){const s=t[0]*t[0]+t[1]*t[1];return[(o[0]*t[0]+o[1]*t[1])/s,(o[1]*t[0]-o[0]*t[1])/s]}function oT(o,t){return[o[0]*t[0]-o[1]*t[1],o[0]*t[1]+o[1]*t[0]]}function uy(o,t){let s=[0,0];for(let a=o.length-1;a>=0;a-=1)s=oT(s,t),s[0]+=o[a];return s}const lT=(o,t,s,a)=>(l,u,{channelCount:f,channelCountMode:d,channelInterpretation:p,feedback:m,feedforward:_})=>{const y=Iy(u,l.sampleRate),x=m instanceof Float64Array?m:new Float64Array(m),b=_ instanceof Float64Array?_:new Float64Array(_),S=x.length,w=b.length,E=Math.min(S,w);if(S===0||S>20)throw a();if(x[0]===0)throw t();if(w===0||w>20)throw a();if(b[0]===0)throw t();if(x[0]!==1){for(let T=0;T<w;T+=1)b[T]/=x[0];for(let T=1;T<S;T+=1)x[T]/=x[0]}const O=s(l,y,f,f);O.channelCount=f,O.channelCountMode=d,O.channelInterpretation=p;const U=32,B=[],Q=[],D=[];for(let T=0;T<f;T+=1){B.push(0);const z=new Float32Array(U),G=new Float32Array(U);z.fill(0),G.fill(0),Q.push(z),D.push(G)}O.onaudioprocess=T=>{const z=T.inputBuffer,G=T.outputBuffer,I=z.numberOfChannels;for(let X=0;X<I;X+=1){const st=z.getChannelData(X),nt=G.getChannelData(X);B[X]=Hy(x,S,b,w,E,Q[X],D[X],B[X],U,st,nt)}};const M=l.sampleRate/2;return Pa({get bufferSize(){return y},get channelCount(){return O.channelCount},set channelCount(T){O.channelCount=T},get channelCountMode(){return O.channelCountMode},set channelCountMode(T){O.channelCountMode=T},get channelInterpretation(){return O.channelInterpretation},set channelInterpretation(T){O.channelInterpretation=T},get context(){return O.context},get inputs(){return[O]},get numberOfInputs(){return O.numberOfInputs},get numberOfOutputs(){return O.numberOfOutputs},addEventListener(...T){return O.addEventListener(T[0],T[1],T[2])},dispatchEvent(...T){return O.dispatchEvent(T[0])},getFrequencyResponse(T,z,G){if(T.length!==z.length||z.length!==G.length)throw o();const I=T.length;for(let X=0;X<I;X+=1){const st=-Math.PI*(T[X]/M),nt=[Math.cos(st),Math.sin(st)],ot=uy(b,nt),R=uy(x,nt),Y=rT(ot,R);z[X]=Math.sqrt(Y[0]*Y[0]+Y[1]*Y[1]),G[X]=Math.atan2(Y[1],Y[0])}},removeEventListener(...T){return O.removeEventListener(T[0],T[1],T[2])}},O)},cT=(o,t)=>o.createMediaElementSource(t.mediaElement),uT=(o,t)=>{const s=o.createMediaStreamDestination();return be(s,t),s.numberOfOutputs===1&&Object.defineProperty(s,"numberOfOutputs",{get:()=>0}),s},hT=(o,{mediaStream:t})=>{const s=t.getAudioTracks();s.sort((u,f)=>u.id<f.id?-1:u.id>f.id?1:0);const a=s.slice(0,1),l=o.createMediaStreamSource(new MediaStream(a));return Object.defineProperty(l,"mediaStream",{value:t}),l},fT=(o,t)=>(s,{mediaStreamTrack:a})=>{if(typeof s.createMediaStreamTrackSource=="function")return s.createMediaStreamTrackSource(a);const l=new MediaStream([a]),u=s.createMediaStreamSource(l);if(a.kind!=="audio")throw o();if(t(s))throw new TypeError;return u},dT=o=>o===null?null:o.hasOwnProperty("OfflineAudioContext")?o.OfflineAudioContext:o.hasOwnProperty("webkitOfflineAudioContext")?o.webkitOfflineAudioContext:null,pT=(o,t,s,a,l,u)=>(f,d)=>{const p=f.createOscillator();return be(p,d),oe(p,d,"detune"),oe(p,d,"frequency"),d.periodicWave!==void 0?p.setPeriodicWave(d.periodicWave):$t(p,d,"type"),t(s,()=>s(f))||Nf(p),t(a,()=>a(f))||u(p,f),t(l,()=>l(f))||kf(p),o(f,p),p},mT=o=>(t,s)=>{const a=t.createPanner();return a.orientationX===void 0?o(t,s):(be(a,s),oe(a,s,"orientationX"),oe(a,s,"orientationY"),oe(a,s,"orientationZ"),oe(a,s,"positionX"),oe(a,s,"positionY"),oe(a,s,"positionZ"),$t(a,s,"coneInnerAngle"),$t(a,s,"coneOuterAngle"),$t(a,s,"coneOuterGain"),$t(a,s,"distanceModel"),$t(a,s,"maxDistance"),$t(a,s,"panningModel"),$t(a,s,"refDistance"),$t(a,s,"rolloffFactor"),a)},_T=(o,t,s,a,l,u,f,d,p,m)=>(_,{coneInnerAngle:y,coneOuterAngle:x,coneOuterGain:b,distanceModel:S,maxDistance:w,orientationX:E,orientationY:O,orientationZ:U,panningModel:B,positionX:Q,positionY:D,positionZ:M,refDistance:k,rolloffFactor:T,...z})=>{const G=_.createPanner();if(z.channelCount>2||z.channelCountMode==="max")throw f();be(G,z);const I={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},X=s(_,{...I,channelInterpretation:"speakers",numberOfInputs:6}),st=a(_,{...z,gain:1}),nt=a(_,{...I,gain:1}),ot=a(_,{...I,gain:0}),R=a(_,{...I,gain:0}),Y=a(_,{...I,gain:0}),tt=a(_,{...I,gain:0}),at=a(_,{...I,gain:0}),A=l(_,256,6,1),L=u(_,{...I,curve:new Float32Array([1,1]),oversample:"none"});let J=[E,O,U],et=[Q,D,M];const ht=new Float32Array(1);A.onaudioprocess=({inputBuffer:rt})=>{const ie=[p(rt,ht,0),p(rt,ht,1),p(rt,ht,2)];ie.some((Se,Re)=>Se!==J[Re])&&(G.setOrientation(...ie),J=ie);const Me=[p(rt,ht,3),p(rt,ht,4),p(rt,ht,5)];Me.some((Se,Re)=>Se!==et[Re])&&(G.setPosition(...Me),et=Me)},Object.defineProperty(ot.gain,"defaultValue",{get:()=>0}),Object.defineProperty(R.gain,"defaultValue",{get:()=>0}),Object.defineProperty(Y.gain,"defaultValue",{get:()=>0}),Object.defineProperty(tt.gain,"defaultValue",{get:()=>0}),Object.defineProperty(at.gain,"defaultValue",{get:()=>0});const lt={get bufferSize(){},get channelCount(){return G.channelCount},set channelCount(rt){if(rt>2)throw f();st.channelCount=rt,G.channelCount=rt},get channelCountMode(){return G.channelCountMode},set channelCountMode(rt){if(rt==="max")throw f();st.channelCountMode=rt,G.channelCountMode=rt},get channelInterpretation(){return G.channelInterpretation},set channelInterpretation(rt){st.channelInterpretation=rt,G.channelInterpretation=rt},get coneInnerAngle(){return G.coneInnerAngle},set coneInnerAngle(rt){G.coneInnerAngle=rt},get coneOuterAngle(){return G.coneOuterAngle},set coneOuterAngle(rt){G.coneOuterAngle=rt},get coneOuterGain(){return G.coneOuterGain},set coneOuterGain(rt){if(rt<0||rt>1)throw t();G.coneOuterGain=rt},get context(){return G.context},get distanceModel(){return G.distanceModel},set distanceModel(rt){G.distanceModel=rt},get inputs(){return[st]},get maxDistance(){return G.maxDistance},set maxDistance(rt){if(rt<0)throw new RangeError;G.maxDistance=rt},get numberOfInputs(){return G.numberOfInputs},get numberOfOutputs(){return G.numberOfOutputs},get orientationX(){return nt.gain},get orientationY(){return ot.gain},get orientationZ(){return R.gain},get panningModel(){return G.panningModel},set panningModel(rt){G.panningModel=rt},get positionX(){return Y.gain},get positionY(){return tt.gain},get positionZ(){return at.gain},get refDistance(){return G.refDistance},set refDistance(rt){if(rt<0)throw new RangeError;G.refDistance=rt},get rolloffFactor(){return G.rolloffFactor},set rolloffFactor(rt){if(rt<0)throw new RangeError;G.rolloffFactor=rt},addEventListener(...rt){return st.addEventListener(rt[0],rt[1],rt[2])},dispatchEvent(...rt){return st.dispatchEvent(rt[0])},removeEventListener(...rt){return st.removeEventListener(rt[0],rt[1],rt[2])}};y!==lt.coneInnerAngle&&(lt.coneInnerAngle=y),x!==lt.coneOuterAngle&&(lt.coneOuterAngle=x),b!==lt.coneOuterGain&&(lt.coneOuterGain=b),S!==lt.distanceModel&&(lt.distanceModel=S),w!==lt.maxDistance&&(lt.maxDistance=w),E!==lt.orientationX.value&&(lt.orientationX.value=E),O!==lt.orientationY.value&&(lt.orientationY.value=O),U!==lt.orientationZ.value&&(lt.orientationZ.value=U),B!==lt.panningModel&&(lt.panningModel=B),Q!==lt.positionX.value&&(lt.positionX.value=Q),D!==lt.positionY.value&&(lt.positionY.value=D),M!==lt.positionZ.value&&(lt.positionZ.value=M),k!==lt.refDistance&&(lt.refDistance=k),T!==lt.rolloffFactor&&(lt.rolloffFactor=T),(J[0]!==1||J[1]!==0||J[2]!==0)&&G.setOrientation(...J),(et[0]!==0||et[1]!==0||et[2]!==0)&&G.setPosition(...et);const ct=()=>{st.connect(G),o(st,L,0,0),L.connect(nt).connect(X,0,0),L.connect(ot).connect(X,0,1),L.connect(R).connect(X,0,2),L.connect(Y).connect(X,0,3),L.connect(tt).connect(X,0,4),L.connect(at).connect(X,0,5),X.connect(A).connect(_.destination)},Nt=()=>{st.disconnect(G),d(st,L,0,0),L.disconnect(nt),nt.disconnect(X),L.disconnect(ot),ot.disconnect(X),L.disconnect(R),R.disconnect(X),L.disconnect(Y),Y.disconnect(X),L.disconnect(tt),tt.disconnect(X),L.disconnect(at),at.disconnect(X),X.disconnect(A),A.disconnect(_.destination)};return m(Pa(lt,G),ct,Nt)},gT=o=>(t,{disableNormalization:s,imag:a,real:l})=>{const u=a instanceof Float32Array?a:new Float32Array(a),f=l instanceof Float32Array?l:new Float32Array(l),d=t.createPeriodicWave(f,u,{disableNormalization:s});if(Array.from(a).length<2)throw o();return d},Co=(o,t,s,a)=>o.createScriptProcessor(t,s,a),yT=(o,t)=>(s,a)=>{const l=a.channelCountMode;if(l==="clamped-max")throw t();if(s.createStereoPanner===void 0)return o(s,a);const u=s.createStereoPanner();return be(u,a),oe(u,a,"pan"),Object.defineProperty(u,"channelCountMode",{get:()=>l,set:f=>{if(f!==l)throw t()}}),u},vT=(o,t,s,a,l,u)=>{const d=new Float32Array([1,1]),p=Math.PI/2,m={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},_={...m,oversample:"none"},y=(S,w,E,O)=>{const U=new Float32Array(16385),B=new Float32Array(16385);for(let z=0;z<16385;z+=1){const G=z/16384*p;U[z]=Math.cos(G),B[z]=Math.sin(G)}const Q=s(S,{...m,gain:0}),D=a(S,{..._,curve:U}),M=a(S,{..._,curve:d}),k=s(S,{...m,gain:0}),T=a(S,{..._,curve:B});return{connectGraph(){w.connect(Q),w.connect(M.inputs===void 0?M:M.inputs[0]),w.connect(k),M.connect(E),E.connect(D.inputs===void 0?D:D.inputs[0]),E.connect(T.inputs===void 0?T:T.inputs[0]),D.connect(Q.gain),T.connect(k.gain),Q.connect(O,0,0),k.connect(O,0,1)},disconnectGraph(){w.disconnect(Q),w.disconnect(M.inputs===void 0?M:M.inputs[0]),w.disconnect(k),M.disconnect(E),E.disconnect(D.inputs===void 0?D:D.inputs[0]),E.disconnect(T.inputs===void 0?T:T.inputs[0]),D.disconnect(Q.gain),T.disconnect(k.gain),Q.disconnect(O,0,0),k.disconnect(O,0,1)}}},x=(S,w,E,O)=>{const U=new Float32Array(16385),B=new Float32Array(16385),Q=new Float32Array(16385),D=new Float32Array(16385),M=Math.floor(16385/2);for(let Y=0;Y<16385;Y+=1)if(Y>M){const tt=(Y-M)/(16384-M)*p;U[Y]=Math.cos(tt),B[Y]=Math.sin(tt),Q[Y]=0,D[Y]=1}else{const tt=Y/(16384-M)*p;U[Y]=1,B[Y]=0,Q[Y]=Math.cos(tt),D[Y]=Math.sin(tt)}const k=t(S,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),T=s(S,{...m,gain:0}),z=a(S,{..._,curve:U}),G=s(S,{...m,gain:0}),I=a(S,{..._,curve:B}),X=a(S,{..._,curve:d}),st=s(S,{...m,gain:0}),nt=a(S,{..._,curve:Q}),ot=s(S,{...m,gain:0}),R=a(S,{..._,curve:D});return{connectGraph(){w.connect(k),w.connect(X.inputs===void 0?X:X.inputs[0]),k.connect(T,0),k.connect(G,0),k.connect(st,1),k.connect(ot,1),X.connect(E),E.connect(z.inputs===void 0?z:z.inputs[0]),E.connect(I.inputs===void 0?I:I.inputs[0]),E.connect(nt.inputs===void 0?nt:nt.inputs[0]),E.connect(R.inputs===void 0?R:R.inputs[0]),z.connect(T.gain),I.connect(G.gain),nt.connect(st.gain),R.connect(ot.gain),T.connect(O,0,0),st.connect(O,0,0),G.connect(O,0,1),ot.connect(O,0,1)},disconnectGraph(){w.disconnect(k),w.disconnect(X.inputs===void 0?X:X.inputs[0]),k.disconnect(T,0),k.disconnect(G,0),k.disconnect(st,1),k.disconnect(ot,1),X.disconnect(E),E.disconnect(z.inputs===void 0?z:z.inputs[0]),E.disconnect(I.inputs===void 0?I:I.inputs[0]),E.disconnect(nt.inputs===void 0?nt:nt.inputs[0]),E.disconnect(R.inputs===void 0?R:R.inputs[0]),z.disconnect(T.gain),I.disconnect(G.gain),nt.disconnect(st.gain),R.disconnect(ot.gain),T.disconnect(O,0,0),st.disconnect(O,0,0),G.disconnect(O,0,1),ot.disconnect(O,0,1)}}},b=(S,w,E,O,U)=>{if(w===1)return y(S,E,O,U);if(w===2)return x(S,E,O,U);throw l()};return(S,{channelCount:w,channelCountMode:E,pan:O,...U})=>{if(E==="max")throw l();const B=o(S,{...U,channelCount:1,channelCountMode:E,numberOfInputs:2}),Q=s(S,{...U,channelCount:w,channelCountMode:E,gain:1}),D=s(S,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:O});let{connectGraph:M,disconnectGraph:k}=b(S,w,Q,D,B);Object.defineProperty(D.gain,"defaultValue",{get:()=>0}),Object.defineProperty(D.gain,"maxValue",{get:()=>1}),Object.defineProperty(D.gain,"minValue",{get:()=>-1});const T={get bufferSize(){},get channelCount(){return Q.channelCount},set channelCount(X){Q.channelCount!==X&&(z&&k(),{connectGraph:M,disconnectGraph:k}=b(S,X,Q,D,B),z&&M()),Q.channelCount=X},get channelCountMode(){return Q.channelCountMode},set channelCountMode(X){if(X==="clamped-max"||X==="max")throw l();Q.channelCountMode=X},get channelInterpretation(){return Q.channelInterpretation},set channelInterpretation(X){Q.channelInterpretation=X},get context(){return Q.context},get inputs(){return[Q]},get numberOfInputs(){return Q.numberOfInputs},get numberOfOutputs(){return Q.numberOfOutputs},get pan(){return D.gain},addEventListener(...X){return Q.addEventListener(X[0],X[1],X[2])},dispatchEvent(...X){return Q.dispatchEvent(X[0])},removeEventListener(...X){return Q.removeEventListener(X[0],X[1],X[2])}};let z=!1;const G=()=>{M(),z=!0},I=()=>{k(),z=!1};return u(Pa(T,B),G,I)}},bT=(o,t,s,a,l,u,f)=>(d,p)=>{const m=d.createWaveShaper();if(u!==null&&u.name==="webkitAudioContext"&&d.createGain().gain.automationRate===void 0)return s(d,p);be(m,p);const _=p.curve===null||p.curve instanceof Float32Array?p.curve:new Float32Array(p.curve);if(_!==null&&_.length<2)throw t();$t(m,{curve:_},"curve"),$t(m,p,"oversample");let y=null,x=!1;return f(m,"curve",w=>()=>w.call(m),w=>E=>(w.call(m,E),x&&(a(E)&&y===null?y=o(d,m):!a(E)&&y!==null&&(y(),y=null)),E)),l(m,()=>{x=!0,a(m.curve)&&(y=o(d,m))},()=>{x=!1,y!==null&&(y(),y=null)})},xT=(o,t,s,a,l)=>(u,{curve:f,oversample:d,...p})=>{const m=u.createWaveShaper(),_=u.createWaveShaper();be(m,p),be(_,p);const y=s(u,{...p,gain:1}),x=s(u,{...p,gain:-1}),b=s(u,{...p,gain:1}),S=s(u,{...p,gain:-1});let w=null,E=!1,O=null;const U={get bufferSize(){},get channelCount(){return m.channelCount},set channelCount(D){y.channelCount=D,x.channelCount=D,m.channelCount=D,b.channelCount=D,_.channelCount=D,S.channelCount=D},get channelCountMode(){return m.channelCountMode},set channelCountMode(D){y.channelCountMode=D,x.channelCountMode=D,m.channelCountMode=D,b.channelCountMode=D,_.channelCountMode=D,S.channelCountMode=D},get channelInterpretation(){return m.channelInterpretation},set channelInterpretation(D){y.channelInterpretation=D,x.channelInterpretation=D,m.channelInterpretation=D,b.channelInterpretation=D,_.channelInterpretation=D,S.channelInterpretation=D},get context(){return m.context},get curve(){return O},set curve(D){if(D!==null&&D.length<2)throw t();if(D===null)m.curve=D,_.curve=D;else{const M=D.length,k=new Float32Array(M+2-M%2),T=new Float32Array(M+2-M%2);k[0]=D[0],T[0]=-D[M-1];const z=Math.ceil((M+1)/2),G=(M+1)/2-1;for(let I=1;I<z;I+=1){const X=I/z*G,st=Math.floor(X),nt=Math.ceil(X);k[I]=st===nt?D[st]:(1-(X-st))*D[st]+(1-(nt-X))*D[nt],T[I]=st===nt?-D[M-1-st]:-((1-(X-st))*D[M-1-st])-(1-(nt-X))*D[M-1-nt]}k[z]=M%2===1?D[z-1]:(D[z-2]+D[z-1])/2,m.curve=k,_.curve=T}O=D,E&&(a(O)&&w===null?w=o(u,y):w!==null&&(w(),w=null))},get inputs(){return[y]},get numberOfInputs(){return m.numberOfInputs},get numberOfOutputs(){return m.numberOfOutputs},get oversample(){return m.oversample},set oversample(D){m.oversample=D,_.oversample=D},addEventListener(...D){return y.addEventListener(D[0],D[1],D[2])},dispatchEvent(...D){return y.dispatchEvent(D[0])},removeEventListener(...D){return y.removeEventListener(D[0],D[1],D[2])}};f!==null&&(U.curve=f instanceof Float32Array?f:new Float32Array(f)),d!==U.oversample&&(U.oversample=d);const B=()=>{y.connect(m).connect(b),y.connect(x).connect(_).connect(S).connect(b),E=!0,a(O)&&(w=o(u,y))},Q=()=>{y.disconnect(m),m.disconnect(b),y.disconnect(x),x.disconnect(_),_.disconnect(S),S.disconnect(b),E=!1,w!==null&&(w(),w=null)};return l(Pa(U,b),B,Q)},$e=()=>new DOMException("","NotSupportedError"),ST={numberOfChannels:1},TT=(o,t,s,a,l)=>class extends o{constructor(f,d,p){let m;if(typeof f=="number"&&d!==void 0&&p!==void 0)m={length:d,numberOfChannels:f,sampleRate:p};else if(typeof f=="object")m=f;else throw new Error("The given parameters are not valid.");const{length:_,numberOfChannels:y,sampleRate:x}={...ST,...m},b=a(y,_,x);t(yo,()=>yo(b))||b.addEventListener("statechange",(()=>{let S=0;const w=E=>{this._state==="running"&&(S>0?(b.removeEventListener("statechange",w),E.stopImmediatePropagation(),this._waitForThePromiseToSettle(E)):S+=1)};return w})()),super(b,y),this._length=_,this._nativeOfflineAudioContext=b,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(s()):(this._state="running",l(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,jy(this)}))}_waitForThePromiseToSettle(f){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(f):setTimeout(()=>this._waitForThePromiseToSettle(f))}},wT={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},AT=(o,t,s,a,l,u,f)=>class extends o{constructor(p,m){const _=l(p),y={...wT,...m},x=s(_,y),b=u(_),S=b?a():null,w=p.sampleRate/2;super(p,!1,x,S),this._detune=t(this,b,x.detune,153600,-153600),this._frequency=t(this,b,x.frequency,w,-w),this._nativeOscillatorNode=x,this._onended=null,this._oscillatorNodeRenderer=S,this._oscillatorNodeRenderer!==null&&y.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=y.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(p){const m=typeof p=="function"?f(this,p):null;this._nativeOscillatorNode.onended=m;const _=this._nativeOscillatorNode.onended;this._onended=_!==null&&_===m?p:_}get type(){return this._nativeOscillatorNode.type}set type(p){this._nativeOscillatorNode.type=p,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(p){this._nativeOscillatorNode.setPeriodicWave(p),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=p)}start(p=0){if(this._nativeOscillatorNode.start(p),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=p),this.context.state!=="closed"){Fa(this);const m=()=>{this._nativeOscillatorNode.removeEventListener("ended",m),Ds(this)&&wo(this)};this._nativeOscillatorNode.addEventListener("ended",m)}}stop(p=0){this._nativeOscillatorNode.stop(p),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=p)}},ET=(o,t,s,a,l)=>()=>{const u=new WeakMap;let f=null,d=null,p=null;const m=async(_,y)=>{let x=s(_);const b=He(x,y);if(!b){const S={channelCount:x.channelCount,channelCountMode:x.channelCountMode,channelInterpretation:x.channelInterpretation,detune:x.detune.value,frequency:x.frequency.value,periodicWave:f===null?void 0:f,type:x.type};x=t(y,S),d!==null&&x.start(d),p!==null&&x.stop(p)}return u.set(y,x),b?(await o(y,_.detune,x.detune),await o(y,_.frequency,x.frequency)):(await a(y,_.detune,x.detune),await a(y,_.frequency,x.frequency)),await l(_,y,x),x};return{set periodicWave(_){f=_},set start(_){d=_},set stop(_){p=_},render(_,y){const x=u.get(y);return x!==void 0?Promise.resolve(x):m(_,y)}}},DT={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},CT=(o,t,s,a,l,u,f)=>class extends o{constructor(p,m){const _=l(p),y={...DT,...m},x=s(_,y),b=u(_),S=b?a():null;super(p,!1,x,S),this._nativePannerNode=x,this._orientationX=t(this,b,x.orientationX,Qe,rn),this._orientationY=t(this,b,x.orientationY,Qe,rn),this._orientationZ=t(this,b,x.orientationZ,Qe,rn),this._positionX=t(this,b,x.positionX,Qe,rn),this._positionY=t(this,b,x.positionY,Qe,rn),this._positionZ=t(this,b,x.positionZ,Qe,rn),f(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(p){this._nativePannerNode.coneInnerAngle=p}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(p){this._nativePannerNode.coneOuterAngle=p}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(p){this._nativePannerNode.coneOuterGain=p}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(p){this._nativePannerNode.distanceModel=p}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(p){this._nativePannerNode.maxDistance=p}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(p){this._nativePannerNode.panningModel=p}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(p){this._nativePannerNode.refDistance=p}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(p){this._nativePannerNode.rolloffFactor=p}},OT=(o,t,s,a,l,u,f,d,p,m)=>()=>{const _=new WeakMap;let y=null;const x=async(b,S)=>{let w=null,E=u(b);const O={channelCount:E.channelCount,channelCountMode:E.channelCountMode,channelInterpretation:E.channelInterpretation},U={...O,coneInnerAngle:E.coneInnerAngle,coneOuterAngle:E.coneOuterAngle,coneOuterGain:E.coneOuterGain,distanceModel:E.distanceModel,maxDistance:E.maxDistance,panningModel:E.panningModel,refDistance:E.refDistance,rolloffFactor:E.rolloffFactor},B=He(E,S);if("bufferSize"in E)w=a(S,{...O,gain:1});else if(!B){const Q={...U,orientationX:E.orientationX.value,orientationY:E.orientationY.value,orientationZ:E.orientationZ.value,positionX:E.positionX.value,positionY:E.positionY.value,positionZ:E.positionZ.value};E=l(S,Q)}if(_.set(S,w===null?E:w),w!==null){if(y===null){if(f===null)throw new Error("Missing the native OfflineAudioContext constructor.");const I=new f(6,b.context.length,S.sampleRate),X=t(I,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});X.connect(I.destination),y=(async()=>{const st=await Promise.all([b.orientationX,b.orientationY,b.orientationZ,b.positionX,b.positionY,b.positionZ].map(async(nt,ot)=>{const R=s(I,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:ot===0?1:0});return await d(I,nt,R.offset),R}));for(let nt=0;nt<6;nt+=1)st[nt].connect(X,0,nt),st[nt].start(0);return m(I)})()}const Q=await y,D=a(S,{...O,gain:1});await p(b,S,D);const M=[];for(let I=0;I<Q.numberOfChannels;I+=1)M.push(Q.getChannelData(I));let k=[M[0][0],M[1][0],M[2][0]],T=[M[3][0],M[4][0],M[5][0]],z=a(S,{...O,gain:1}),G=l(S,{...U,orientationX:k[0],orientationY:k[1],orientationZ:k[2],positionX:T[0],positionY:T[1],positionZ:T[2]});D.connect(z).connect(G.inputs[0]),G.connect(w);for(let I=128;I<Q.length;I+=128){const X=[M[0][I],M[1][I],M[2][I]],st=[M[3][I],M[4][I],M[5][I]];if(X.some((nt,ot)=>nt!==k[ot])||st.some((nt,ot)=>nt!==T[ot])){k=X,T=st;const nt=I/S.sampleRate;z.gain.setValueAtTime(0,nt),z=a(S,{...O,gain:0}),G=l(S,{...U,orientationX:k[0],orientationY:k[1],orientationZ:k[2],positionX:T[0],positionY:T[1],positionZ:T[2]}),z.gain.setValueAtTime(1,nt),D.connect(z).connect(G.inputs[0]),G.connect(w)}}return w}return B?(await o(S,b.orientationX,E.orientationX),await o(S,b.orientationY,E.orientationY),await o(S,b.orientationZ,E.orientationZ),await o(S,b.positionX,E.positionX),await o(S,b.positionY,E.positionY),await o(S,b.positionZ,E.positionZ)):(await d(S,b.orientationX,E.orientationX),await d(S,b.orientationY,E.orientationY),await d(S,b.orientationZ,E.orientationZ),await d(S,b.positionX,E.positionX),await d(S,b.positionY,E.positionY),await d(S,b.positionZ,E.positionZ)),Wa(E)?await p(b,S,E.inputs[0]):await p(b,S,E),E};return{render(b,S){const w=_.get(S);return w!==void 0?Promise.resolve(w):x(b,S)}}},MT={disableNormalization:!1},RT=(o,t,s,a)=>class Qy{constructor(u,f){const d=t(u),p=a({...MT,...f}),m=o(d,p);return s.add(m),m}static[Symbol.hasInstance](u){return u!==null&&typeof u=="object"&&Object.getPrototypeOf(u)===Qy.prototype||s.has(u)}},NT=(o,t)=>(s,a,l)=>(o(a).replay(l),t(a,s,l)),kT=(o,t,s)=>async(a,l,u)=>{const f=o(a);await Promise.all(f.activeInputs.map((d,p)=>Array.from(d).map(async([m,_])=>{const x=await t(m).render(m,l),b=a.context.destination;!s(m)&&(a!==b||!s(a))&&x.connect(u,_,p)})).reduce((d,p)=>[...d,...p],[]))},qT=(o,t,s)=>async(a,l,u)=>{const f=t(a);await Promise.all(Array.from(f.activeInputs).map(async([d,p])=>{const _=await o(d).render(d,l);s(d)||_.connect(u,p)}))},zT=(o,t,s,a)=>l=>o(yo,()=>yo(l))?Promise.resolve(o(a,a)).then(u=>{if(!u){const f=s(l,512,0,1);l.oncomplete=()=>{f.onaudioprocess=null,f.disconnect()},f.onaudioprocess=()=>l.currentTime,f.connect(l.destination)}return l.startRendering()}):new Promise(u=>{const f=t(l,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});l.oncomplete=d=>{f.disconnect(),u(d.renderedBuffer)},f.connect(l.destination),l.startRendering()}),VT=o=>(t,s)=>{o.set(t,s)},jT=o=>(t,s)=>o.set(t,s),UT=(o,t,s,a,l,u,f,d)=>(p,m)=>s(p).render(p,m).then(()=>Promise.all(Array.from(a(m)).map(_=>s(_).render(_,m)))).then(()=>l(m)).then(_=>(typeof _.copyFromChannel!="function"?(f(_),Of(_)):t(u,()=>u(_))||d(_),o.add(_),_)),BT={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},LT=(o,t,s,a,l,u)=>class extends o{constructor(d,p){const m=l(d),_={...BT,...p},y=s(m,_),x=u(m),b=x?a():null;super(d,!1,y,b),this._pan=t(this,x,y.pan)}get pan(){return this._pan}},FT=(o,t,s,a,l)=>()=>{const u=new WeakMap,f=async(d,p)=>{let m=s(d);const _=He(m,p);if(!_){const y={channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,pan:m.pan.value};m=t(p,y)}return u.set(p,m),_?await o(p,d.pan,m.pan):await a(p,d.pan,m.pan),Wa(m)?await l(d,p,m.inputs[0]):await l(d,p,m),m};return{render(d,p){const m=u.get(p);return m!==void 0?Promise.resolve(m):f(d,p)}}},GT=o=>()=>{if(o===null)return!1;try{new o({length:1,sampleRate:44100})}catch{return!1}return!0},HT=o=>()=>{if(o===null)return!1;const s=new o(1,1,44100).createBuffer(1,1,44100);if(s.copyToChannel===void 0)return!0;const a=new Float32Array(2);try{s.copyFromChannel(a,0,0)}catch{return!1}return!0},IT=o=>()=>{if(o===null)return!1;if(o.prototype!==void 0&&o.prototype.close!==void 0)return!0;const t=new o,s=t.close!==void 0;try{t.close()}catch{}return s},YT=o=>()=>{if(o===null)return Promise.resolve(!1);const t=new o(1,1,44100);return new Promise(s=>{let a=!0;const l=f=>{a&&(a=!1,t.startRendering(),s(f instanceof TypeError))};let u;try{u=t.decodeAudioData(null,()=>{},l)}catch(f){l(f)}u!==void 0&&u.catch(l)})},XT=o=>()=>{if(o===null)return!1;let t;try{t=new o({latencyHint:"balanced"})}catch{return!1}return t.close(),!0},QT=o=>()=>{if(o===null)return!1;const s=new o(1,1,44100).createGain(),a=s.connect(s)===s;return s.disconnect(s),a},ZT=(o,t)=>async()=>{if(o===null)return!0;if(t===null)return!1;const s=new Blob(['let c,p;class A extends AudioWorkletProcessor{constructor(){super();this.port.onmessage=(e)=>{p=e.data;p.onmessage=()=>{p.postMessage(c);p.close()};this.port.postMessage(0)}}process(){c=1}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),a=new MessageChannel,l=new t(1,128,44100),u=URL.createObjectURL(s);let f=!1;try{await l.audioWorklet.addModule(u);const d=new o(l,"a",{numberOfOutputs:0}),p=l.createOscillator();await new Promise(m=>{d.port.onmessage=()=>m(),d.port.postMessage(a.port2,[a.port2])}),d.port.onmessage=()=>f=!0,p.connect(d),p.start(0),await l.startRendering(),f=await new Promise(m=>{a.port1.onmessage=({data:_})=>m(_===1),a.port1.postMessage(0)})}catch{}finally{a.port1.close(),URL.revokeObjectURL(u)}return f},WT=(o,t)=>async()=>{if(o===null)return!0;if(t===null)return!1;const s=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),a=new t(1,128,44100),l=URL.createObjectURL(s);let u=!1,f=!1;try{await a.audioWorklet.addModule(l);const d=new o(a,"a",{numberOfOutputs:0}),p=a.createOscillator();d.port.onmessage=()=>u=!0,d.onprocessorerror=()=>f=!0,p.connect(d),p.start(0),await a.startRendering(),await new Promise(m=>setTimeout(m))}catch{}finally{URL.revokeObjectURL(l)}return u&&!f},PT=o=>()=>{if(o===null)return!1;const s=new o(1,1,44100).createChannelMerger();if(s.channelCountMode==="max")return!0;try{s.channelCount=2}catch{return!0}return!1},KT=o=>()=>{if(o===null)return!1;const t=new o(1,1,44100);return t.createConstantSource===void 0?!0:t.createConstantSource().offset.maxValue!==Number.POSITIVE_INFINITY},JT=o=>()=>{if(o===null)return!1;const t=new o(1,1,44100),s=t.createConvolver();s.buffer=t.createBuffer(1,1,t.sampleRate);try{s.buffer=t.createBuffer(1,1,t.sampleRate)}catch{return!1}return!0},$T=o=>()=>{if(o===null)return!1;const s=new o(1,1,44100).createConvolver();try{s.channelCount=1}catch{return!1}return!0},tw=o=>()=>o!==null&&o.hasOwnProperty("isSecureContext"),ew=o=>()=>{if(o===null)return!1;const t=new o;try{return t.createMediaStreamSource(new MediaStream),!1}catch{return!0}finally{t.close()}},nw=(o,t)=>()=>{if(t===null)return Promise.resolve(!1);const s=new t(1,1,44100),a=o(s,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(l=>{s.oncomplete=()=>{a.disconnect(),l(s.currentTime!==0)},s.startRendering()})},sw=o=>()=>{if(o===null)return Promise.resolve(!1);const t=new o(1,1,44100);if(t.createStereoPanner===void 0||t.createConstantSource===void 0)return Promise.resolve(!0);const s=t.createConstantSource(),a=t.createStereoPanner();return s.channelCount=1,s.offset.value=1,a.channelCount=1,s.start(),s.connect(a).connect(t.destination),t.startRendering().then(l=>l.getChannelData(0)[0]!==1)},iw=()=>new DOMException("","UnknownError"),aw={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},rw=(o,t,s,a,l,u,f)=>class extends o{constructor(p,m){const _=l(p),y={...aw,...m},x=s(_,y),S=u(_)?a():null;super(p,!0,x,S),this._isCurveNullified=!1,this._nativeWaveShaperNode=x,f(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(p){if(p===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(p.length<2)throw t();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=p}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(p){this._nativeWaveShaperNode.oversample=p}},ow=(o,t,s)=>()=>{const a=new WeakMap,l=async(u,f)=>{let d=t(u);if(!He(d,f)){const m={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,curve:d.curve,oversample:d.oversample};d=o(f,m)}return a.set(f,d),Wa(d)?await s(u,f,d.inputs[0]):await s(u,f,d),d};return{render(u,f){const d=a.get(f);return d!==void 0?Promise.resolve(d):l(u,f)}}},lw=()=>typeof window>"u"?null:window,cw=(o,t)=>s=>{s.copyFromChannel=(a,l,u=0)=>{const f=o(u),d=o(l);if(d>=s.numberOfChannels)throw t();const p=s.length,m=s.getChannelData(d),_=a.length;for(let y=f<0?-f:0;y+f<p&&y<_;y+=1)a[y]=m[y+f]},s.copyToChannel=(a,l,u=0)=>{const f=o(u),d=o(l);if(d>=s.numberOfChannels)throw t();const p=s.length,m=s.getChannelData(d),_=a.length;for(let y=f<0?-f:0;y+f<p&&y<_;y+=1)m[y+f]=a[y]}},uw=o=>t=>{t.copyFromChannel=(s=>(a,l,u=0)=>{const f=o(u),d=o(l);if(f<t.length)return s.call(t,a,d,f)})(t.copyFromChannel),t.copyToChannel=(s=>(a,l,u=0)=>{const f=o(u),d=o(l);if(f<t.length)return s.call(t,a,d,f)})(t.copyToChannel)},hw=o=>(t,s)=>{const a=s.createBuffer(1,1,44100);t.buffer===null&&(t.buffer=a),o(t,"buffer",l=>()=>{const u=l.call(t);return u===a?null:u},l=>u=>l.call(t,u===null?a:u))},fw=(o,t)=>(s,a)=>{a.channelCount=1,a.channelCountMode="explicit",Object.defineProperty(a,"channelCount",{get:()=>1,set:()=>{throw o()}}),Object.defineProperty(a,"channelCountMode",{get:()=>"explicit",set:()=>{throw o()}});const l=s.createBufferSource();t(a,()=>{const d=a.numberOfInputs;for(let p=0;p<d;p+=1)l.connect(a,0,p)},()=>l.disconnect(a))},Zy=(o,t,s)=>o.copyFromChannel===void 0?o.getChannelData(s)[0]:(o.copyFromChannel(t,s),t[0]),Wy=o=>{if(o===null)return!1;const t=o.length;return t%2!==0?o[Math.floor(t/2)]!==0:o[t/2-1]+o[t/2]!==0},Oo=(o,t,s,a)=>{let l=o;for(;!l.hasOwnProperty(t);)l=Object.getPrototypeOf(l);const{get:u,set:f}=Object.getOwnPropertyDescriptor(l,t);Object.defineProperty(o,t,{get:s(u),set:a(f)})},dw=o=>({...o,outputChannelCount:o.outputChannelCount!==void 0?o.outputChannelCount:o.numberOfInputs===1&&o.numberOfOutputs===1?[o.channelCount]:Array.from({length:o.numberOfOutputs},()=>1)}),pw=o=>({...o,channelCount:o.numberOfOutputs}),mw=o=>{const{imag:t,real:s}=o;return t===void 0?s===void 0?{...o,imag:[0,0],real:[0,0]}:{...o,imag:Array.from(s,()=>0),real:s}:s===void 0?{...o,imag:t,real:Array.from(t,()=>0)}:{...o,imag:t,real:s}},Py=(o,t,s)=>{try{o.setValueAtTime(t,s)}catch(a){if(a.code!==9)throw a;Py(o,t,s+1e-7)}},_w=o=>{const t=o.createBufferSource();t.start();try{t.start()}catch{return!0}return!1},gw=o=>{const t=o.createBufferSource(),s=o.createBuffer(1,1,44100);t.buffer=s;try{t.start(0,1)}catch{return!1}return!0},yw=o=>{const t=o.createBufferSource();t.start();try{t.stop()}catch{return!1}return!0},qf=o=>{const t=o.createOscillator();try{t.start(-1)}catch(s){return s instanceof RangeError}return!1},Ky=o=>{const t=o.createBuffer(1,1,44100),s=o.createBufferSource();s.buffer=t,s.start(),s.stop();try{return s.stop(),!0}catch{return!1}},zf=o=>{const t=o.createOscillator();try{t.stop(-1)}catch(s){return s instanceof RangeError}return!1},vw=o=>{const{port1:t,port2:s}=new MessageChannel;try{t.postMessage(o)}finally{t.close(),s.close()}},bw=()=>{try{new DOMException}catch{return!1}return!0},xw=()=>new Promise(o=>{const t=new ArrayBuffer(0),{port1:s,port2:a}=new MessageChannel;s.onmessage=({data:l})=>o(l!==null),a.postMessage(t,[t])}),Sw=o=>{o.start=(t=>(s=0,a=0,l)=>{const u=o.buffer,f=u===null?a:Math.min(u.duration,a);u!==null&&f>u.duration-.5/o.context.sampleRate?t.call(o,s,0,0):t.call(o,s,f,l)})(o.start)},Jy=(o,t)=>{const s=t.createGain();o.connect(s);const a=(l=>()=>{l.call(o,s),o.removeEventListener("ended",a)})(o.disconnect);o.addEventListener("ended",a),Pa(o,s),o.stop=(l=>{let u=!1;return(f=0)=>{if(u)try{l.call(o,f)}catch{s.gain.setValueAtTime(0,f)}else l.call(o,f),u=!0}})(o.stop)},Ka=(o,t)=>s=>{const a={value:o};return Object.defineProperties(s,{currentTarget:a,target:a}),typeof t=="function"?t.call(o,s):t.handleEvent.call(o,s)},Tw=Db(Hi),ww=kb(Hi),Aw=Yx(Ec),$y=new WeakMap,Ew=cS($y),Vn=xx(new Map,new WeakMap),Yn=lw(),tv=LS(Vn,rs),Vf=lS(We),Be=kT(We,Vf,Fi),Dw=Ub(tv,Kt,Be),Wt=fS(Ac),De=dT(Yn),Yt=OS(De),ev=new WeakMap,nv=eS(Ka),ci=IS(Yn),jf=AS(ci),Uf=ES(Yn),sv=DS(Yn),Ga=XS(Yn),de=cx(Cb(My),Nb(Tw,ww,mc,Aw,_c,We,Ew,To,Kt,Hi,Ds,Fi,lc),Vn,bS(mf,_c,We,Kt,go,Ds),rs,Dc,$e,Fx(mc,mf,We,Kt,go,Wt,Ds,Yt),Zx(ev,We,In),nv,Wt,jf,Uf,sv,Yt,Ga),Cw=jb(de,Dw,rs,tv,Wt,Yt),Bf=new WeakSet,hy=FS(Yn),iv=qx(new Uint32Array(1)),Lf=cw(iv,rs),Ff=uw(iv),av=Lb(Bf,Vn,$e,hy,De,GT(hy),Lf,Ff),Cc=qb(ln),rv=qT(Vf,Ao,Fi),os=Cx(rv),Ja=HS(Cc,Vn,_w,gw,yw,qf,Ky,zf,Sw,hw(Oo),Jy),ls=NT(uS(Ao),rv),Ow=Hb(os,Ja,Kt,ls,Be),Qn=ux(Ob(Ry),ev,Cf,hx,xb,Sb,Tb,wb,Ab,ff,Cy,ci,Py),Mw=Gb(de,Ow,Qn,Ce,Ja,Wt,Yt,Ka),Rw=Jb(de,$b,rs,Ce,YS(ln,Oo),Wt,Yt,Be),Nw=bx(os,Yy,Kt,ls,Be),Ii=jT($y),kw=vx(de,Qn,Nw,Dc,Yy,Wt,Yt,Ii),pi=US(Hi,Uf),qw=fw(Ce,pi),mi=$S(ci,qw),zw=wx(mi,Kt,Be),Vw=Tx(de,zw,mi,Wt,Yt),jw=Dx(Do,Kt,Be),Uw=Ex(de,jw,Do,Wt,Yt,pw),Bw=nT(Cc,Ja,ln,pi),$a=eT(Cc,Vn,Bw,qf,zf),Lw=kx(os,$a,Kt,ls,Be),Fw=Nx(de,Qn,Lw,$a,Wt,Yt,Ka),ov=sT($e,Oo),Gw=jx(ov,Kt,Be),Hw=Vx(de,Gw,ov,Wt,Yt,Ii),Iw=Ix(os,Xy,Kt,ls,Be),Yw=Hx(de,Qn,Iw,Xy,Wt,Yt,Ii),lv=iT($e),Xw=Jx(os,lv,Kt,ls,Be),Qw=Kx(de,Qn,Xw,lv,$e,Wt,Yt,Ii),Zw=rS(os,ln,Kt,ls,Be),Ww=aS(de,Qn,Zw,ln,Wt,Yt),Pw=lT(Dc,Ce,Co,$e),Oc=zT(Vn,ln,Co,nw(ln,De)),Kw=vS(Ja,Kt,De,Be,Oc),Jw=aT(Pw),$w=gS(de,Jw,Kw,Wt,Yt,Ii),tA=tx(Qn,mi,$a,Co,$e,Zy,Yt,Oo),cv=new WeakMap,eA=jS(Rw,tA,nv,Yt,cv,Ka),uv=pT(Cc,Vn,qf,Ky,zf,Jy),nA=ET(os,uv,Kt,ls,Be),sA=AT(de,Qn,uv,nA,Wt,Yt,Ka),hv=Mx(Ja),iA=xT(hv,Ce,ln,Wy,pi),Mc=bT(hv,Ce,iA,Wy,pi,ci,Oo),aA=_T(mc,Ce,mi,ln,Co,Mc,$e,_c,Zy,pi),fv=mT(aA),rA=OT(os,mi,$a,ln,fv,Kt,De,ls,Be,Oc),oA=CT(de,Qn,fv,rA,Wt,Yt,Ii),lA=gT(rs),cA=RT(lA,Wt,new WeakSet,mw),uA=vT(mi,Do,ln,Mc,$e,pi),dv=yT(uA,$e),hA=FT(os,dv,Kt,ls,Be),fA=LT(de,Qn,dv,hA,Wt,Yt),dA=ow(Mc,Kt,Be),pA=rw(de,Ce,Mc,dA,Wt,Yt,Ii),pv=MS(Yn),Gf=nS(Yn),mv=new WeakMap,mA=dS(mv,De),_A=pv?Rb(Vn,$e,tS(Yn),Gf,sS(Eb),Wt,mA,Yt,Ga,new WeakMap,new WeakMap,WT(Ga,De),Yn):void 0,gA=CS(jf,Yt),yA=Lx(Bf,Vn,Bx,$x,new WeakSet,Wt,gA,dc,yo,Lf,Ff),_v=gx(_A,Cw,av,Mw,kw,Vw,Uw,Fw,Hw,yA,Yw,Qw,Ww,$w,eA,sA,oA,cA,fA,pA),vA=NS(de,cT,Wt,Yt),bA=qS(de,uT,Wt,Yt),xA=zS(de,hT,Wt,Yt),SA=fT(Ce,Yt),TA=VS(de,SA,Wt),wA=Kb(_v,Ce,$e,iw,vA,bA,xA,TA,ci),Hf=pS(cv),AA=zb(Hf),gv=Ox(rs),EA=Xx(Hf),yv=Wx(rs),vv=new WeakMap,DA=oS(vv,In),CA=JS(gv,rs,Ce,mi,Do,$a,ln,Co,$e,yv,Gf,DA,pi),OA=ZS(Ce,CA,ln,$e,pi),MA=_x(os,gv,Ja,mi,Do,$a,ln,EA,yv,Gf,Kt,Ga,De,ls,Be,Oc),RA=hS(mv),NA=VT(vv),fy=pv?dx(AA,de,Qn,MA,OA,We,RA,Wt,Yt,Ga,dw,NA,vw,Ka):void 0,kA=Ux($e,De),qA=UT(Bf,Vn,Vf,Hf,Oc,dc,Lf,Ff),zA=TT(_v,Vn,Ce,kA,qA),VA=xS(Ac,jf),jA=SS(Df,Uf),UA=TS(Cf,sv),BA=wS(Ac,Yt),LA=()=>RS(Vn,HT(De),IT(ci),YT(De),XT(ci),QT(De),ZT(Ga,De),PT(De),KT(De),JT(De),$T(De),bw,tw(Yn),ew(ci),sw(De),xw);function on(o){return o===void 0}function wt(o){return o!==void 0}function bv(o){return typeof o=="function"}function bn(o){return typeof o=="number"}function Cs(o){return Object.prototype.toString.call(o)==="[object Object]"&&o.constructor===Object}function If(o){return typeof o=="boolean"}function je(o){return Array.isArray(o)}function Xn(o){return typeof o=="string"}function fo(o){return Xn(o)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(o)}function pt(o,t){if(!o)throw new Error(t)}function ve(o,t,s=1/0){if(!(t<=o&&o<=s))throw new RangeError(`Value must be within [${t}, ${s}], got: ${o}`)}function Yf(o){!o.isOffline&&o.state!=="running"&&tr('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let xv=!1,dy=!1;function bf(o){xv=o}function Sv(o){on(o)&&xv&&!dy&&(dy=!0,tr("Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing"))}let Xf=console;function FA(o){Xf=o}function Tv(...o){Xf.log(...o)}function tr(...o){Xf.warn(...o)}const GA=Object.freeze(Object.defineProperty({__proto__:null,assert:pt,assertContextRunning:Yf,assertRange:ve,assertUsedScheduleTime:Sv,enterScheduledCallback:bf,log:Tv,setLogger:FA,warn:tr},Symbol.toStringTag,{value:"Module"}));function HA(o){return new wA(o)}function IA(o,t,s){return new zA(o,t,s)}const Ze=typeof self=="object"?self:null,YA=Ze&&(Ze.hasOwnProperty("AudioContext")||Ze.hasOwnProperty("webkitAudioContext"));function XA(o,t,s){return pt(wt(fy),"AudioWorkletNode only works in a secure context (https or localhost)"),new(o instanceof Ze?.BaseAudioContext?Ze?.AudioWorkletNode:fy)(o,t,s)}function Zn(o,t,s,a){var l=arguments.length,u=l<3?t:a===null?a=Object.getOwnPropertyDescriptor(t,s):a,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(o,t,s,a);else for(var d=o.length-1;d>=0;d--)(f=o[d])&&(u=(l<3?f(u):l>3?f(t,s,u):f(t,s))||u);return l>3&&u&&Object.defineProperty(t,s,u),u}function Qt(o,t,s,a){function l(u){return u instanceof s?u:new s(function(f){f(u)})}return new(s||(s=Promise))(function(u,f){function d(_){try{m(a.next(_))}catch(y){f(y)}}function p(_){try{m(a.throw(_))}catch(y){f(y)}}function m(_){_.done?u(_.value):l(_.value).then(d,p)}m((a=a.apply(o,t||[])).next())})}class QA{constructor(t,s,a,l){this._callback=t,this._type=s,this._minimumUpdateInterval=Math.max(128/(l||44100),.001),this.updateInterval=a,this._createClock()}_createWorker(){const t=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),s=URL.createObjectURL(t),a=new Worker(s);a.onmessage=this._callback.bind(this),this._worker=a}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&clearTimeout(this._timeout),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(t){var s;this._updateInterval=Math.max(t,this._minimumUpdateInterval),this._type==="worker"&&((s=this._worker)===null||s===void 0||s.postMessage(this._updateInterval*1e3))}get type(){return this._type}set type(t){this._disposeClock(),this._type=t,this._createClock()}dispose(){this._disposeClock()}}function Gi(o){return UA(o)}function ui(o){return jA(o)}function cc(o){return BA(o)}function ja(o){return VA(o)}function ZA(o){return o instanceof av}function WA(o,t){return o==="value"||Gi(t)||ui(t)||ZA(t)}function kn(o,...t){if(!t.length)return o;const s=t.shift();if(Cs(o)&&Cs(s))for(const a in s)WA(a,s[a])?o[a]=s[a]:Cs(s[a])?(o[a]||Object.assign(o,{[a]:{}}),kn(o[a],s[a])):Object.assign(o,{[a]:s[a]});return kn(o,...t)}function PA(o,t){return o.length===t.length&&o.every((s,a)=>t[a]===s)}function W(o,t,s=[],a){const l={},u=Array.from(t);if(Cs(u[0])&&a&&!Reflect.has(u[0],a)&&(Object.keys(u[0]).some(d=>Reflect.has(o,d))||(kn(l,{[a]:u[0]}),s.splice(s.indexOf(a),1),u.shift())),u.length===1&&Cs(u[0]))kn(l,u[0]);else for(let f=0;f<s.length;f++)wt(u[f])&&(l[s[f]]=u[f]);return kn(o,l)}function KA(o){return o.constructor.getDefaults()}function qn(o,t){return on(o)?t:o}function ze(o,t){return t.forEach(s=>{Reflect.has(o,s)&&delete o[s]}),o}/**
 * Tone.js
 * @author Yotam Mann
 * @license http://opensource.org/licenses/MIT MIT License
 * @copyright 2014-2024 Yotam Mann
 */class Ns{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...t){(this.debug||Ze&&this.toString()===Ze.TONE_DEBUG_CLASS)&&Tv(this,...t)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}Ns.version=Af;const Qf=1e-6;function Ha(o,t){return o>t+Qf}function xf(o,t){return Ha(o,t)||Gn(o,t)}function bc(o,t){return o+Qf<t}function Gn(o,t){return Math.abs(o-t)<Qf}function Yi(o,t,s){return Math.max(Math.min(o,s),t)}class yn extends Ns{constructor(){super(),this.name="Timeline",this._timeline=[];const t=W(yn.getDefaults(),arguments,["memory"]);this.memory=t.memory,this.increasing=t.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(t){if(pt(Reflect.has(t,"time"),"Timeline: events must have a time attribute"),t.time=t.time.valueOf(),this.increasing&&this.length){const s=this._timeline[this.length-1];pt(xf(t.time,s.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(t)}else{const s=this._search(t.time);this._timeline.splice(s+1,0,t)}if(this.length>this.memory){const s=this.length-this.memory;this._timeline.splice(0,s)}return this}remove(t){const s=this._timeline.indexOf(t);return s!==-1&&this._timeline.splice(s,1),this}get(t,s="time"){const a=this._search(t,s);return a!==-1?this._timeline[a]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(t,s="time"){const a=this._search(t,s);return a+1<this._timeline.length?this._timeline[a+1]:null}getBefore(t){const s=this._timeline.length;if(s>0&&this._timeline[s-1].time<t)return this._timeline[s-1];const a=this._search(t);return a-1>=0?this._timeline[a-1]:null}cancel(t){if(this._timeline.length>1){let s=this._search(t);if(s>=0)if(Gn(this._timeline[s].time,t)){for(let a=s;a>=0&&Gn(this._timeline[a].time,t);a--)s=a;this._timeline=this._timeline.slice(0,s)}else this._timeline=this._timeline.slice(0,s+1);else this._timeline=[]}else this._timeline.length===1&&xf(this._timeline[0].time,t)&&(this._timeline=[]);return this}cancelBefore(t){const s=this._search(t);return s>=0&&(this._timeline=this._timeline.slice(s+1)),this}previousEvent(t){const s=this._timeline.indexOf(t);return s>0?this._timeline[s-1]:null}_search(t,s="time"){if(this._timeline.length===0)return-1;let a=0;const l=this._timeline.length;let u=l;if(l>0&&this._timeline[l-1][s]<=t)return l-1;for(;a<u;){let f=Math.floor(a+(u-a)/2);const d=this._timeline[f],p=this._timeline[f+1];if(Gn(d[s],t)){for(let m=f;m<this._timeline.length;m++){const _=this._timeline[m];if(Gn(_[s],t))f=m;else break}return f}else{if(bc(d[s],t)&&Ha(p[s],t))return f;Ha(d[s],t)?u=f:a=f+1}}return-1}_iterate(t,s=0,a=this._timeline.length-1){this._timeline.slice(s,a+1).forEach(t)}forEach(t){return this._iterate(t),this}forEachBefore(t,s){const a=this._search(t);return a!==-1&&this._iterate(s,0,a),this}forEachAfter(t,s){const a=this._search(t);return this._iterate(s,a+1),this}forEachBetween(t,s,a){let l=this._search(t),u=this._search(s);return l!==-1&&u!==-1?(this._timeline[l].time!==t&&(l+=1),this._timeline[u].time===s&&(u-=1),this._iterate(a,l,u)):l===-1&&this._iterate(a,0,u),this}forEachFrom(t,s){let a=this._search(t);for(;a>=0&&this._timeline[a].time>=t;)a--;return this._iterate(s,a+1),this}forEachAtTime(t,s){const a=this._search(t);if(a!==-1&&Gn(this._timeline[a].time,t)){let l=a;for(let u=a;u>=0&&Gn(this._timeline[u].time,t);u--)l=u;this._iterate(u=>{s(u)},l,a)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const wv=[];function Rc(o){wv.push(o)}function JA(o){wv.forEach(t=>t(o))}const Av=[];function Nc(o){Av.push(o)}function $A(o){Av.forEach(t=>t(o))}class er extends Ns{constructor(){super(...arguments),this.name="Emitter"}on(t,s){return t.split(/\W+/).forEach(l=>{on(this._events)&&(this._events={}),this._events.hasOwnProperty(l)||(this._events[l]=[]),this._events[l].push(s)}),this}once(t,s){const a=(...l)=>{s(...l),this.off(t,a)};return this.on(t,a),this}off(t,s){return t.split(/\W+/).forEach(l=>{if(on(this._events)&&(this._events={}),this._events.hasOwnProperty(l))if(on(s))this._events[l]=[];else{const u=this._events[l];for(let f=u.length-1;f>=0;f--)u[f]===s&&u.splice(f,1)}}),this}emit(t,...s){if(this._events&&this._events.hasOwnProperty(t)){const a=this._events[t].slice(0);for(let l=0,u=a.length;l<u;l++)a[l].apply(this,s)}return this}static mixin(t){["on","once","off","emit"].forEach(s=>{const a=Object.getOwnPropertyDescriptor(er.prototype,s);Object.defineProperty(t.prototype,s,a)})}dispose(){return super.dispose(),this._events=void 0,this}}class Zf extends er{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class nr extends Zf{constructor(){var t,s;super(),this.name="Context",this._constants=new Map,this._timeouts=new yn,this._timeoutIds=0,this._initialized=!1,this._closeStarted=!1,this.isOffline=!1,this._workletPromise=null;const a=W(nr.getDefaults(),arguments,["context"]);a.context?(this._context=a.context,this._latencyHint=((t=arguments[0])===null||t===void 0?void 0:t.latencyHint)||""):(this._context=HA({latencyHint:a.latencyHint}),this._latencyHint=a.latencyHint),this._ticker=new QA(this.emit.bind(this,"tick"),a.clockSource,a.updateInterval,this._context.sampleRate),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this[!((s=arguments[0])===null||s===void 0)&&s.hasOwnProperty("updateInterval")?"_lookAhead":"lookAhead"]=a.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(JA(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(t,s,a){return this._context.createBuffer(t,s,a)}createChannelMerger(t){return this._context.createChannelMerger(t)}createChannelSplitter(t){return this._context.createChannelSplitter(t)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(t){return this._context.createDelay(t)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(t,s){return this._context.createIIRFilter(t,s)}createPanner(){return this._context.createPanner()}createPeriodicWave(t,s,a){return this._context.createPeriodicWave(t,s,a)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(t){return pt(ja(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(t)}createMediaElementSource(t){return pt(ja(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(t)}createMediaStreamDestination(){return pt(ja(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(t){return this._context.decodeAudioData(t)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(t){pt(!this._initialized,"The listener cannot be set after initialization."),this._listener=t}get transport(){return this.initialize(),this._transport}set transport(t){pt(!this._initialized,"The transport cannot be set after initialization."),this._transport=t}get draw(){return this.initialize(),this._draw}set draw(t){pt(!this._initialized,"Draw cannot be set after initialization."),this._draw=t}get destination(){return this.initialize(),this._destination}set destination(t){pt(!this._initialized,"The destination cannot be set after initialization."),this._destination=t}createAudioWorkletNode(t,s){return XA(this.rawContext,t,s)}addAudioWorkletModule(t){return Qt(this,void 0,void 0,function*(){pt(wt(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletPromise||(this._workletPromise=this.rawContext.audioWorklet.addModule(t)),yield this._workletPromise})}workletsAreReady(){return Qt(this,void 0,void 0,function*(){(yield this._workletPromise)?this._workletPromise:Promise.resolve()})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(t){this._ticker.updateInterval=t}get clockSource(){return this._ticker.type}set clockSource(t){this._ticker.type=t}get lookAhead(){return this._lookAhead}set lookAhead(t){this._lookAhead=t,this.updateInterval=t?t/2:.01}get latencyHint(){return this._latencyHint}get rawContext(){return this._context}now(){return this._context.currentTime+this._lookAhead}immediate(){return this._context.currentTime}resume(){return ja(this._context)?this._context.resume():Promise.resolve()}close(){return Qt(this,void 0,void 0,function*(){ja(this._context)&&this.state!=="closed"&&!this._closeStarted&&(this._closeStarted=!0,yield this._context.close()),this._initialized&&$A(this)})}getConstant(t){if(this._constants.has(t))return this._constants.get(t);{const s=this._context.createBuffer(1,128,this._context.sampleRate),a=s.getChannelData(0);for(let u=0;u<a.length;u++)a[u]=t;const l=this._context.createBufferSource();return l.channelCount=1,l.channelCountMode="explicit",l.buffer=s,l.loop=!0,l.start(0),this._constants.set(t,l),l}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(t=>this._constants[t].disconnect()),this.close(),this}_timeoutLoop(){const t=this.now();this._timeouts.forEachBefore(t,s=>{s.callback(),this._timeouts.remove(s)})}setTimeout(t,s){this._timeoutIds++;const a=this.now();return this._timeouts.add({callback:t,id:this._timeoutIds,time:a+s}),this._timeoutIds}clearTimeout(t){return this._timeouts.forEach(s=>{s.id===t&&this._timeouts.remove(s)}),this}clearInterval(t){return this.clearTimeout(t)}setInterval(t,s){const a=++this._timeoutIds,l=()=>{const u=this.now();this._timeouts.add({callback:()=>{t(),l()},id:a,time:u+s})};return l(),a}}class t2 extends Zf{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(t,s,a){return{}}createChannelMerger(t){return{}}createChannelSplitter(t){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(t){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(t,s){return{}}createPanner(){return{}}createPeriodicWave(t,s,a){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(t){return{}}createMediaElementSource(t){return{}}createMediaStreamDestination(){return{}}decodeAudioData(t){return Promise.resolve({})}createAudioWorkletNode(t,s){return{}}get rawContext(){return{}}addAudioWorkletModule(t){return Qt(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(t,s){return 0}clearTimeout(t){return this}setInterval(t,s){return 0}clearInterval(t){return this}getConstant(t){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(t){}get destination(){return{}}set destination(t){}now(){return 0}immediate(){return 0}}function gt(o,t){je(t)?t.forEach(s=>gt(o,s)):Object.defineProperty(o,t,{enumerable:!0,writable:!1})}function Mo(o,t){je(t)?t.forEach(s=>Mo(o,s)):Object.defineProperty(o,t,{writable:!0})}const Dt=()=>{};class zt extends Ns{constructor(){super(),this.name="ToneAudioBuffer",this.onload=Dt;const t=W(zt.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=t.reverse,this.onload=t.onload,Xn(t.url)?this.load(t.url).catch(t.onerror):t.url&&this.set(t.url)}static getDefaults(){return{onerror:Dt,onload:Dt,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:Pt().sampleRate}set(t){return t instanceof zt?t.loaded?this._buffer=t.get():t.onload=()=>{this.set(t),this.onload(this)}:this._buffer=t,this._reversed&&this._reverse(),this}get(){return this._buffer}load(t){return Qt(this,void 0,void 0,function*(){const s=zt.load(t).then(a=>{this.set(a),this.onload(this)});zt.downloads.push(s);try{yield s}finally{const a=zt.downloads.indexOf(s);zt.downloads.splice(a,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(t){const s=je(t)&&t[0].length>0,a=s?t.length:1,l=s?t[0].length:t.length,u=Pt(),f=u.createBuffer(a,l,u.sampleRate),d=!s&&a===1?[t]:t;for(let p=0;p<a;p++)f.copyToChannel(d[p],p);return this._buffer=f,this}toMono(t){if(bn(t))this.fromArray(this.toArray(t));else{let s=new Float32Array(this.length);const a=this.numberOfChannels;for(let l=0;l<a;l++){const u=this.toArray(l);for(let f=0;f<u.length;f++)s[f]+=u[f]}s=s.map(l=>l/a),this.fromArray(s)}return this}toArray(t){if(bn(t))return this.getChannelData(t);if(this.numberOfChannels===1)return this.toArray(0);{const s=[];for(let a=0;a<this.numberOfChannels;a++)s[a]=this.getChannelData(a);return s}}getChannelData(t){return this._buffer?this._buffer.getChannelData(t):new Float32Array(0)}slice(t,s=this.duration){pt(this.loaded,"Buffer is not loaded");const a=Math.floor(t*this.sampleRate),l=Math.floor(s*this.sampleRate);pt(a<l,"The start time must be less than the end time");const u=l-a,f=Pt().createBuffer(this.numberOfChannels,u,this.sampleRate);for(let d=0;d<this.numberOfChannels;d++)f.copyToChannel(this.getChannelData(d).subarray(a,l),d);return new zt(f)}_reverse(){if(this.loaded)for(let t=0;t<this.numberOfChannels;t++)this.getChannelData(t).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(t){this._reversed!==t&&(this._reversed=t,this._reverse())}static fromArray(t){return new zt().fromArray(t)}static fromUrl(t){return Qt(this,void 0,void 0,function*(){return yield new zt().load(t)})}static load(t){return Qt(this,void 0,void 0,function*(){const s=zt.baseUrl===""||zt.baseUrl.endsWith("/")?zt.baseUrl:zt.baseUrl+"/",a=yield fetch(s+t);if(!a.ok)throw new Error(`could not load url: ${t}`);const l=yield a.arrayBuffer();return yield Pt().decodeAudioData(l)})}static supportsType(t){const s=t.split("."),a=s[s.length-1];return document.createElement("audio").canPlayType("audio/"+a)!==""}static loaded(){return Qt(this,void 0,void 0,function*(){for(yield Promise.resolve();zt.downloads.length;)yield zt.downloads[0]})}}zt.baseUrl="";zt.downloads=[];class sr extends nr{constructor(){super({clockSource:"offline",context:cc(arguments[0])?arguments[0]:IA(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:cc(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=cc(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(t){return Qt(this,void 0,void 0,function*(){let s=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,s++;const a=Math.floor(this.sampleRate/128);t&&s%a===0&&(yield new Promise(l=>setTimeout(l,1)))}})}render(){return Qt(this,arguments,void 0,function*(t=!0){yield this.workletsAreReady(),yield this._renderClock(t);const s=yield this._context.startRendering();return new zt(s)})}close(){return Promise.resolve()}}const Ev=new t2;let Bi=Ev;function Pt(){return Bi===Ev&&YA&&xc(new nr),Bi}function xc(o,t=!1){t&&Bi.dispose(),ja(o)?Bi=new nr(o):cc(o)?Bi=new sr(o):Bi=o}function Ba(){return Bi.resume()}if(Ze&&!Ze.TONE_SILENCE_LOGGING){const t=` * Tone.js v${Af} * `;console.log(`%c${t}`,"background: #000; color: #fff")}function Ia(o){return Math.pow(10,o/20)}function Ro(o){return 20*(Math.log(o)/Math.LN10)}function Ya(o){return Math.pow(2,o/12)}let kc=440;function e2(){return kc}function n2(o){kc=o}function oi(o){return Math.round(Dv(o))}function Dv(o){return 69+12*Math.log2(o/kc)}function Wf(o){return kc*Math.pow(2,(o-69)/12)}class Pf extends Ns{constructor(t,s,a){super(),this.defaultUnits="s",this._val=s,this._units=a,this.context=t,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:t=>this._frequencyToUnits(parseFloat(t)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:t=>this._ticksToUnits(parseInt(t,10)),regexp:/^(\d+)i$/i},m:{method:t=>this._beatsToUnits(parseInt(t,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(t,s)=>{const a=parseInt(t,10),l=s==="."?1.5:1;return a===1?this._beatsToUnits(this._getTimeSignature())*l:this._beatsToUnits(4/a)*l},regexp:/^(\d+)n(\.?)$/i},number:{method:t=>this._expressions[this.defaultUnits].method.call(this,t),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:t=>this._secondsToUnits(parseFloat(t)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:t=>parseInt(t,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:t=>{const s=parseInt(t,10);return this._beatsToUnits(8/(Math.floor(s)*3))},regexp:/^(\d+)t$/i},tr:{method:(t,s,a)=>{let l=0;return t&&t!=="0"&&(l+=this._beatsToUnits(this._getTimeSignature()*parseFloat(t))),s&&s!=="0"&&(l+=this._beatsToUnits(parseFloat(s))),a&&a!=="0"&&(l+=this._beatsToUnits(parseFloat(a)/4)),l},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof Pf&&this.fromType(this._val),on(this._val))return this._noArg();if(Xn(this._val)&&on(this._units)){for(const t in this._expressions)if(this._expressions[t].regexp.test(this._val.trim())){this._units=t;break}}else if(Cs(this._val)){let t=0;for(const s in this._val)if(wt(this._val[s])){const a=this._val[s],l=new this.constructor(this.context,s).valueOf()*a;t+=l}return t}if(wt(this._units)){const t=this._expressions[this._units],s=this._val.toString().trim().match(t.regexp);return s?t.method.apply(this,s.slice(1)):t.method.call(this,this._val)}else return Xn(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(t){return 1/t}_beatsToUnits(t){return 60/this._getBpm()*t}_secondsToUnits(t){return t}_ticksToUnits(t){return t*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(t){switch(this._units=void 0,this.defaultUnits){case"s":this._val=t.toSeconds();break;case"i":this._val=t.toTicks();break;case"hz":this._val=t.toFrequency();break;case"midi":this._val=t.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class _n extends Pf{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:t=>this._now()+new this.constructor(this.context,t).valueOf(),regexp:/^\+(.+)/},quantize:{method:t=>{const s=new _n(this.context,t).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(s))},regexp:/^@(.+)/}})}quantize(t,s=1){const a=new this.constructor(this.context,t).valueOf(),l=this.valueOf(),d=Math.round(l/a)*a-l;return l+d*s}toNotation(){const t=this.toSeconds(),s=["1m"];for(let u=1;u<9;u++){const f=Math.pow(2,u);s.push(f+"n."),s.push(f+"n"),s.push(f+"t")}s.push("0");let a=s[0],l=new _n(this.context,s[0]).toSeconds();return s.forEach(u=>{const f=new _n(this.context,u).toSeconds();Math.abs(f-t)<Math.abs(l-t)&&(a=u,l=f)}),a}toBarsBeatsSixteenths(){const t=this._beatsToUnits(1);let s=this.valueOf()/t;s=parseFloat(s.toFixed(4));const a=Math.floor(s/this._getTimeSignature());let l=s%1*4;s=Math.floor(s)%this._getTimeSignature();const u=l.toString();return u.length>3&&(l=parseFloat(parseFloat(u).toFixed(3))),[a,s,l].join(":")}toTicks(){const t=this._beatsToUnits(1);return this.valueOf()/t*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return oi(this.toFrequency())}_now(){return this.context.now()}}function s2(o,t){return new _n(Pt(),o,t)}class Pe extends _n{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return e2()}static set A4(t){n2(t)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(t){return this.defaultUnits==="midi"?t:Pe.mtof(t)}},note:{regexp:/^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,method(t,s){const l=i2[t.toLowerCase()]+(parseInt(s,10)+1)*12;return this.defaultUnits==="midi"?l:Pe.mtof(l)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(t,s,a){let l=1;return t&&t!=="0"&&(l*=this._beatsToUnits(this._getTimeSignature()*parseFloat(t))),s&&s!=="0"&&(l*=this._beatsToUnits(parseFloat(s))),a&&a!=="0"&&(l*=this._beatsToUnits(parseFloat(a)/4)),l}}})}transpose(t){return new Pe(this.context,this.valueOf()*Ya(t))}harmonize(t){return t.map(s=>this.transpose(s))}toMidi(){return oi(this.valueOf())}toNote(){const t=this.toFrequency(),s=Math.log2(t/Pe.A4);let a=Math.round(12*s)+57;const l=Math.floor(a/12);return l<0&&(a+=-12*l),a2[a%12]+l.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const t=this._beatsToUnits(1),s=this.valueOf()/t;return Math.floor(s*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(t){return t}_ticksToUnits(t){return 1/(t*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(t){return 1/super._beatsToUnits(t)}_secondsToUnits(t){return 1/t}static mtof(t){return Wf(t)}static ftom(t){return oi(t)}}const i2={cbbb:-3,cbb:-2,cb:-1,c:0,"c#":1,cx:2,"c##":2,"c###":3,"cx#":3,"c#x":3,dbbb:-1,dbb:0,db:1,d:2,"d#":3,dx:4,"d##":4,"d###":5,"dx#":5,"d#x":5,ebbb:1,ebb:2,eb:3,e:4,"e#":5,ex:6,"e##":6,"e###":7,"ex#":7,"e#x":7,fbbb:2,fbb:3,fb:4,f:5,"f#":6,fx:7,"f##":7,"f###":8,"fx#":8,"f#x":8,gbbb:4,gbb:5,gb:6,g:7,"g#":8,gx:9,"g##":9,"g###":10,"gx#":10,"g#x":10,abbb:6,abb:7,ab:8,a:9,"a#":10,ax:11,"a##":11,"a###":12,"ax#":12,"a#x":12,bbbb:8,bbb:9,bb:10,b:11,"b#":12,bx:13,"b##":13,"b###":14,"bx#":14,"b#x":14},a2=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];function r2(o,t){return new Pe(Pt(),o,t)}class _e extends _n{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}function o2(o,t){return new _e(Pt(),o,t)}class Oe extends Ns{constructor(){super();const t=W(Oe.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=t.context}static getDefaults(){return{context:Pt()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(t){return Sv(t),new _n(this.context,t).toSeconds()}toFrequency(t){return new Pe(this.context,t).toFrequency()}toTicks(t){return new _e(this.context,t).toTicks()}_getPartialProperties(t){const s=this.get();return Object.keys(s).forEach(a=>{on(t[a])&&delete s[a]}),s}get(){const t=KA(this);return Object.keys(t).forEach(s=>{if(Reflect.has(this,s)){const a=this[s];wt(a)&&wt(a.value)&&wt(a.setValueAtTime)?t[s]=a.value:a instanceof Oe?t[s]=a._getPartialProperties(t[s]):je(a)||bn(a)||Xn(a)||If(a)?t[s]=a:delete t[s]}}),t}set(t){return Object.keys(t).forEach(s=>{Reflect.has(this,s)&&wt(this[s])&&(this[s]&&wt(this[s].value)&&wt(this[s].setValueAtTime)?this[s].value!==t[s]&&(this[s].value=t[s]):this[s]instanceof Oe?this[s].set(t[s]):this[s]=t[s])}),this}}class ir extends yn{constructor(t="stopped"){super(),this.name="StateTimeline",this._initial=t,this.setStateAtTime(this._initial,0)}getValueAtTime(t){const s=this.get(t);return s!==null?s.state:this._initial}setStateAtTime(t,s,a){return ve(s,0),this.add(Object.assign({},a,{state:t,time:s})),this}getLastState(t,s){const a=this._search(s);for(let l=a;l>=0;l--){const u=this._timeline[l];if(u.state===t)return u}}getNextState(t,s){const a=this._search(s);if(a!==-1)for(let l=a;l<this._timeline.length;l++){const u=this._timeline[l];if(u.state===t)return u}}}class Tt extends Oe{constructor(){const t=W(Tt.getDefaults(),arguments,["param","units","convert"]);for(super(t),this.name="Param",this.overridden=!1,this._minOutput=1e-7,pt(wt(t.param)&&(Gi(t.param)||t.param instanceof Tt),"param must be an AudioParam");!Gi(t.param);)t.param=t.param._param;this._swappable=wt(t.swappable)?t.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=t.param,this.input.connect(this._param)):this._param=this.input=t.param,this._events=new yn(1e3),this._initialValue=this._param.defaultValue,this.units=t.units,this.convert=t.convert,this._minValue=t.minValue,this._maxValue=t.maxValue,wt(t.value)&&t.value!==this._toType(this._initialValue)&&this.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(Oe.getDefaults(),{convert:!0,units:"number"})}get value(){const t=this.now();return this.getValueAtTime(t)}set value(t){this.cancelScheduledValues(this.now()),this.setValueAtTime(t,this.now())}get minValue(){return wt(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return wt(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(t,s){return this.units===s}_assertRange(t){return wt(this.maxValue)&&wt(this.minValue)&&ve(t,this._fromType(this.minValue),this._fromType(this.maxValue)),t}_fromType(t){return this.convert&&!this.overridden?this._is(t,"time")?this.toSeconds(t):this._is(t,"decibels")?Ia(t):this._is(t,"frequency")?this.toFrequency(t):t:this.overridden?0:t}_toType(t){return this.convert&&this.units==="decibels"?Ro(t):t}setValueAtTime(t,s){const a=this.toSeconds(s),l=this._fromType(t);return pt(isFinite(l)&&isFinite(a),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(s)}`),this._assertRange(l),this.log(this.units,"setValueAtTime",t,a),this._events.add({time:a,type:"setValueAtTime",value:l}),this._param.setValueAtTime(l,a),this}getValueAtTime(t){const s=Math.max(this.toSeconds(t),0),a=this._events.getAfter(s),l=this._events.get(s);let u=this._initialValue;if(l===null)u=this._initialValue;else if(l.type==="setTargetAtTime"&&(a===null||a.type==="setValueAtTime")){const f=this._events.getBefore(l.time);let d;f===null?d=this._initialValue:d=f.value,l.type==="setTargetAtTime"&&(u=this._exponentialApproach(l.time,d,l.value,l.constant,s))}else if(a===null)u=l.value;else if(a.type==="linearRampToValueAtTime"||a.type==="exponentialRampToValueAtTime"){let f=l.value;if(l.type==="setTargetAtTime"){const d=this._events.getBefore(l.time);d===null?f=this._initialValue:f=d.value}a.type==="linearRampToValueAtTime"?u=this._linearInterpolate(l.time,f,a.time,a.value,s):u=this._exponentialInterpolate(l.time,f,a.time,a.value,s)}else u=l.value;return this._toType(u)}setRampPoint(t){t=this.toSeconds(t);let s=this.getValueAtTime(t);return this.cancelAndHoldAtTime(t),this._fromType(s)===0&&(s=this._toType(this._minOutput)),this.setValueAtTime(s,t),this}linearRampToValueAtTime(t,s){const a=this._fromType(t),l=this.toSeconds(s);return pt(isFinite(a)&&isFinite(l),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(s)}`),this._assertRange(a),this._events.add({time:l,type:"linearRampToValueAtTime",value:a}),this.log(this.units,"linearRampToValueAtTime",t,l),this._param.linearRampToValueAtTime(a,l),this}exponentialRampToValueAtTime(t,s){let a=this._fromType(t);a=Gn(a,0)?this._minOutput:a,this._assertRange(a);const l=this.toSeconds(s);return pt(isFinite(a)&&isFinite(l),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(s)}`),this._events.add({time:l,type:"exponentialRampToValueAtTime",value:a}),this.log(this.units,"exponentialRampToValueAtTime",t,l),this._param.exponentialRampToValueAtTime(a,l),this}exponentialRampTo(t,s,a){return a=this.toSeconds(a),this.setRampPoint(a),this.exponentialRampToValueAtTime(t,a+this.toSeconds(s)),this}linearRampTo(t,s,a){return a=this.toSeconds(a),this.setRampPoint(a),this.linearRampToValueAtTime(t,a+this.toSeconds(s)),this}targetRampTo(t,s,a){return a=this.toSeconds(a),this.setRampPoint(a),this.exponentialApproachValueAtTime(t,a,s),this}exponentialApproachValueAtTime(t,s,a){s=this.toSeconds(s),a=this.toSeconds(a);const l=Math.log(a+1)/Math.log(200);return this.setTargetAtTime(t,s,l),this.cancelAndHoldAtTime(s+a*.9),this.linearRampToValueAtTime(t,s+a),this}setTargetAtTime(t,s,a){const l=this._fromType(t);pt(isFinite(a)&&a>0,"timeConstant must be a number greater than 0");const u=this.toSeconds(s);return this._assertRange(l),pt(isFinite(l)&&isFinite(u),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(t)}, ${JSON.stringify(s)}`),this._events.add({constant:a,time:u,type:"setTargetAtTime",value:l}),this.log(this.units,"setTargetAtTime",t,u,a),this._param.setTargetAtTime(l,u,a),this}setValueCurveAtTime(t,s,a,l=1){a=this.toSeconds(a),s=this.toSeconds(s);const u=this._fromType(t[0])*l;this.setValueAtTime(this._toType(u),s);const f=a/(t.length-1);for(let d=1;d<t.length;d++){const p=this._fromType(t[d])*l;this.linearRampToValueAtTime(this._toType(p),s+d*f)}return this}cancelScheduledValues(t){const s=this.toSeconds(t);return pt(isFinite(s),`Invalid argument to cancelScheduledValues: ${JSON.stringify(t)}`),this._events.cancel(s),this._param.cancelScheduledValues(s),this.log(this.units,"cancelScheduledValues",s),this}cancelAndHoldAtTime(t){const s=this.toSeconds(t),a=this._fromType(this.getValueAtTime(s));pt(isFinite(s),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(t)}`),this.log(this.units,"cancelAndHoldAtTime",s,"value="+a);const l=this._events.get(s),u=this._events.getAfter(s);return l&&Gn(l.time,s)?u?(this._param.cancelScheduledValues(u.time),this._events.cancel(u.time)):(this._param.cancelAndHoldAtTime(s),this._events.cancel(s+this.sampleTime)):u&&(this._param.cancelScheduledValues(u.time),this._events.cancel(u.time),u.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(a),s):u.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(a),s)),this._events.add({time:s,type:"setValueAtTime",value:a}),this._param.setValueAtTime(a,s),this}rampTo(t,s=.1,a){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(t,s,a):this.linearRampTo(t,s,a),this}apply(t){const s=this.context.currentTime;t.setValueAtTime(this.getValueAtTime(s),s);const a=this._events.get(s);if(a&&a.type==="setTargetAtTime"){const l=this._events.getAfter(a.time),u=l?l.time:s+2,f=(u-s)/10;for(let d=s;d<u;d+=f)t.linearRampToValueAtTime(this.getValueAtTime(d),d)}return this._events.forEachAfter(this.context.currentTime,l=>{l.type==="cancelScheduledValues"?t.cancelScheduledValues(l.time):l.type==="setTargetAtTime"?t.setTargetAtTime(l.value,l.time,l.constant):t[l.type](l.value,l.time)}),this}setParam(t){pt(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const s=this.input;return s.disconnect(this._param),this.apply(t),this._param=t,s.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(t,s,a,l,u){return a+(s-a)*Math.exp(-(u-t)/l)}_linearInterpolate(t,s,a,l,u){return s+(l-s)*((u-t)/(a-t))}_exponentialInterpolate(t,s,a,l,u){return s*Math.pow(l/s,(u-t)/(a-t))}}class $ extends Oe{constructor(){super(...arguments),this._internalChannels=[]}get numberOfInputs(){return wt(this.input)?Gi(this.input)||this.input instanceof Tt?1:this.input.numberOfInputs:0}get numberOfOutputs(){return wt(this.output)?this.output.numberOfOutputs:0}_isAudioNode(t){return wt(t)&&(t instanceof $||ui(t))}_getInternalNodes(){const t=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&t.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&t.push(this.output),t}_setChannelProperties(t){this._getInternalNodes().forEach(a=>{a.channelCount=t.channelCount,a.channelCountMode=t.channelCountMode,a.channelInterpretation=t.channelInterpretation})}_getChannelProperties(){const t=this._getInternalNodes();pt(t.length>0,"ToneAudioNode does not have any internal nodes");const s=t[0];return{channelCount:s.channelCount,channelCountMode:s.channelCountMode,channelInterpretation:s.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(t){const s=this._getChannelProperties();this._setChannelProperties(Object.assign(s,{channelCount:t}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(t){const s=this._getChannelProperties();this._setChannelProperties(Object.assign(s,{channelCountMode:t}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(t){const s=this._getChannelProperties();this._setChannelProperties(Object.assign(s,{channelInterpretation:t}))}connect(t,s=0,a=0){return Je(this,t,s,a),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return tr("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(t,s=0,a=0){return Kf(this,t,s,a),this}chain(...t){return xn(this,...t),this}fan(...t){return t.forEach(s=>this.connect(s)),this}dispose(){return super.dispose(),wt(this.input)&&(this.input instanceof $?this.input.dispose():ui(this.input)&&this.input.disconnect()),wt(this.output)&&(this.output instanceof $?this.output.dispose():ui(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function xn(...o){const t=o.shift();o.reduce((s,a)=>(s instanceof $?s.connect(a):ui(s)&&Je(s,a),a),t)}function Je(o,t,s=0,a=0){for(pt(wt(o),"Cannot connect from undefined node"),pt(wt(t),"Cannot connect to undefined node"),(t instanceof $||ui(t))&&pt(t.numberOfInputs>0,"Cannot connect to node with no inputs"),pt(o.numberOfOutputs>0,"Cannot connect from node with no outputs");t instanceof $||t instanceof Tt;)wt(t.input)&&(t=t.input);for(;o instanceof $;)wt(o.output)&&(o=o.output);Gi(t)?o.connect(t,s):o.connect(t,s,a)}function Kf(o,t,s=0,a=0){if(wt(t))for(;t instanceof $;)t=t.input;for(;!ui(o);)wt(o.output)&&(o=o.output);Gi(t)?o.disconnect(t,s):ui(t)?o.disconnect(t,s,a):o.disconnect()}function l2(...o){const t=o.pop();wt(t)&&o.forEach(s=>Je(s,t))}class dt extends ${constructor(){const t=W(dt.getDefaults(),arguments,["gain","units"]);super(t),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode,this.gain=new Tt({context:this.context,convert:t.convert,param:this._gainNode.gain,units:t.units,value:t.gain,minValue:t.minValue,maxValue:t.maxValue}),gt(this,"gain")}static getDefaults(){return Object.assign($.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class Xa extends ${constructor(t){super(t),this.onended=Dt,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new dt({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(s){const a=this.toSeconds(s);return this._startTime!==-1&&a>=this._startTime&&(this._stopTime===-1||a<=this._stopTime)?"started":"stopped"},this._fadeIn=t.fadeIn,this._fadeOut=t.fadeOut,this._curve=t.curve,this.onended=t.onended}static getDefaults(){return Object.assign($.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:Dt})}_startGain(t,s=1){pt(this._startTime===-1,"Source cannot be started more than once");const a=this.toSeconds(this._fadeIn);return this._startTime=t+a,this._startTime=Math.max(this._startTime,this.context.currentTime),a>0?(this._gainNode.gain.setValueAtTime(0,t),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(s,t+a):this._gainNode.gain.exponentialApproachValueAtTime(s,t,a)):this._gainNode.gain.setValueAtTime(s,t),this}stop(t){return this.log("stop",t),this._stopGain(this.toSeconds(t)),this}_stopGain(t){pt(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const s=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(t)+s,this._stopTime=Math.max(this._stopTime,this.now()),s>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,s,t):this._gainNode.gain.targetRampTo(0,s,t):(this._gainNode.gain.cancelAndHoldAtTime(t),this._gainNode.gain.setValueAtTime(0,t)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const a=this._curve==="exponential"?s*2:0;this._stopSource(this.now()+a),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==Dt&&(this.onended(this),this.onended=Dt,!this.context.isOffline)){const t=()=>this.dispose();typeof requestIdleCallback<"u"?requestIdleCallback(t):setTimeout(t,10)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),pt(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.dispose(),this.onended=Dt,this}}class qc extends Xa{constructor(){const t=W(qc.getDefaults(),arguments,["offset"]);super(t),this.name="ToneConstantSource",this._source=this.context.createConstantSource(),Je(this._source,this._gainNode),this.offset=new Tt({context:this.context,convert:t.convert,param:this._source.offset,units:t.units,value:t.offset,minValue:t.minValue,maxValue:t.maxValue})}static getDefaults(){return Object.assign(Xa.getDefaults(),{convert:!0,offset:1,units:"number"})}start(t){const s=this.toSeconds(t);return this.log("start",s),this._startGain(s),this._source.start(s),this}_stopSource(t){this._source.stop(t)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class vt extends ${constructor(){const t=W(vt.getDefaults(),arguments,["value","units"]);super(t),this.name="Signal",this.override=!0,this.output=this._constantSource=new qc({context:this.context,convert:t.convert,offset:t.value,units:t.units,minValue:t.minValue,maxValue:t.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign($.getDefaults(),{convert:!0,units:"number",value:0})}connect(t,s=0,a=0){return No(this,t,s,a),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(t,s){return this._param.setValueAtTime(t,s),this}getValueAtTime(t){return this._param.getValueAtTime(t)}setRampPoint(t){return this._param.setRampPoint(t),this}linearRampToValueAtTime(t,s){return this._param.linearRampToValueAtTime(t,s),this}exponentialRampToValueAtTime(t,s){return this._param.exponentialRampToValueAtTime(t,s),this}exponentialRampTo(t,s,a){return this._param.exponentialRampTo(t,s,a),this}linearRampTo(t,s,a){return this._param.linearRampTo(t,s,a),this}targetRampTo(t,s,a){return this._param.targetRampTo(t,s,a),this}exponentialApproachValueAtTime(t,s,a){return this._param.exponentialApproachValueAtTime(t,s,a),this}setTargetAtTime(t,s,a){return this._param.setTargetAtTime(t,s,a),this}setValueCurveAtTime(t,s,a,l){return this._param.setValueCurveAtTime(t,s,a,l),this}cancelScheduledValues(t){return this._param.cancelScheduledValues(t),this}cancelAndHoldAtTime(t){return this._param.cancelAndHoldAtTime(t),this}rampTo(t,s,a){return this._param.rampTo(t,s,a),this}get value(){return this._param.value}set value(t){this._param.value=t}get convert(){return this._param.convert}set convert(t){this._param.convert=t}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(t){this._param.overridden=t}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(t){return this._param.apply(t),this}}function No(o,t,s,a){(t instanceof Tt||Gi(t)||t instanceof vt&&t.override)&&(t.cancelScheduledValues(0),t.setValueAtTime(0,0),t instanceof vt&&(t.overridden=!0)),Je(o,t,s,a)}class Jf extends Tt{constructor(){const t=W(Jf.getDefaults(),arguments,["value"]);super(t),this.name="TickParam",this._events=new yn(1/0),this._multiplier=1,this._multiplier=t.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(t.value)}),this.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(Tt.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(t,s,a){s=this.toSeconds(s),this.setRampPoint(s);const l=this._fromType(t),u=this._events.get(s),f=Math.round(Math.max(1/a,1));for(let d=0;d<=f;d++){const p=a*d+s,m=this._exponentialApproach(u.time,u.value,l,a,p);this.linearRampToValueAtTime(this._toType(m),p)}return this}setValueAtTime(t,s){const a=this.toSeconds(s);super.setValueAtTime(t,s);const l=this._events.get(a),u=this._events.previousEvent(l),f=this._getTicksUntilEvent(u,a);return l.ticks=Math.max(f,0),this}linearRampToValueAtTime(t,s){const a=this.toSeconds(s);super.linearRampToValueAtTime(t,s);const l=this._events.get(a),u=this._events.previousEvent(l),f=this._getTicksUntilEvent(u,a);return l.ticks=Math.max(f,0),this}exponentialRampToValueAtTime(t,s){s=this.toSeconds(s);const a=this._fromType(t),l=this._events.get(s),u=Math.round(Math.max((s-l.time)*10,1)),f=(s-l.time)/u;for(let d=0;d<=u;d++){const p=f*d+l.time,m=this._exponentialInterpolate(l.time,l.value,s,a,p);this.linearRampToValueAtTime(this._toType(m),p)}return this}_getTicksUntilEvent(t,s){if(t===null)t={ticks:0,time:0,type:"setValueAtTime",value:0};else if(on(t.ticks)){const f=this._events.previousEvent(t);t.ticks=this._getTicksUntilEvent(f,t.time)}const a=this._fromType(this.getValueAtTime(t.time));let l=this._fromType(this.getValueAtTime(s));const u=this._events.get(s);return u&&u.time===s&&u.type==="setValueAtTime"&&(l=this._fromType(this.getValueAtTime(s-this.sampleTime))),.5*(s-t.time)*(a+l)+t.ticks}getTicksAtTime(t){const s=this.toSeconds(t),a=this._events.get(s);return Math.max(this._getTicksUntilEvent(a,s),0)}getDurationOfTicks(t,s){const a=this.toSeconds(s),l=this.getTicksAtTime(s);return this.getTimeOfTick(l+t)-a}getTimeOfTick(t){const s=this._events.get(t,"ticks"),a=this._events.getAfter(t,"ticks");if(s&&s.ticks===t)return s.time;if(s&&a&&a.type==="linearRampToValueAtTime"&&s.value!==a.value){const l=this._fromType(this.getValueAtTime(s.time)),f=(this._fromType(this.getValueAtTime(a.time))-l)/(a.time-s.time),d=Math.sqrt(Math.pow(l,2)-2*f*(s.ticks-t)),p=(-l+d)/f,m=(-l-d)/f;return(p>0?p:m)+s.time}else return s?s.value===0?1/0:s.time+(t-s.ticks)/s.value:t/this._initialValue}ticksToTime(t,s){return this.getDurationOfTicks(t,s)}timeToTicks(t,s){const a=this.toSeconds(s),l=this.toSeconds(t),u=this.getTicksAtTime(a);return this.getTicksAtTime(a+l)-u}_fromType(t){return this.units==="bpm"&&this.multiplier?1/(60/t/this.multiplier):super._fromType(t)}_toType(t){return this.units==="bpm"&&this.multiplier?t/this.multiplier*60:super._toType(t)}get multiplier(){return this._multiplier}set multiplier(t){const s=this.value;this._multiplier=t,this.cancelScheduledValues(0),this.setValueAtTime(s,0)}}class $f extends vt{constructor(){const t=W($f.getDefaults(),arguments,["value"]);super(t),this.name="TickSignal",this.input=this._param=new Jf({context:this.context,convert:t.convert,multiplier:t.multiplier,param:this._constantSource.offset,units:t.units,value:t.value})}static getDefaults(){return Object.assign(vt.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(t,s){return this._param.ticksToTime(t,s)}timeToTicks(t,s){return this._param.timeToTicks(t,s)}getTimeOfTick(t){return this._param.getTimeOfTick(t)}getDurationOfTicks(t,s){return this._param.getDurationOfTicks(t,s)}getTicksAtTime(t){return this._param.getTicksAtTime(t)}get multiplier(){return this._param.multiplier}set multiplier(t){this._param.multiplier=t}dispose(){return super.dispose(),this._param.dispose(),this}}class td extends Oe{constructor(){const t=W(td.getDefaults(),arguments,["frequency"]);super(t),this.name="TickSource",this._state=new ir,this._tickOffset=new yn,this._ticksAtTime=new yn,this._secondsAtTime=new yn,this.frequency=new $f({context:this.context,units:t.units,value:t.frequency}),gt(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},Oe.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(t,s){const a=this.toSeconds(t);return this._state.getValueAtTime(a)!=="started"&&(this._state.setStateAtTime("started",a),wt(s)&&this.setTicksAtTime(s,a),this._ticksAtTime.cancel(a),this._secondsAtTime.cancel(a)),this}stop(t){const s=this.toSeconds(t);if(this._state.getValueAtTime(s)==="stopped"){const a=this._state.get(s);a&&a.time>0&&(this._tickOffset.cancel(a.time),this._state.cancel(a.time))}return this._state.cancel(s),this._state.setStateAtTime("stopped",s),this.setTicksAtTime(0,s),this._ticksAtTime.cancel(s),this._secondsAtTime.cancel(s),this}pause(t){const s=this.toSeconds(t);return this._state.getValueAtTime(s)==="started"&&(this._state.setStateAtTime("paused",s),this._ticksAtTime.cancel(s),this._secondsAtTime.cancel(s)),this}cancel(t){return t=this.toSeconds(t),this._state.cancel(t),this._tickOffset.cancel(t),this._ticksAtTime.cancel(t),this._secondsAtTime.cancel(t),this}getTicksAtTime(t){const s=this.toSeconds(t),a=this._state.getLastState("stopped",s),l=this._ticksAtTime.get(s),u={state:"paused",time:s};this._state.add(u);let f=l||a,d=l?l.ticks:0,p=null;return this._state.forEachBetween(f.time,s+this.sampleTime,m=>{let _=f.time;const y=this._tickOffset.get(m.time);y&&y.time>=f.time&&(d=y.ticks,_=y.time),f.state==="started"&&m.state!=="started"&&(d+=this.frequency.getTicksAtTime(m.time)-this.frequency.getTicksAtTime(_),m.time!==u.time&&(p={state:m.state,time:m.time,ticks:d})),f=m}),this._state.remove(u),p&&this._ticksAtTime.add(p),d}get ticks(){return this.getTicksAtTime(this.now())}set ticks(t){this.setTicksAtTime(t,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(t){const s=this.now(),a=this.frequency.timeToTicks(t,s);this.setTicksAtTime(a,s)}getSecondsAtTime(t){t=this.toSeconds(t);const s=this._state.getLastState("stopped",t),a={state:"paused",time:t};this._state.add(a);const l=this._secondsAtTime.get(t);let u=l||s,f=l?l.seconds:0,d=null;return this._state.forEachBetween(u.time,t+this.sampleTime,p=>{let m=u.time;const _=this._tickOffset.get(p.time);_&&_.time>=u.time&&(f=_.seconds,m=_.time),u.state==="started"&&p.state!=="started"&&(f+=p.time-m,p.time!==a.time&&(d={state:p.state,time:p.time,seconds:f})),u=p}),this._state.remove(a),d&&this._secondsAtTime.add(d),f}setTicksAtTime(t,s){return s=this.toSeconds(s),this._tickOffset.cancel(s),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(t,s),ticks:t,time:s}),this._ticksAtTime.cancel(s),this._secondsAtTime.cancel(s),this}getStateAtTime(t){return t=this.toSeconds(t),this._state.getValueAtTime(t)}getTimeOfTick(t,s=this.now()){const a=this._tickOffset.get(s),l=this._state.get(s),u=Math.max(a.time,l.time),f=this.frequency.getTicksAtTime(u)+t-a.ticks;return this.frequency.getTimeOfTick(f)}forEachTickBetween(t,s,a){let l=this._state.get(t);this._state.forEachBetween(t,s,f=>{l&&l.state==="started"&&f.state!=="started"&&this.forEachTickBetween(Math.max(l.time,t),f.time-this.sampleTime,a),l=f});let u=null;if(l&&l.state==="started"){const f=Math.max(l.time,t),d=this.frequency.getTicksAtTime(f),p=this.frequency.getTicksAtTime(l.time),m=d-p;let _=Math.ceil(m)-m;_=Gn(_,1)?0:_;let y=this.frequency.getTimeOfTick(d+_);for(;y<s;){try{a(y,Math.round(this.getTicksAtTime(y)))}catch(x){u=x;break}y+=this.frequency.getDurationOfTicks(1,y)}}if(u)throw u;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this._ticksAtTime.dispose(),this._secondsAtTime.dispose(),this.frequency.dispose(),this}}class ar extends Oe{constructor(){const t=W(ar.getDefaults(),arguments,["callback","frequency"]);super(t),this.name="Clock",this.callback=Dt,this._lastUpdate=0,this._state=new ir("stopped"),this._boundLoop=this._loop.bind(this),this.callback=t.callback,this._tickSource=new td({context:this.context,frequency:t.frequency,units:t.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,gt(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(Oe.getDefaults(),{callback:Dt,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(t,s){Yf(this.context);const a=this.toSeconds(t);return this.log("start",a),this._state.getValueAtTime(a)!=="started"&&(this._state.setStateAtTime("started",a),this._tickSource.start(a,s),a<this._lastUpdate&&this.emit("start",a,s)),this}stop(t){const s=this.toSeconds(t);return this.log("stop",s),this._state.cancel(s),this._state.setStateAtTime("stopped",s),this._tickSource.stop(s),s<this._lastUpdate&&this.emit("stop",s),this}pause(t){const s=this.toSeconds(t);return this._state.getValueAtTime(s)==="started"&&(this._state.setStateAtTime("paused",s),this._tickSource.pause(s),s<this._lastUpdate&&this.emit("pause",s)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(t){this._tickSource.ticks=t}get seconds(){return this._tickSource.seconds}set seconds(t){this._tickSource.seconds=t}getSecondsAtTime(t){return this._tickSource.getSecondsAtTime(t)}setTicksAtTime(t,s){return this._tickSource.setTicksAtTime(t,s),this}getTimeOfTick(t,s=this.now()){return this._tickSource.getTimeOfTick(t,s)}getTicksAtTime(t){return this._tickSource.getTicksAtTime(t)}nextTickTime(t,s){const a=this.toSeconds(s),l=this.getTicksAtTime(a);return this._tickSource.getTimeOfTick(l+t,a)}_loop(){const t=this._lastUpdate,s=this.now();this._lastUpdate=s,this.log("loop",t,s),t!==s&&(this._state.forEachBetween(t,s,a=>{switch(a.state){case"started":const l=this._tickSource.getTicksAtTime(a.time);this.emit("start",a.time,l);break;case"stopped":a.time!==0&&this.emit("stop",a.time);break;case"paused":this.emit("pause",a.time);break}}),this._tickSource.forEachTickBetween(t,s,(a,l)=>{this.callback(a,l)}))}getStateAtTime(t){const s=this.toSeconds(t);return this._state.getValueAtTime(s)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}er.mixin(ar);class vn extends ${constructor(){const t=W(vn.getDefaults(),arguments,["delayTime","maxDelay"]);super(t),this.name="Delay";const s=this.toSeconds(t.maxDelay);this._maxDelay=Math.max(s,this.toSeconds(t.delayTime)),this._delayNode=this.input=this.output=this.context.createDelay(s),this.delayTime=new Tt({context:this.context,param:this._delayNode.delayTime,units:"time",value:t.delayTime,minValue:0,maxValue:this.maxDelay}),gt(this,"delayTime")}static getDefaults(){return Object.assign($.getDefaults(),{delayTime:0,maxDelay:1})}get maxDelay(){return this._maxDelay}dispose(){return super.dispose(),this._delayNode.disconnect(),this.delayTime.dispose(),this}}class ks extends ${constructor(){const t=W(ks.getDefaults(),arguments,["volume"]);super(t),this.name="Volume",this.input=this.output=new dt({context:this.context,gain:t.volume,units:"decibels"}),this.volume=this.output.gain,gt(this,"volume"),this._unmutedVolume=t.volume,this.mute=t.mute}static getDefaults(){return Object.assign($.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(t){!this.mute&&t?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!t&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class ed extends ${constructor(){const t=W(ed.getDefaults(),arguments);super(t),this.name="Destination",this.input=new ks({context:this.context}),this.output=new dt({context:this.context}),this.volume=this.input.volume,xn(this.input,this.output,this.context.rawContext.destination),this.mute=t.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign($.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(t){this.input.mute=t}chain(...t){return this.input.disconnect(),t.unshift(this.input),t.push(this.output),xn(...t),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}Rc(o=>{o.destination=new ed({context:o})});Nc(o=>{o.destination.dispose()});class c2 extends ${constructor(){super(...arguments),this.name="Listener",this.positionX=new Tt({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new Tt({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new Tt({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new Tt({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new Tt({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new Tt({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new Tt({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new Tt({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new Tt({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign($.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}Rc(o=>{o.listener=new c2({context:o})});Nc(o=>{o.listener.dispose()});function u2(o,t){return Qt(this,arguments,void 0,function*(s,a,l=2,u=Pt().sampleRate){const f=Pt(),d=new sr(l,a,u);xc(d),yield s(d);const p=d.render();xc(f);const m=yield p;return new zt(m)})}class rr extends Ns{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const t=W(rr.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=t.baseUrl,Object.keys(t.urls).forEach(s=>{this._loadingCount++;const a=t.urls[s];this.add(s,a,this._bufferLoaded.bind(this,t.onload),t.onerror)})}static getDefaults(){return{baseUrl:"",onerror:Dt,onload:Dt,urls:{}}}has(t){return this._buffers.has(t.toString())}get(t){return pt(this.has(t),`ToneAudioBuffers has no buffer named: ${t}`),this._buffers.get(t.toString())}_bufferLoaded(t){this._loadingCount--,this._loadingCount===0&&t&&t()}get loaded(){return Array.from(this._buffers).every(([t,s])=>s.loaded)}add(t,s,a=Dt,l=Dt){return Xn(s)?(this.baseUrl&&s.trim().substring(0,11).toLowerCase()==="data:audio/"&&(this.baseUrl=""),this._buffers.set(t.toString(),new zt(this.baseUrl+s,a,l))):this._buffers.set(t.toString(),new zt(s,a,l)),this}dispose(){return super.dispose(),this._buffers.forEach(t=>t.dispose()),this._buffers.clear(),this}}class Qa extends Pe{constructor(){super(...arguments),this.name="MidiClass",this.defaultUnits="midi"}_frequencyToUnits(t){return oi(super._frequencyToUnits(t))}_ticksToUnits(t){return oi(super._ticksToUnits(t))}_beatsToUnits(t){return oi(super._beatsToUnits(t))}_secondsToUnits(t){return oi(super._secondsToUnits(t))}toMidi(){return this.valueOf()}toFrequency(){return Wf(this.toMidi())}transpose(t){return new Qa(this.context,this.toMidi()+t)}}function h2(o,t){return new Qa(Pt(),o,t)}class te extends _e{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(t){return this._getPPQ()*t}_secondsToUnits(t){return Math.floor(t/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(t){return t}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}function f2(o,t){return new te(Pt(),o,t)}class d2 extends Oe{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new yn,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(t,s){return this._events.add({callback:t,time:this.toSeconds(s)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(t){return this._events.cancel(this.toSeconds(t)),this}_drawLoop(){const t=this.context.currentTime;this._events.forEachBefore(t+this.anticipation,s=>{t-s.time<=this.expiration&&s.callback(),this._events.remove(s)}),this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}Rc(o=>{o.draw=new d2({context:o})});Nc(o=>{o.draw.dispose()});class Cv extends Ns{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(t){pt(wt(t.time),"Events must have a time property"),pt(wt(t.duration),"Events must have a duration parameter"),t.time=t.time.valueOf();let s=new p2(t.time,t.time+t.duration,t);for(this._root===null?this._root=s:this._root.insert(s),this._length++;s!==null;)s.updateHeight(),s.updateMax(),this._rebalance(s),s=s.parent;return this}remove(t){if(this._root!==null){const s=[];this._root.search(t.time,s);for(const a of s)if(a.event===t){this._removeNode(a),this._length--;break}}return this}get length(){return this._length}cancel(t){return this.forEachFrom(t,s=>this.remove(s)),this}_setRoot(t){this._root=t,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(t,s){t.parent!==null?(t.isLeftChild()?t.parent.left=s:t.parent.right=s,this._rebalance(t.parent)):this._setRoot(s)}_removeNode(t){if(t.left===null&&t.right===null)this._replaceNodeInParent(t,null);else if(t.right===null)this._replaceNodeInParent(t,t.left);else if(t.left===null)this._replaceNodeInParent(t,t.right);else{const s=t.getBalance();let a,l=null;if(s>0)if(t.left.right===null)a=t.left,a.right=t.right,l=a;else{for(a=t.left.right;a.right!==null;)a=a.right;a.parent&&(a.parent.right=a.left,l=a.parent,a.left=t.left,a.right=t.right)}else if(t.right.left===null)a=t.right,a.left=t.left,l=a;else{for(a=t.right.left;a.left!==null;)a=a.left;a.parent&&(a.parent.left=a.right,l=a.parent,a.left=t.left,a.right=t.right)}t.parent!==null?t.isLeftChild()?t.parent.left=a:t.parent.right=a:this._setRoot(a),l&&this._rebalance(l)}t.dispose()}_rotateLeft(t){const s=t.parent,a=t.isLeftChild(),l=t.right;l&&(t.right=l.left,l.left=t),s!==null?a?s.left=l:s.right=l:this._setRoot(l)}_rotateRight(t){const s=t.parent,a=t.isLeftChild(),l=t.left;l&&(t.left=l.right,l.right=t),s!==null?a?s.left=l:s.right=l:this._setRoot(l)}_rebalance(t){const s=t.getBalance();s>1&&t.left?t.left.getBalance()<0?this._rotateLeft(t.left):this._rotateRight(t):s<-1&&t.right&&(t.right.getBalance()>0?this._rotateRight(t.right):this._rotateLeft(t))}get(t){if(this._root!==null){const s=[];if(this._root.search(t,s),s.length>0){let a=s[0];for(let l=1;l<s.length;l++)s[l].low>a.low&&(a=s[l]);return a.event}}return null}forEach(t){if(this._root!==null){const s=[];this._root.traverse(a=>s.push(a)),s.forEach(a=>{a.event&&t(a.event)})}return this}forEachAtTime(t,s){if(this._root!==null){const a=[];this._root.search(t,a),a.forEach(l=>{l.event&&s(l.event)})}return this}forEachFrom(t,s){if(this._root!==null){const a=[];this._root.searchAfter(t,a),a.forEach(l=>{l.event&&s(l.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(t=>t.dispose()),this._root=null,this}}class p2{constructor(t,s,a){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=a,this.low=t,this.high=s,this.max=this.high}insert(t){t.low<=this.low?this.left===null?this.left=t:this.left.insert(t):this.right===null?this.right=t:this.right.insert(t)}search(t,s){t>this.max||(this.left!==null&&this.left.search(t,s),this.low<=t&&this.high>t&&s.push(this),!(this.low>t)&&this.right!==null&&this.right.search(t,s))}searchAfter(t,s){this.low>=t&&(s.push(this),this.left!==null&&this.left.searchAfter(t,s)),this.right!==null&&this.right.searchAfter(t,s)}traverse(t){t(this),this.left!==null&&this.left.traverse(t),this.right!==null&&this.right.traverse(t)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let t=0;return this.left!==null&&this.right!==null?t=this.left.height-this.right.height:this.left!==null?t=this.left.height+1:this.right!==null&&(t=-(this.right.height+1)),t}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(t){this._left=t,t!==null&&(t.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(t){this._right=t,t!==null&&(t.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}const m2=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));class _2 extends Ns{constructor(t){super(),this.name="TimelineValue",this._timeline=new yn({memory:10}),this._initialValue=t}set(t,s){return this._timeline.add({value:t,time:s}),this}get(t){const s=this._timeline.get(t);return s?s.value:this._initialValue}}class Sn extends ${constructor(){super(W(Sn.getDefaults(),arguments,["context"]))}connect(t,s=0,a=0){return No(this,t,s,a),this}}class Wn extends Sn{constructor(){const t=W(Wn.getDefaults(),arguments,["mapping","length"]);super(t),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper,je(t.mapping)||t.mapping instanceof Float32Array?this.curve=Float32Array.from(t.mapping):bv(t.mapping)&&this.setMap(t.mapping,t.length)}static getDefaults(){return Object.assign(vt.getDefaults(),{length:1024})}setMap(t,s=1024){const a=new Float32Array(s);for(let l=0,u=s;l<u;l++){const f=l/(u-1)*2-1;a[l]=t(f,l)}return this.curve=a,this}get curve(){return this._shaper.curve}set curve(t){this._shaper.curve=t}get oversample(){return this._shaper.oversample}set oversample(t){const s=["none","2x","4x"].some(a=>a.includes(t));pt(s,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=t}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class or extends Sn{constructor(){const t=W(or.getDefaults(),arguments,["value"]);super(t),this.name="Pow",this._exponentScaler=this.input=this.output=new Wn({context:this.context,mapping:this._expFunc(t.value),length:8192}),this._exponent=t.value}static getDefaults(){return Object.assign(Sn.getDefaults(),{value:1})}_expFunc(t){return s=>Math.pow(Math.abs(s),t)}get value(){return this._exponent}set value(t){this._exponent=t,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class hi{constructor(t,s){this.id=hi._eventId++,this._remainderTime=0;const a=Object.assign(hi.getDefaults(),s);this.transport=t,this.callback=a.callback,this._once=a.once,this.time=Math.floor(a.time),this._remainderTime=a.time-this.time}static getDefaults(){return{callback:Dt,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(t){if(this.callback){const s=this.transport.bpm.getDurationOfTicks(1,t);this.callback(t+this._remainderTime*s),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}hi._eventId=0;class nd extends hi{constructor(t,s){super(t,s),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const a=Object.assign(nd.getDefaults(),s);this.duration=a.duration,this._interval=a.interval,this._nextTick=a.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},hi.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(t){this._createEvents(t),super.invoke(t)}_createEvent(){return bc(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new te(this.context,this._nextTick).toSeconds()):-1}_createEvents(t){bc(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new te(this.context,this._nextTick).toSeconds()))}_restart(t){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;const s=this.transport.getTicksAtTime(t);Ha(s,this.time)&&(this._nextTick=this.floatTime+Math.ceil((s-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}}class zc extends Oe{constructor(){const t=W(zc.getDefaults(),arguments);super(t),this.name="Transport",this._loop=new _2(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new yn,this._repeatedEvents=new Cv,this._syncedSignals=[],this._swingAmount=0,this._ppq=t.ppq,this._clock=new ar({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=t.ppq,this.bpm.setValueAtTime(t.bpm,0),gt(this,"bpm"),this._timeSignature=t.timeSignature,this._swingTicks=t.ppq/2}static getDefaults(){return Object.assign(Oe.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(t,s){if(this._loop.get(t)&&s>=this._loopEnd&&(this.emit("loopEnd",t),this._clock.setTicksAtTime(this._loopStart,t),s=this._loopStart,this.emit("loopStart",t,this._clock.getSecondsAtTime(t)),this.emit("loop",t)),this._swingAmount>0&&s%this._ppq!==0&&s%(this._swingTicks*2)!==0){const a=s%(this._swingTicks*2)/(this._swingTicks*2),l=Math.sin(a*Math.PI)*this._swingAmount;t+=new te(this.context,this._swingTicks*2/3).toSeconds()*l}bf(!0),this._timeline.forEachAtTime(s,a=>a.invoke(t)),bf(!1)}schedule(t,s){const a=new hi(this,{callback:t,time:new _e(this.context,s).toTicks()});return this._addEvent(a,this._timeline)}scheduleRepeat(t,s,a,l=1/0){const u=new nd(this,{callback:t,duration:new _n(this.context,l).toTicks(),interval:new _n(this.context,s).toTicks(),time:new _e(this.context,a).toTicks()});return this._addEvent(u,this._repeatedEvents)}scheduleOnce(t,s){const a=new hi(this,{callback:t,once:!0,time:new _e(this.context,s).toTicks()});return this._addEvent(a,this._timeline)}clear(t){if(this._scheduledEvents.hasOwnProperty(t)){const s=this._scheduledEvents[t.toString()];s.timeline.remove(s.event),s.event.dispose(),delete this._scheduledEvents[t.toString()]}return this}_addEvent(t,s){return this._scheduledEvents[t.id.toString()]={event:t,timeline:s},s.add(t),t.id}cancel(t=0){const s=this.toTicks(t);return this._timeline.forEachFrom(s,a=>this.clear(a.id)),this._repeatedEvents.forEachFrom(s,a=>this.clear(a.id)),this}_bindClockEvents(){this._clock.on("start",(t,s)=>{s=new te(this.context,s).toSeconds(),this.emit("start",t,s)}),this._clock.on("stop",t=>{this.emit("stop",t)}),this._clock.on("pause",t=>{this.emit("pause",t)})}get state(){return this._clock.getStateAtTime(this.now())}start(t,s){this.context.resume();let a;return wt(s)&&(a=this.toTicks(s)),this._clock.start(t,a),this}stop(t){return this._clock.stop(t),this}pause(t){return this._clock.pause(t),this}toggle(t){return t=this.toSeconds(t),this._clock.getStateAtTime(t)!=="started"?this.start(t):this.stop(t),this}get timeSignature(){return this._timeSignature}set timeSignature(t){je(t)&&(t=t[0]/t[1]*4),this._timeSignature=t}get loopStart(){return new _n(this.context,this._loopStart,"i").toSeconds()}set loopStart(t){this._loopStart=this.toTicks(t)}get loopEnd(){return new _n(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(t){this._loopEnd=this.toTicks(t)}get loop(){return this._loop.get(this.now())}set loop(t){this._loop.set(t,this.now())}setLoopPoints(t,s){return this.loopStart=t,this.loopEnd=s,this}get swing(){return this._swingAmount}set swing(t){this._swingAmount=t}get swingSubdivision(){return new te(this.context,this._swingTicks).toNotation()}set swingSubdivision(t){this._swingTicks=this.toTicks(t)}get position(){const t=this.now(),s=this._clock.getTicksAtTime(t);return new te(this.context,s).toBarsBeatsSixteenths()}set position(t){const s=this.toTicks(t);this.ticks=s}get seconds(){return this._clock.seconds}set seconds(t){const s=this.now(),a=this._clock.frequency.timeToTicks(t,s);this.ticks=a}get progress(){if(this.loop){const t=this.now();return(this._clock.getTicksAtTime(t)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(t){if(this._clock.ticks!==t){const s=this.now();if(this.state==="started"){const a=this._clock.getTicksAtTime(s),l=this._clock.frequency.getDurationOfTicks(Math.ceil(a)-a,s),u=s+l;this.emit("stop",u),this._clock.setTicksAtTime(t,u),this.emit("start",u,this._clock.getSecondsAtTime(u))}else this.emit("ticks",s),this._clock.setTicksAtTime(t,s)}}getTicksAtTime(t){return this._clock.getTicksAtTime(t)}getSecondsAtTime(t){return this._clock.getSecondsAtTime(t)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(t){this._clock.frequency.multiplier=t}nextSubdivision(t){if(t=this.toTicks(t),this.state!=="started")return 0;{const s=this.now(),a=this.getTicksAtTime(s),l=t-a%t;return this._clock.nextTickTime(l,s)}}syncSignal(t,s){const a=this.now();let l=this.bpm,u=1/(60/l.getValueAtTime(a)/this.PPQ),f=[];if(t.units==="time"){const p=.015625/u,m=new dt(p),_=new or(-1),y=new dt(p);l.chain(m,_,y),l=y,u=1/u,f=[m,_,y]}s||(t.getValueAtTime(a)!==0?s=t.getValueAtTime(a)/u:s=0);const d=new dt(s);return l.connect(d),d.connect(t._param),f.push(d),this._syncedSignals.push({initial:t.value,nodes:f,signal:t}),t.value=0,this}unsyncSignal(t){for(let s=this._syncedSignals.length-1;s>=0;s--){const a=this._syncedSignals[s];a.signal===t&&(a.nodes.forEach(l=>l.dispose()),a.signal.value=a.initial,this._syncedSignals.splice(s,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),Mo(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}er.mixin(zc);Rc(o=>{o.transport=new zc({context:o})});Nc(o=>{o.transport.dispose()});class le extends ${constructor(t){super(t),this.input=void 0,this._state=new ir("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=Dt,this._syncedStop=Dt,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new ks({context:this.context,mute:t.mute,volume:t.volume}),this.volume=this._volume.volume,gt(this,"volume"),this.onstop=t.onstop}static getDefaults(){return Object.assign($.getDefaults(),{mute:!1,onstop:Dt,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}_clampToCurrentTime(t){return this._synced?t:Math.max(t,this.context.currentTime)}start(t,s,a){let l=on(t)&&this._synced?this.context.transport.seconds:this.toSeconds(t);if(l=this._clampToCurrentTime(l),!this._synced&&this._state.getValueAtTime(l)==="started")pt(Ha(l,this._state.get(l).time),"Start time must be strictly greater than previous start time"),this._state.cancel(l),this._state.setStateAtTime("started",l),this.log("restart",l),this.restart(l,s,a);else if(this.log("start",l),this._state.setStateAtTime("started",l),this._synced){const u=this._state.get(l);u&&(u.offset=this.toSeconds(qn(s,0)),u.duration=a?this.toSeconds(a):void 0);const f=this.context.transport.schedule(d=>{this._start(d,s,a)},l);this._scheduled.push(f),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>l&&this._syncedStart(this.now(),this.context.transport.seconds)}else Yf(this.context),this._start(l,s,a);return this}stop(t){let s=on(t)&&this._synced?this.context.transport.seconds:this.toSeconds(t);if(s=this._clampToCurrentTime(s),this._state.getValueAtTime(s)==="started"||wt(this._state.getNextState("started",s))){if(this.log("stop",s),!this._synced)this._stop(s);else{const a=this.context.transport.schedule(this._stop.bind(this),s);this._scheduled.push(a)}this._state.cancel(s),this._state.setStateAtTime("stopped",s)}return this}restart(t,s,a){return t=this.toSeconds(t),this._state.getValueAtTime(t)==="started"&&(this._state.cancel(t),this._restart(t,s,a)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(t,s)=>{if(Ha(s,0)){const a=this._state.get(s);if(a&&a.state==="started"&&a.time!==s){const l=s-this.toSeconds(a.time);let u;a.duration&&(u=this.toSeconds(a.duration)-l),this._start(t,this.toSeconds(a.offset)+l,u)}}},this._syncedStop=t=>{const s=this.context.transport.getSecondsAtTime(Math.max(t-this.sampleTime,0));this._state.getValueAtTime(s)==="started"&&this._stop(t)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(t=>this.context.transport.clear(t)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=Dt,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class _i extends Xa{constructor(){const t=W(_i.getDefaults(),arguments,["url","onload"]);super(t),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1,Je(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new Tt({context:this.context,param:this._source.playbackRate,units:"positive",value:t.playbackRate}),this.loop=t.loop,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd,this._buffer=new zt(t.url,t.onload,t.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(Xa.getDefaults(),{url:new zt,loop:!1,loopEnd:0,loopStart:0,onload:Dt,onerror:Dt,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(t){this._fadeIn=t}get fadeOut(){return this._fadeOut}set fadeOut(t){this._fadeOut=t}get curve(){return this._curve}set curve(t){this._curve=t}start(t,s,a,l=1){pt(this.buffer.loaded,"buffer is either not set or not loaded");const u=this.toSeconds(t);this._startGain(u,l),this.loop?s=qn(s,this.loopStart):s=qn(s,0);let f=Math.max(this.toSeconds(s),0);if(this.loop){const d=this.toSeconds(this.loopEnd)||this.buffer.duration,p=this.toSeconds(this.loopStart),m=d-p;xf(f,d)&&(f=(f-p)%m+p),Gn(f,this.buffer.duration)&&(f=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,bc(f,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(u,f)),wt(a)){let d=this.toSeconds(a);d=Math.max(d,0),this.stop(u+d)}return this}_stopSource(t){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(t)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(t){this._source.loopStart=this.toSeconds(t)}get loopEnd(){return this._source.loopEnd}set loopEnd(t){this._source.loopEnd=this.toSeconds(t)}get buffer(){return this._buffer}set buffer(t){this._buffer.set(t)}get loop(){return this._source.loop}set loop(t){this._source.loop=t,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}class fi extends le{constructor(){const t=W(fi.getDefaults(),arguments,["type"]);super(t),this.name="Noise",this._source=null,this._playbackRate=t.playbackRate,this.type=t.type,this._fadeIn=t.fadeIn,this._fadeOut=t.fadeOut}static getDefaults(){return Object.assign(le.getDefaults(),{fadeIn:0,fadeOut:0,playbackRate:1,type:"white"})}get type(){return this._type}set type(t){if(pt(t in py,"Noise: invalid type: "+t),this._type!==t&&(this._type=t,this.state==="started")){const s=this.now();this._stop(s),this._start(s)}}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t,this._source&&(this._source.playbackRate.value=t)}_start(t){const s=py[this._type];this._source=new _i({url:s,context:this.context,fadeIn:this._fadeIn,fadeOut:this._fadeOut,loop:!0,onended:()=>this.onstop(this),playbackRate:this._playbackRate}).connect(this.output),this._source.start(this.toSeconds(t),Math.random()*(s.duration-.001))}_stop(t){this._source&&(this._source.stop(this.toSeconds(t)),this._source=null)}get fadeIn(){return this._fadeIn}set fadeIn(t){this._fadeIn=t,this._source&&(this._source.fadeIn=this._fadeIn)}get fadeOut(){return this._fadeOut}set fadeOut(t){this._fadeOut=t,this._source&&(this._source.fadeOut=this._fadeOut)}_restart(t){this._stop(t),this._start(t)}dispose(){return super.dispose(),this._source&&this._source.disconnect(),this}}const Va=44100*5,hf=2,As={brown:null,pink:null,white:null},py={get brown(){if(!As.brown){const o=[];for(let t=0;t<hf;t++){const s=new Float32Array(Va);o[t]=s;let a=0;for(let l=0;l<Va;l++){const u=Math.random()*2-1;s[l]=(a+.02*u)/1.02,a=s[l],s[l]*=3.5}}As.brown=new zt().fromArray(o)}return As.brown},get pink(){if(!As.pink){const o=[];for(let t=0;t<hf;t++){const s=new Float32Array(Va);o[t]=s;let a,l,u,f,d,p,m;a=l=u=f=d=p=m=0;for(let _=0;_<Va;_++){const y=Math.random()*2-1;a=.99886*a+y*.0555179,l=.99332*l+y*.0750759,u=.969*u+y*.153852,f=.8665*f+y*.3104856,d=.55*d+y*.5329522,p=-.7616*p-y*.016898,s[_]=a+l+u+f+d+p+m+y*.5362,s[_]*=.11,m=y*.115926}}As.pink=new zt().fromArray(o)}return As.pink},get white(){if(!As.white){const o=[];for(let t=0;t<hf;t++){const s=new Float32Array(Va);o[t]=s;for(let a=0;a<Va;a++)s[a]=Math.random()*2-1}As.white=new zt().fromArray(o)}return As.white}};class _o extends ${constructor(){const t=W(_o.getDefaults(),arguments,["volume"]);super(t),this.name="UserMedia",this._volume=this.output=new ks({context:this.context,volume:t.volume}),this.volume=this._volume.volume,gt(this,"volume"),this.mute=t.mute}static getDefaults(){return Object.assign($.getDefaults(),{mute:!1,volume:0})}open(t){return Qt(this,void 0,void 0,function*(){pt(_o.supported,"UserMedia is not supported"),this.state==="started"&&this.close();const s=yield _o.enumerateDevices();bn(t)?this._device=s[t]:(this._device=s.find(u=>u.label===t||u.deviceId===t),!this._device&&s.length>0&&(this._device=s[0]),pt(wt(this._device),`No matching device ${t}`));const a={audio:{echoCancellation:!1,sampleRate:this.context.sampleRate,noiseSuppression:!1,mozNoiseSuppression:!1}};this._device&&(a.audio.deviceId=this._device.deviceId);const l=yield navigator.mediaDevices.getUserMedia(a);if(!this._stream){this._stream=l;const u=this.context.createMediaStreamSource(l);Je(u,this.output),this._mediaStream=u}return this})}close(){return this._stream&&this._mediaStream&&(this._stream.getAudioTracks().forEach(t=>{t.stop()}),this._stream=void 0,this._mediaStream.disconnect(),this._mediaStream=void 0),this._device=void 0,this}static enumerateDevices(){return Qt(this,void 0,void 0,function*(){return(yield navigator.mediaDevices.enumerateDevices()).filter(s=>s.kind==="audioinput")})}get state(){return this._stream&&this._stream.active?"started":"stopped"}get deviceId(){if(this._device)return this._device.deviceId}get groupId(){if(this._device)return this._device.groupId}get label(){if(this._device)return this._device.label}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}dispose(){return super.dispose(),this.close(),this._volume.dispose(),this.volume.dispose(),this}static get supported(){return wt(navigator.mediaDevices)&&wt(navigator.mediaDevices.getUserMedia)}}function Xi(o,t){return Qt(this,void 0,void 0,function*(){const s=t/o.context.sampleRate,a=new sr(1,s,o.context.sampleRate);return new o.constructor(Object.assign(o.get(),{frequency:2/s,detune:0,context:a})).toDestination().start(0),(yield a.render()).getChannelData(0)})}class ko extends Xa{constructor(){const t=W(ko.getDefaults(),arguments,["frequency","type"]);super(t),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator],Je(this._oscillator,this._gainNode),this.type=t.type,this.frequency=new Tt({context:this.context,param:this._oscillator.frequency,units:"frequency",value:t.frequency}),this.detune=new Tt({context:this.context,param:this._oscillator.detune,units:"cents",value:t.detune}),gt(this,["frequency","detune"])}static getDefaults(){return Object.assign(Xa.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(t){const s=this.toSeconds(t);return this.log("start",s),this._startGain(s),this._oscillator.start(s),this}_stopSource(t){this._oscillator.stop(t)}setPeriodicWave(t){return this._oscillator.setPeriodicWave(t),this}get type(){return this._oscillator.type}set type(t){this._oscillator.type=t}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class ee extends le{constructor(){const t=W(ee.getDefaults(),arguments,["frequency","type"]);super(t),this.name="Oscillator",this._oscillator=null,this.frequency=new vt({context:this.context,units:"frequency",value:t.frequency}),gt(this,"frequency"),this.detune=new vt({context:this.context,units:"cents",value:t.detune}),gt(this,"detune"),this._partials=t.partials,this._partialCount=t.partialCount,this._type=t.type,t.partialCount&&t.type!=="custom"&&(this._type=this.baseType+t.partialCount.toString()),this.phase=t.phase}static getDefaults(){return Object.assign(le.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(t){const s=this.toSeconds(t),a=new ko({context:this.context,onended:()=>this.onstop(this)});this._oscillator=a,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(s)}_stop(t){const s=this.toSeconds(t);this._oscillator&&this._oscillator.stop(s)}_restart(t){const s=this.toSeconds(t);return this.log("restart",s),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(s),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return ee._periodicWaveCache.find(s=>s.phase===this._phase&&PA(s.partials,this._partials));{const t=ee._periodicWaveCache.find(s=>s.type===this._type&&s.phase===this._phase);return this._partialCount=t?t.partialCount:this._partialCount,t}}get type(){return this._type}set type(t){this._type=t;const s=["sine","square","sawtooth","triangle"].indexOf(t)!==-1;if(this._phase===0&&s)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=t);else{const a=this._getCachedPeriodicWave();if(wt(a)){const{partials:l,wave:u}=a;this._wave=u,this._partials=l,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[l,u]=this._getRealImaginary(t,this._phase),f=this.context.createPeriodicWave(l,u);this._wave=f,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),ee._periodicWaveCache.push({imag:u,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:l,type:this._type,wave:this._wave}),ee._periodicWaveCache.length>100&&ee._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(t){this.partialCount&&this._type!=="custom"&&t!=="custom"?this.type=t+this.partialCount:this.type=t}get partialCount(){return this._partialCount}set partialCount(t){ve(t,0);let s=this._type;const a=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(a&&(s=a[1]),this._type!=="custom")t===0?this.type=s:this.type=s+t.toString();else{const l=new Float32Array(t);this._partials.forEach((u,f)=>l[f]=u),this._partials=Array.from(l),this.type=this._type}}_getRealImaginary(t,s){let l=2048;const u=new Float32Array(l),f=new Float32Array(l);let d=1;if(t==="custom"){if(d=this._partials.length+1,this._partialCount=this._partials.length,l=d,this._partials.length===0)return[u,f]}else{const p=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(t);p?(d=parseInt(p[2],10)+1,this._partialCount=parseInt(p[2],10),t=p[1],d=Math.max(d,2),l=d):this._partialCount=0,this._partials=[]}for(let p=1;p<l;++p){const m=2/(p*Math.PI);let _;switch(t){case"sine":_=p<=d?1:0,this._partials[p-1]=_;break;case"square":_=p&1?2*m:0,this._partials[p-1]=_;break;case"sawtooth":_=m*(p&1?1:-1),this._partials[p-1]=_;break;case"triangle":p&1?_=2*(m*m)*(p-1>>1&1?-1:1):_=0,this._partials[p-1]=_;break;case"custom":_=this._partials[p-1];break;default:throw new TypeError("Oscillator: invalid type: "+t)}_!==0?(u[p]=-_*Math.sin(s*p),f[p]=_*Math.cos(s*p)):(u[p]=0,f[p]=0)}return[u,f]}_inverseFFT(t,s,a){let l=0;const u=t.length;for(let f=0;f<u;f++)l+=t[f]*Math.cos(f*a)+s[f]*Math.sin(f*a);return l}getInitialValue(){const[t,s]=this._getRealImaginary(this._type,0);let a=0;const l=Math.PI*2,u=32;for(let f=0;f<u;f++)a=Math.max(this._inverseFFT(t,s,f/u*l),a);return Yi(-this._inverseFFT(t,s,this._phase)/a,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(t){this._partials=t,this._partialCount=this._partials.length,t.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(t){this._phase=t*Math.PI/180,this.type=this._type}asArray(){return Qt(this,arguments,void 0,function*(t=1024){return Xi(this,t)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}ee._periodicWaveCache=[];class Vc extends Sn{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new Wn({context:this.context,mapping:t=>(t+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class ne extends vt{constructor(){const t=W(ne.getDefaults(),arguments,["value"]);super(t),this.name="Multiply",this.override=!1,this._mult=this.input=this.output=new dt({context:this.context,minValue:t.minValue,maxValue:t.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(vt.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class qo extends le{constructor(){const t=W(qo.getDefaults(),arguments,["frequency","type","modulationType"]);super(t),this.name="AMOscillator",this._modulationScale=new Vc({context:this.context}),this._modulationNode=new dt({context:this.context}),this._carrier=new ee({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase,type:t.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new ee({context:this.context,phase:t.phase,type:t.modulationType}),this.harmonicity=new ne({context:this.context,units:"positive",value:t.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),gt(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(ee.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(t){this._modulator.start(t),this._carrier.start(t)}_stop(t){this._modulator.stop(t),this._carrier.stop(t)}_restart(t){this._modulator.restart(t),this._carrier.restart(t)}get type(){return this._carrier.type}set type(t){this._carrier.type=t}get baseType(){return this._carrier.baseType}set baseType(t){this._carrier.baseType=t}get partialCount(){return this._carrier.partialCount}set partialCount(t){this._carrier.partialCount=t}get modulationType(){return this._modulator.type}set modulationType(t){this._modulator.type=t}get phase(){return this._carrier.phase}set phase(t){this._carrier.phase=t,this._modulator.phase=t}get partials(){return this._carrier.partials}set partials(t){this._carrier.partials=t}asArray(){return Qt(this,arguments,void 0,function*(t=1024){return Xi(this,t)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class lr extends le{constructor(){const t=W(lr.getDefaults(),arguments,["frequency","type","modulationType"]);super(t),this.name="FMOscillator",this._modulationNode=new dt({context:this.context,gain:0}),this._carrier=new ee({context:this.context,detune:t.detune,frequency:0,onstop:()=>this.onstop(this),phase:t.phase,type:t.type}),this.detune=this._carrier.detune,this.frequency=new vt({context:this.context,units:"frequency",value:t.frequency}),this._modulator=new ee({context:this.context,phase:t.phase,type:t.modulationType}),this.harmonicity=new ne({context:this.context,units:"positive",value:t.harmonicity}),this.modulationIndex=new ne({context:this.context,units:"positive",value:t.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),gt(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(ee.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(t){this._modulator.start(t),this._carrier.start(t)}_stop(t){this._modulator.stop(t),this._carrier.stop(t)}_restart(t){return this._modulator.restart(t),this._carrier.restart(t),this}get type(){return this._carrier.type}set type(t){this._carrier.type=t}get baseType(){return this._carrier.baseType}set baseType(t){this._carrier.baseType=t}get partialCount(){return this._carrier.partialCount}set partialCount(t){this._carrier.partialCount=t}get modulationType(){return this._modulator.type}set modulationType(t){this._modulator.type=t}get phase(){return this._carrier.phase}set phase(t){this._carrier.phase=t,this._modulator.phase=t}get partials(){return this._carrier.partials}set partials(t){this._carrier.partials=t}asArray(){return Qt(this,arguments,void 0,function*(t=1024){return Xi(this,t)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class cr extends le{constructor(){const t=W(cr.getDefaults(),arguments,["frequency","width"]);super(t),this.name="PulseOscillator",this._widthGate=new dt({context:this.context,gain:0}),this._thresh=new Wn({context:this.context,mapping:s=>s<=0?-1:1}),this.width=new vt({context:this.context,units:"audioRange",value:t.width}),this._triangle=new ee({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),gt(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(le.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(t){t=this.toSeconds(t),this._triangle.start(t),this._widthGate.gain.setValueAtTime(1,t)}_stop(t){t=this.toSeconds(t),this._triangle.stop(t),this._widthGate.gain.cancelScheduledValues(t),this._widthGate.gain.setValueAtTime(0,t)}_restart(t){this._triangle.restart(t),this._widthGate.gain.cancelScheduledValues(t),this._widthGate.gain.setValueAtTime(1,t)}get phase(){return this._triangle.phase}set phase(t){this._triangle.phase=t}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(t){this._triangle.type=t}asArray(){return Qt(this,arguments,void 0,function*(t=1024){return Xi(this,t)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class zo extends le{constructor(){const t=W(zo.getDefaults(),arguments,["frequency","type","spread"]);super(t),this.name="FatOscillator",this._oscillators=[],this.frequency=new vt({context:this.context,units:"frequency",value:t.frequency}),this.detune=new vt({context:this.context,units:"cents",value:t.detune}),this._spread=t.spread,this._type=t.type,this._phase=t.phase,this._partials=t.partials,this._partialCount=t.partialCount,this.count=t.count,gt(this,["frequency","detune"])}static getDefaults(){return Object.assign(ee.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(t){t=this.toSeconds(t),this._forEach(s=>s.start(t))}_stop(t){t=this.toSeconds(t),this._forEach(s=>s.stop(t))}_restart(t){this._forEach(s=>s.restart(t))}_forEach(t){for(let s=0;s<this._oscillators.length;s++)t(this._oscillators[s],s)}get type(){return this._type}set type(t){this._type=t,this._forEach(s=>s.type=t)}get spread(){return this._spread}set spread(t){if(this._spread=t,this._oscillators.length>1){const s=-t/2,a=t/(this._oscillators.length-1);this._forEach((l,u)=>l.detune.value=s+a*u)}}get count(){return this._oscillators.length}set count(t){if(ve(t,1),this._oscillators.length!==t){this._forEach(s=>s.dispose()),this._oscillators=[];for(let s=0;s<t;s++){const a=new ee({context:this.context,volume:-6-t*1.1,type:this._type,phase:this._phase+s/t*360,partialCount:this._partialCount,onstop:s===0?()=>this.onstop(this):Dt});this.type==="custom"&&(a.partials=this._partials),this.frequency.connect(a.frequency),this.detune.connect(a.detune),a.detune.overridden=!1,a.connect(this.output),this._oscillators[s]=a}this.spread=this._spread,this.state==="started"&&this._forEach(s=>s.start())}}get phase(){return this._phase}set phase(t){this._phase=t,this._forEach((s,a)=>s.phase=this._phase+a/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(t){this._forEach(s=>s.baseType=t),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(t){this._partials=t,this._partialCount=this._partials.length,t.length&&(this._type="custom",this._forEach(s=>s.partials=t))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(t){this._partialCount=t,this._forEach(s=>s.partialCount=t),this._type=this._oscillators[0].type}asArray(){return Qt(this,arguments,void 0,function*(t=1024){return Xi(this,t)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(t=>t.dispose()),this}}class Vo extends le{constructor(){const t=W(Vo.getDefaults(),arguments,["frequency","modulationFrequency"]);super(t),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new ne({context:this.context,value:2}),this._pulse=new cr({context:this.context,frequency:t.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new ee({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),gt(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(le.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(t){t=this.toSeconds(t),this._modulator.start(t),this._pulse.start(t)}_stop(t){t=this.toSeconds(t),this._modulator.stop(t),this._pulse.stop(t)}_restart(t){this._modulator.restart(t),this._pulse.restart(t)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(t){this._modulator.phase=t}asArray(){return Qt(this,arguments,void 0,function*(t=1024){return Xi(this,t)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const my={am:qo,fat:zo,fm:lr,oscillator:ee,pulse:cr,pwm:Vo};class Ms extends le{constructor(){const t=W(Ms.getDefaults(),arguments,["frequency","type"]);super(t),this.name="OmniOscillator",this.frequency=new vt({context:this.context,units:"frequency",value:t.frequency}),this.detune=new vt({context:this.context,units:"cents",value:t.detune}),gt(this,["frequency","detune"]),this.set(t)}static getDefaults(){return Object.assign(ee.getDefaults(),lr.getDefaults(),qo.getDefaults(),zo.getDefaults(),cr.getDefaults(),Vo.getDefaults())}_start(t){this._oscillator.start(t)}_stop(t){this._oscillator.stop(t)}_restart(t){return this._oscillator.restart(t),this}get type(){let t="";return["am","fm","fat"].some(s=>this._sourceType===s)&&(t=this._sourceType),t+this._oscillator.type}set type(t){t.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(2)):t.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(2)):t.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(3)):t==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):t==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=t)}get partials(){return this._oscillator.partials}set partials(t){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=t)}get partialCount(){return this._oscillator.partialCount}set partialCount(t){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=t)}set(t){return Reflect.has(t,"type")&&t.type&&(this.type=t.type),super.set(t),this}_createNewOscillator(t){if(t!==this._sourceType){this._sourceType=t;const s=my[t],a=this.now();if(this._oscillator){const l=this._oscillator;l.stop(a),this.context.setTimeout(()=>l.dispose(),this.blockTime)}this._oscillator=new s({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(a)}}get phase(){return this._oscillator.phase}set phase(t){this._oscillator.phase=t}get sourceType(){return this._sourceType}set sourceType(t){let s="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(s=this._oscillator.type),t==="fm"?this.type="fm"+s:t==="am"?this.type="am"+s:t==="fat"?this.type="fat"+s:t==="oscillator"?this.type=s:t==="pulse"?this.type="pulse":t==="pwm"&&(this.type="pwm")}_getOscType(t,s){return t instanceof my[s]}get baseType(){return this._oscillator.baseType}set baseType(t){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&t!=="pulse"&&t!=="pwm"&&(this._oscillator.baseType=t)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(t){this._getOscType(this._oscillator,"fat")&&bn(t)&&(this._oscillator.count=t)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(t){this._getOscType(this._oscillator,"fat")&&bn(t)&&(this._oscillator.spread=t)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(t){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&Xn(t)&&(this._oscillator.modulationType=t)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(){return Qt(this,arguments,void 0,function*(t=1024){return Xi(this,t)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}class Qi extends vt{constructor(){super(W(Qi.getDefaults(),arguments,["value"])),this.override=!1,this.name="Add",this._sum=new dt({context:this.context}),this.input=this._sum,this.output=this._sum,this.addend=this._param,xn(this._constantSource,this._sum)}static getDefaults(){return Object.assign(vt.getDefaults(),{value:0})}dispose(){return super.dispose(),this._sum.dispose(),this}}class Rs extends Sn{constructor(){const t=W(Rs.getDefaults(),arguments,["min","max"]);super(t),this.name="Scale",this._mult=this.input=new ne({context:this.context,value:t.max-t.min}),this._add=this.output=new Qi({context:this.context,value:t.min}),this._min=t.min,this._max=t.max,this.input.connect(this.output)}static getDefaults(){return Object.assign(Sn.getDefaults(),{max:1,min:0})}get min(){return this._min}set min(t){this._min=t,this._setRange()}get max(){return this._max}set max(t){this._max=t,this._setRange()}_setRange(){this._add.value=this._min,this._mult.value=this._max-this._min}dispose(){return super.dispose(),this._add.dispose(),this._mult.dispose(),this}}class jc extends Sn{constructor(){super(W(jc.getDefaults(),arguments)),this.name="Zero",this._gain=new dt({context:this.context}),this.output=this._gain,this.input=void 0,Je(this.context.getConstant(0),this._gain)}dispose(){return super.dispose(),Kf(this.context.getConstant(0),this._gain),this}}class Ke extends ${constructor(){const t=W(Ke.getDefaults(),arguments,["frequency","min","max"]);super(t),this.name="LFO",this._stoppedValue=0,this._units="number",this.convert=!0,this._fromType=Tt.prototype._fromType,this._toType=Tt.prototype._toType,this._is=Tt.prototype._is,this._clampValue=Tt.prototype._clampValue,this._oscillator=new ee(t),this.frequency=this._oscillator.frequency,this._amplitudeGain=new dt({context:this.context,gain:t.amplitude,units:"normalRange"}),this.amplitude=this._amplitudeGain.gain,this._stoppedSignal=new vt({context:this.context,units:"audioRange",value:0}),this._zeros=new jc({context:this.context}),this._a2g=new Vc({context:this.context}),this._scaler=this.output=new Rs({context:this.context,max:t.max,min:t.min}),this.units=t.units,this.min=t.min,this.max=t.max,this._oscillator.chain(this._amplitudeGain,this._a2g,this._scaler),this._zeros.connect(this._a2g),this._stoppedSignal.connect(this._a2g),gt(this,["amplitude","frequency"]),this.phase=t.phase}static getDefaults(){return Object.assign(ee.getDefaults(),{amplitude:1,frequency:"4n",max:1,min:0,type:"sine",units:"number"})}start(t){return t=this.toSeconds(t),this._stoppedSignal.setValueAtTime(0,t),this._oscillator.start(t),this}stop(t){return t=this.toSeconds(t),this._stoppedSignal.setValueAtTime(this._stoppedValue,t),this._oscillator.stop(t),this}sync(){return this._oscillator.sync(),this._oscillator.syncFrequency(),this}unsync(){return this._oscillator.unsync(),this._oscillator.unsyncFrequency(),this}_setStoppedValue(){this._stoppedValue=this._oscillator.getInitialValue(),this._stoppedSignal.value=this._stoppedValue}get min(){return this._toType(this._scaler.min)}set min(t){t=this._fromType(t),this._scaler.min=t}get max(){return this._toType(this._scaler.max)}set max(t){t=this._fromType(t),this._scaler.max=t}get type(){return this._oscillator.type}set type(t){this._oscillator.type=t,this._setStoppedValue()}get partials(){return this._oscillator.partials}set partials(t){this._oscillator.partials=t,this._setStoppedValue()}get phase(){return this._oscillator.phase}set phase(t){this._oscillator.phase=t,this._setStoppedValue()}get units(){return this._units}set units(t){const s=this.min,a=this.max;this._units=t,this.min=s,this.max=a}get state(){return this._oscillator.state}connect(t,s,a){return(t instanceof Tt||t instanceof vt)&&(this.convert=t.convert,this.units=t.units),No(this,t,s,a),this}dispose(){return super.dispose(),this._oscillator.dispose(),this._stoppedSignal.dispose(),this._zeros.dispose(),this._scaler.dispose(),this._a2g.dispose(),this._amplitudeGain.dispose(),this.amplitude.dispose(),this}}function Ov(o,t=1/0){const s=new WeakMap;return function(a,l){Reflect.defineProperty(a,l,{configurable:!0,enumerable:!0,get:function(){return s.get(this)},set:function(u){ve(u,o,t),s.set(this,u)}})}}function qs(o,t=1/0){const s=new WeakMap;return function(a,l){Reflect.defineProperty(a,l,{configurable:!0,enumerable:!0,get:function(){return s.get(this)},set:function(u){ve(this.toSeconds(u),o,t),s.set(this,u)}})}}class Zi extends le{constructor(){const t=W(Zi.getDefaults(),arguments,["url","onload"]);super(t),this.name="Player",this._activeSources=new Set,this._buffer=new zt({onload:this._onload.bind(this,t.onload),onerror:t.onerror,reverse:t.reverse,url:t.url}),this.autostart=t.autostart,this._loop=t.loop,this._loopStart=t.loopStart,this._loopEnd=t.loopEnd,this._playbackRate=t.playbackRate,this.fadeIn=t.fadeIn,this.fadeOut=t.fadeOut}static getDefaults(){return Object.assign(le.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:Dt,onerror:Dt,playbackRate:1,reverse:!1})}load(t){return Qt(this,void 0,void 0,function*(){return yield this._buffer.load(t),this._onload(),this})}_onload(t=Dt){t(),this.autostart&&this.start()}_onSourceEnd(t){this.onstop(this),this._activeSources.delete(t),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(t,s,a){return super.start(t,s,a),this}_start(t,s,a){this._loop?s=qn(s,this._loopStart):s=qn(s,0);const l=this.toSeconds(s),u=a;a=qn(a,Math.max(this._buffer.duration-l,0));let f=this.toSeconds(a);f=f/this._playbackRate,t=this.toSeconds(t);const d=new _i({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(t+f),this._state.setStateAtTime("stopped",t+f,{implicitEnd:!0})),this._activeSources.add(d),this._loop&&on(u)?d.start(t,l):d.start(t,l,f-this.toSeconds(this.fadeOut))}_stop(t){const s=this.toSeconds(t);this._activeSources.forEach(a=>a.stop(s))}restart(t,s,a){return super.restart(t,s,a),this}_restart(t,s,a){var l;(l=[...this._activeSources].pop())===null||l===void 0||l.stop(t),this._start(t,s,a)}seek(t,s){const a=this.toSeconds(s);if(this._state.getValueAtTime(a)==="started"){const l=this.toSeconds(t);this._stop(a),this._start(a,l)}return this}setLoopPoints(t,s){return this.loopStart=t,this.loopEnd=s,this}get loopStart(){return this._loopStart}set loopStart(t){this._loopStart=t,this.buffer.loaded&&ve(this.toSeconds(t),0,this.buffer.duration),this._activeSources.forEach(s=>{s.loopStart=t})}get loopEnd(){return this._loopEnd}set loopEnd(t){this._loopEnd=t,this.buffer.loaded&&ve(this.toSeconds(t),0,this.buffer.duration),this._activeSources.forEach(s=>{s.loopEnd=t})}get buffer(){return this._buffer}set buffer(t){this._buffer.set(t)}get loop(){return this._loop}set loop(t){if(this._loop!==t&&(this._loop=t,this._activeSources.forEach(s=>{s.loop=t}),t)){const s=this._state.getNextState("stopped",this.now());s&&this._state.cancel(s.time)}}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t;const s=this.now(),a=this._state.getNextState("stopped",s);a&&a.implicitEnd&&(this._state.cancel(a.time),this._activeSources.forEach(l=>l.cancelStop())),this._activeSources.forEach(l=>{l.playbackRate.setValueAtTime(t,s)})}get reverse(){return this._buffer.reverse}set reverse(t){this._buffer.reverse=t}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(t=>t.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}Zn([qs(0)],Zi.prototype,"fadeIn",void 0);Zn([qs(0)],Zi.prototype,"fadeOut",void 0);class sd extends ${constructor(){const t=W(sd.getDefaults(),arguments,["urls","onload"],"urls");super(t),this.name="Players",this.input=void 0,this._players=new Map,this._volume=this.output=new ks({context:this.context,volume:t.volume}),this.volume=this._volume.volume,gt(this,"volume"),this._buffers=new rr({urls:t.urls,onload:t.onload,baseUrl:t.baseUrl,onerror:t.onerror}),this.mute=t.mute,this._fadeIn=t.fadeIn,this._fadeOut=t.fadeOut}static getDefaults(){return Object.assign(le.getDefaults(),{baseUrl:"",fadeIn:0,fadeOut:0,mute:!1,onload:Dt,onerror:Dt,urls:{},volume:0})}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}get fadeIn(){return this._fadeIn}set fadeIn(t){this._fadeIn=t,this._players.forEach(s=>{s.fadeIn=t})}get fadeOut(){return this._fadeOut}set fadeOut(t){this._fadeOut=t,this._players.forEach(s=>{s.fadeOut=t})}get state(){return Array.from(this._players).some(([s,a])=>a.state==="started")?"started":"stopped"}has(t){return this._buffers.has(t)}player(t){if(pt(this.has(t),`No Player with the name ${t} exists on this object`),!this._players.has(t)){const s=new Zi({context:this.context,fadeIn:this._fadeIn,fadeOut:this._fadeOut,url:this._buffers.get(t)}).connect(this.output);this._players.set(t,s)}return this._players.get(t)}get loaded(){return this._buffers.loaded}add(t,s,a){return pt(!this._buffers.has(t),"A buffer with that name already exists on this object"),this._buffers.add(t,s,a),this}stopAll(t){return this._players.forEach(s=>s.stop(t)),this}dispose(){return super.dispose(),this._volume.dispose(),this.volume.dispose(),this._players.forEach(t=>t.dispose()),this._buffers.dispose(),this}}class id extends le{constructor(){const t=W(id.getDefaults(),arguments,["url","onload"]);super(t),this.name="GrainPlayer",this._loopStart=0,this._loopEnd=0,this._activeSources=[],this.buffer=new zt({onload:t.onload,onerror:t.onerror,reverse:t.reverse,url:t.url}),this._clock=new ar({context:this.context,callback:this._tick.bind(this),frequency:1/t.grainSize}),this._playbackRate=t.playbackRate,this._grainSize=t.grainSize,this._overlap=t.overlap,this.detune=t.detune,this.overlap=t.overlap,this.loop=t.loop,this.playbackRate=t.playbackRate,this.grainSize=t.grainSize,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd,this.reverse=t.reverse,this._clock.on("stop",this._onstop.bind(this))}static getDefaults(){return Object.assign(le.getDefaults(),{onload:Dt,onerror:Dt,overlap:.1,grainSize:.2,playbackRate:1,detune:0,loop:!1,loopStart:0,loopEnd:0,reverse:!1})}_start(t,s,a){s=qn(s,0),s=this.toSeconds(s),t=this.toSeconds(t);const l=1/this._clock.frequency.getValueAtTime(t);this._clock.start(t,s/l),a&&this.stop(t+this.toSeconds(a))}restart(t,s,a){return super.restart(t,s,a),this}_restart(t,s,a){this._stop(t),this._start(t,s,a)}_stop(t){this._clock.stop(t)}_onstop(t){this._activeSources.forEach(s=>{s.fadeOut=0,s.stop(t)}),this.onstop(this)}_tick(t){const s=this._clock.getTicksAtTime(t),a=s*this._grainSize;if(this.log("offset",a),!this.loop&&a>this.buffer.duration){this.stop(t);return}const l=a<this._overlap?0:this._overlap,u=new _i({context:this.context,url:this.buffer,fadeIn:l,fadeOut:this._overlap,loop:this.loop,loopStart:this._loopStart,loopEnd:this._loopEnd,playbackRate:Ya(this.detune/100)}).connect(this.output);u.start(t,this._grainSize*s),u.stop(t+this._grainSize/this.playbackRate),this._activeSources.push(u),u.onended=()=>{const f=this._activeSources.indexOf(u);f!==-1&&this._activeSources.splice(f,1)}}get playbackRate(){return this._playbackRate}set playbackRate(t){ve(t,.001),this._playbackRate=t,this.grainSize=this._grainSize}get loopStart(){return this._loopStart}set loopStart(t){this.buffer.loaded&&ve(this.toSeconds(t),0,this.buffer.duration),this._loopStart=this.toSeconds(t)}get loopEnd(){return this._loopEnd}set loopEnd(t){this.buffer.loaded&&ve(this.toSeconds(t),0,this.buffer.duration),this._loopEnd=this.toSeconds(t)}get reverse(){return this.buffer.reverse}set reverse(t){this.buffer.reverse=t}get grainSize(){return this._grainSize}set grainSize(t){this._grainSize=this.toSeconds(t),this._clock.frequency.setValueAtTime(this._playbackRate/this._grainSize,this.now())}get overlap(){return this._overlap}set overlap(t){const s=this.toSeconds(t);ve(s,0),this._overlap=s}get loaded(){return this.buffer.loaded}dispose(){return super.dispose(),this.buffer.dispose(),this._clock.dispose(),this._activeSources.forEach(t=>t.dispose()),this}}class Mv extends Sn{constructor(){super(...arguments),this.name="Abs",this._abs=new Wn({context:this.context,mapping:t=>Math.abs(t)<.001?0:Math.abs(t)}),this.input=this._abs,this.output=this._abs}dispose(){return super.dispose(),this._abs.dispose(),this}}class Rv extends Sn{constructor(){super(...arguments),this.name="GainToAudio",this._norm=new Wn({context:this.context,mapping:t=>Math.abs(t)*2-1}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class ad extends Sn{constructor(){super(...arguments),this.name="Negate",this._multiply=new ne({context:this.context,value:-1}),this.input=this._multiply,this.output=this._multiply}dispose(){return super.dispose(),this._multiply.dispose(),this}}class Wi extends vt{constructor(){super(W(Wi.getDefaults(),arguments,["value"])),this.override=!1,this.name="Subtract",this._sum=new dt({context:this.context}),this.input=this._sum,this.output=this._sum,this._neg=new ad({context:this.context}),this.subtrahend=this._param,xn(this._constantSource,this._neg,this._sum)}static getDefaults(){return Object.assign(vt.getDefaults(),{value:0})}dispose(){return super.dispose(),this._neg.dispose(),this._sum.dispose(),this}}class Uc extends Sn{constructor(){super(W(Uc.getDefaults(),arguments)),this.name="GreaterThanZero",this._thresh=this.output=new Wn({context:this.context,length:127,mapping:t=>t<=0?0:1}),this._scale=this.input=new ne({context:this.context,value:1e4}),this._scale.connect(this._thresh)}dispose(){return super.dispose(),this._scale.dispose(),this._thresh.dispose(),this}}class Bc extends vt{constructor(){const t=W(Bc.getDefaults(),arguments,["value"]);super(t),this.name="GreaterThan",this.override=!1,this._subtract=this.input=new Wi({context:this.context,value:t.value}),this._gtz=this.output=new Uc({context:this.context}),this.comparator=this._param=this._subtract.subtrahend,gt(this,"comparator"),this._subtract.connect(this._gtz)}static getDefaults(){return Object.assign(vt.getDefaults(),{value:0})}dispose(){return super.dispose(),this._gtz.dispose(),this._subtract.dispose(),this.comparator.dispose(),this}}class Lc extends Rs{constructor(){const t=W(Lc.getDefaults(),arguments,["min","max","exponent"]);super(t),this.name="ScaleExp",this.input=this._exp=new or({context:this.context,value:t.exponent}),this._exp.connect(this._mult)}static getDefaults(){return Object.assign(Rs.getDefaults(),{exponent:1})}get exponent(){return this._exp.value}set exponent(t){this._exp.value=t}dispose(){return super.dispose(),this._exp.dispose(),this}}class g2 extends vt{constructor(){const t=W(vt.getDefaults(),arguments,["value","units"]);super(t),this.name="SyncedSignal",this.override=!1,this._lastVal=t.value,this._synced=this.context.transport.scheduleRepeat(this._onTick.bind(this),"1i"),this._syncedCallback=this._anchorValue.bind(this),this.context.transport.on("start",this._syncedCallback),this.context.transport.on("pause",this._syncedCallback),this.context.transport.on("stop",this._syncedCallback),this._constantSource.disconnect(),this._constantSource.stop(0),this._constantSource=this.output=new qc({context:this.context,offset:t.value,units:t.units}).start(0),this.setValueAtTime(t.value,0)}_onTick(t){const s=super.getValueAtTime(this.context.transport.seconds);this._lastVal!==s&&(this._lastVal=s,this._constantSource.offset.setValueAtTime(s,t))}_anchorValue(t){const s=super.getValueAtTime(this.context.transport.seconds);this._lastVal=s,this._constantSource.offset.cancelAndHoldAtTime(t),this._constantSource.offset.setValueAtTime(s,t)}getValueAtTime(t){const s=new _e(this.context,t).toSeconds();return super.getValueAtTime(s)}setValueAtTime(t,s){const a=new _e(this.context,s).toSeconds();return super.setValueAtTime(t,a),this}linearRampToValueAtTime(t,s){const a=new _e(this.context,s).toSeconds();return super.linearRampToValueAtTime(t,a),this}exponentialRampToValueAtTime(t,s){const a=new _e(this.context,s).toSeconds();return super.exponentialRampToValueAtTime(t,a),this}setTargetAtTime(t,s,a){const l=new _e(this.context,s).toSeconds();return super.setTargetAtTime(t,l,a),this}cancelScheduledValues(t){const s=new _e(this.context,t).toSeconds();return super.cancelScheduledValues(s),this}setValueCurveAtTime(t,s,a,l){const u=new _e(this.context,s).toSeconds();return a=this.toSeconds(a),super.setValueCurveAtTime(t,u,a,l),this}cancelAndHoldAtTime(t){const s=new _e(this.context,t).toSeconds();return super.cancelAndHoldAtTime(s),this}setRampPoint(t){const s=new _e(this.context,t).toSeconds();return super.setRampPoint(s),this}exponentialRampTo(t,s,a){const l=new _e(this.context,a).toSeconds();return super.exponentialRampTo(t,s,l),this}linearRampTo(t,s,a){const l=new _e(this.context,a).toSeconds();return super.linearRampTo(t,s,l),this}targetRampTo(t,s,a){const l=new _e(this.context,a).toSeconds();return super.targetRampTo(t,s,l),this}dispose(){return super.dispose(),this.context.transport.clear(this._synced),this.context.transport.off("start",this._syncedCallback),this.context.transport.off("pause",this._syncedCallback),this.context.transport.off("stop",this._syncedCallback),this._constantSource.dispose(),this}}class Ue extends ${constructor(){const t=W(Ue.getDefaults(),arguments,["attack","decay","sustain","release"]);super(t),this.name="Envelope",this._sig=new vt({context:this.context,value:0}),this.output=this._sig,this.input=void 0,this.attack=t.attack,this.decay=t.decay,this.sustain=t.sustain,this.release=t.release,this.attackCurve=t.attackCurve,this.releaseCurve=t.releaseCurve,this.decayCurve=t.decayCurve}static getDefaults(){return Object.assign($.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(t,s){if(Xn(t))return t;{let a;for(a in oc)if(oc[a][s]===t)return a;return t}}_setCurve(t,s,a){if(Xn(a)&&Reflect.has(oc,a)){const l=oc[a];Cs(l)?t!=="_decayCurve"&&(this[t]=l[s]):this[t]=l}else if(je(a)&&t!=="_decayCurve")this[t]=a;else throw new Error("Envelope: invalid curve: "+a)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(t){this._setCurve("_attackCurve","In",t)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(t){this._setCurve("_releaseCurve","Out",t)}get decayCurve(){return this._getCurve(this._decayCurve,"Out")}set decayCurve(t){this._setCurve("_decayCurve","Out",t)}triggerAttack(t,s=1){this.log("triggerAttack",t,s),t=this.toSeconds(t);let l=this.toSeconds(this.attack);const u=this.toSeconds(this.decay),f=this.getValueAtTime(t);if(f>0){const d=1/l;l=(1-f)/d}if(l<this.sampleTime)this._sig.cancelScheduledValues(t),this._sig.setValueAtTime(s,t);else if(this._attackCurve==="linear")this._sig.linearRampTo(s,l,t);else if(this._attackCurve==="exponential")this._sig.targetRampTo(s,l,t);else{this._sig.cancelAndHoldAtTime(t);let d=this._attackCurve;for(let p=1;p<d.length;p++)if(d[p-1]<=f&&f<=d[p]){d=this._attackCurve.slice(p),d[0]=f;break}this._sig.setValueCurveAtTime(d,t,l,s)}if(u&&this.sustain<1){const d=s*this.sustain,p=t+l;this.log("decay",p),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(d,u+p):this._sig.exponentialApproachValueAtTime(d,p,u)}return this}triggerRelease(t){this.log("triggerRelease",t),t=this.toSeconds(t);const s=this.getValueAtTime(t);if(s>0){const a=this.toSeconds(this.release);a<this.sampleTime?this._sig.setValueAtTime(0,t):this._releaseCurve==="linear"?this._sig.linearRampTo(0,a,t):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,a,t):(pt(je(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(t),this._sig.setValueCurveAtTime(this._releaseCurve,t,a,s))}return this}getValueAtTime(t){return this._sig.getValueAtTime(t)}triggerAttackRelease(t,s,a=1){return s=this.toSeconds(s),this.triggerAttack(s,a),this.triggerRelease(s+this.toSeconds(t)),this}cancel(t){return this._sig.cancelScheduledValues(this.toSeconds(t)),this}connect(t,s=0,a=0){return No(this,t,s,a),this}asArray(){return Qt(this,arguments,void 0,function*(t=1024){const s=t/this.context.sampleRate,a=new sr(1,s,this.context.sampleRate),l=this.toSeconds(this.attack)+this.toSeconds(this.decay),u=l+this.toSeconds(this.release),f=u*.1,d=u+f,p=new this.constructor(Object.assign(this.get(),{attack:s*this.toSeconds(this.attack)/d,decay:s*this.toSeconds(this.decay)/d,release:s*this.toSeconds(this.release)/d,context:a}));return p._sig.toDestination(),p.triggerAttackRelease(s*(l+f)/d,0),(yield a.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}Zn([qs(0)],Ue.prototype,"attack",void 0);Zn([qs(0)],Ue.prototype,"decay",void 0);Zn([Ov(0,1)],Ue.prototype,"sustain",void 0);Zn([qs(0)],Ue.prototype,"release",void 0);const oc=(()=>{let t,s;const a=[];for(t=0;t<128;t++)a[t]=Math.sin(t/127*(Math.PI/2));const l=[],u=6.4;for(t=0;t<127;t++){s=t/127;const x=Math.sin(s*(Math.PI*2)*u-Math.PI/2)+1;l[t]=x/10+s*.83}l[127]=1;const f=[],d=5;for(t=0;t<128;t++)f[t]=Math.ceil(t/127*d)/d;const p=[];for(t=0;t<128;t++)s=t/127,p[t]=.5*(1-Math.cos(Math.PI*s));const m=[];for(t=0;t<128;t++){s=t/127;const x=Math.pow(s,3)*4+.2,b=Math.cos(x*Math.PI*2*s);m[t]=Math.abs(b*(1-s))}function _(x){const b=new Array(x.length);for(let S=0;S<x.length;S++)b[S]=1-x[S];return b}function y(x){return x.slice(0).reverse()}return{bounce:{In:_(m),Out:m},cosine:{In:a,Out:y(a)},exponential:"exponential",linear:"linear",ripple:{In:l,Out:_(l)},sine:{In:p,Out:_(p)},step:{In:f,Out:_(f)}}})();class zn extends ${constructor(){const t=W(zn.getDefaults(),arguments);super(t),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease,this._syncedRelease=s=>this._original_triggerRelease(s),this._volume=this.output=new ks({context:this.context,volume:t.volume}),this.volume=this._volume.volume,gt(this,"volume")}static getDefaults(){return Object.assign($.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}_syncState(){let t=!1;return this._synced||(this._synced=!0,t=!0),t}_syncMethod(t,s){const a=this["_original_"+t]=this[t];this[t]=(...l)=>{const u=l[s],f=this.context.transport.schedule(d=>{l[s]=d,a.apply(this,l)},u);this._scheduledEvents.push(f)}}unsync(){return this._scheduledEvents.forEach(t=>this.context.transport.clear(t)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease,this.context.transport.off("stop",this._syncedRelease),this.context.transport.off("pause",this._syncedRelease),this.context.transport.off("loopEnd",this._syncedRelease)),this}triggerAttackRelease(t,s,a,l){const u=this.toSeconds(a),f=this.toSeconds(s);return this.triggerAttack(t,u,l),this.triggerRelease(u+f),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class Ve extends zn{constructor(){const t=W(Ve.getDefaults(),arguments);super(t),this.portamento=t.portamento,this.onsilence=t.onsilence}static getDefaults(){return Object.assign(zn.getDefaults(),{detune:0,onsilence:Dt,portamento:0})}triggerAttack(t,s,a=1){this.log("triggerAttack",t,s,a);const l=this.toSeconds(s);return this._triggerEnvelopeAttack(l,a),this.setNote(t,l),this}triggerRelease(t){this.log("triggerRelease",t);const s=this.toSeconds(t);return this._triggerEnvelopeRelease(s),this}setNote(t,s){const a=this.toSeconds(s),l=t instanceof Pe?t.toFrequency():t;if(this.portamento>0&&this.getLevelAtTime(a)>.05){const u=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(l,u,a)}else this.frequency.setValueAtTime(l,a);return this}}Zn([qs(0)],Ve.prototype,"portamento",void 0);class ur extends Ue{constructor(){super(W(ur.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new dt({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class Hn extends Ve{constructor(){const t=W(Hn.getDefaults(),arguments);super(t),this.name="Synth",this.oscillator=new Ms(Object.assign({context:this.context,detune:t.detune,onstop:()=>this.onsilence(this)},t.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new ur(Object.assign({context:this.context},t.envelope)),this.oscillator.chain(this.envelope,this.output),gt(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(Ve.getDefaults(),{envelope:Object.assign(ze(Ue.getDefaults(),Object.keys($.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(ze(Ms.getDefaults(),[...Object.keys(le.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(t,s){if(this.envelope.triggerAttack(t,s),this.oscillator.start(t),this.envelope.sustain===0){const a=this.toSeconds(this.envelope.attack),l=this.toSeconds(this.envelope.decay);this.oscillator.stop(t+a+l)}}_triggerEnvelopeRelease(t){this.envelope.triggerRelease(t),this.oscillator.stop(t+this.toSeconds(this.envelope.release))}getLevelAtTime(t){return t=this.toSeconds(t),this.envelope.getValueAtTime(t)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class vo extends Ve{constructor(){const t=W(vo.getDefaults(),arguments);super(t),this.name="ModulationSynth",this._carrier=new Hn({context:this.context,oscillator:t.oscillator,envelope:t.envelope,onsilence:()=>this.onsilence(this),volume:-10}),this._modulator=new Hn({context:this.context,oscillator:t.modulation,envelope:t.modulationEnvelope,volume:-10}),this.oscillator=this._carrier.oscillator,this.envelope=this._carrier.envelope,this.modulation=this._modulator.oscillator,this.modulationEnvelope=this._modulator.envelope,this.frequency=new vt({context:this.context,units:"frequency"}),this.detune=new vt({context:this.context,value:t.detune,units:"cents"}),this.harmonicity=new ne({context:this.context,value:t.harmonicity,minValue:0}),this._modulationNode=new dt({context:this.context,gain:0}),gt(this,["frequency","harmonicity","oscillator","envelope","modulation","modulationEnvelope","detune"])}static getDefaults(){return Object.assign(Ve.getDefaults(),{harmonicity:3,oscillator:Object.assign(ze(Ms.getDefaults(),[...Object.keys(le.getDefaults()),"frequency","detune"]),{type:"sine"}),envelope:Object.assign(ze(Ue.getDefaults(),Object.keys($.getDefaults())),{attack:.01,decay:.01,sustain:1,release:.5}),modulation:Object.assign(ze(Ms.getDefaults(),[...Object.keys(le.getDefaults()),"frequency","detune"]),{type:"square"}),modulationEnvelope:Object.assign(ze(Ue.getDefaults(),Object.keys($.getDefaults())),{attack:.5,decay:0,sustain:1,release:.5})})}_triggerEnvelopeAttack(t,s){this._carrier._triggerEnvelopeAttack(t,s),this._modulator._triggerEnvelopeAttack(t,s)}_triggerEnvelopeRelease(t){return this._carrier._triggerEnvelopeRelease(t),this._modulator._triggerEnvelopeRelease(t),this}getLevelAtTime(t){return t=this.toSeconds(t),this.envelope.getValueAtTime(t)}dispose(){return super.dispose(),this._carrier.dispose(),this._modulator.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._modulationNode.dispose(),this}}class rd extends vo{constructor(){super(W(rd.getDefaults(),arguments)),this.name="AMSynth",this._modulationScale=new Vc({context:this.context}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output)}dispose(){return super.dispose(),this._modulationScale.dispose(),this}}class bo extends ${constructor(){const t=W(bo.getDefaults(),arguments,["frequency","type"]);super(t),this.name="BiquadFilter",this._filter=this.context.createBiquadFilter(),this.input=this.output=this._filter,this.Q=new Tt({context:this.context,units:"number",value:t.Q,param:this._filter.Q}),this.frequency=new Tt({context:this.context,units:"frequency",value:t.frequency,param:this._filter.frequency}),this.detune=new Tt({context:this.context,units:"cents",value:t.detune,param:this._filter.detune}),this.gain=new Tt({context:this.context,units:"decibels",convert:!1,value:t.gain,param:this._filter.gain}),this.type=t.type}static getDefaults(){return Object.assign($.getDefaults(),{Q:1,type:"lowpass",frequency:350,detune:0,gain:0})}get type(){return this._filter.type}set type(t){pt(["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(t)!==-1,`Invalid filter type: ${t}`),this._filter.type=t}getFrequencyResponse(t=128){const s=new Float32Array(t);for(let f=0;f<t;f++){const p=Math.pow(f/t,2)*19980+20;s[f]=p}const a=new Float32Array(t),l=new Float32Array(t),u=this.context.createBiquadFilter();return u.type=this.type,u.Q.value=this.Q.value,u.frequency.value=this.frequency.value,u.gain.value=this.gain.value,u.getFrequencyResponse(s,a,l),a}dispose(){return super.dispose(),this._filter.disconnect(),this.Q.dispose(),this.frequency.dispose(),this.gain.dispose(),this.detune.dispose(),this}}class gn extends ${constructor(){const t=W(gn.getDefaults(),arguments,["frequency","type","rolloff"]);super(t),this.name="Filter",this.input=new dt({context:this.context}),this.output=new dt({context:this.context}),this._filters=[],this._filters=[],this.Q=new vt({context:this.context,units:"positive",value:t.Q}),this.frequency=new vt({context:this.context,units:"frequency",value:t.frequency}),this.detune=new vt({context:this.context,units:"cents",value:t.detune}),this.gain=new vt({context:this.context,units:"decibels",convert:!1,value:t.gain}),this._type=t.type,this.rolloff=t.rolloff,gt(this,["detune","frequency","gain","Q"])}static getDefaults(){return Object.assign($.getDefaults(),{Q:1,detune:0,frequency:350,gain:0,rolloff:-12,type:"lowpass"})}get type(){return this._type}set type(t){pt(["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(t)!==-1,`Invalid filter type: ${t}`),this._type=t,this._filters.forEach(a=>a.type=t)}get rolloff(){return this._rolloff}set rolloff(t){const s=bn(t)?t:parseInt(t,10),a=[-12,-24,-48,-96];let l=a.indexOf(s);pt(l!==-1,`rolloff can only be ${a.join(", ")}`),l+=1,this._rolloff=s,this.input.disconnect(),this._filters.forEach(u=>u.disconnect()),this._filters=new Array(l);for(let u=0;u<l;u++){const f=new bo({context:this.context});f.type=this._type,this.frequency.connect(f.frequency),this.detune.connect(f.detune),this.Q.connect(f.Q),this.gain.connect(f.gain),this._filters[u]=f}this._internalChannels=this._filters,xn(this.input,...this._internalChannels,this.output)}getFrequencyResponse(t=128){const s=new bo({context:this.context,frequency:this.frequency.value,gain:this.gain.value,Q:this.Q.value,type:this._type,detune:this.detune.value}),a=new Float32Array(t).map(()=>1);return this._filters.forEach(()=>{s.getFrequencyResponse(t).forEach((u,f)=>a[f]*=u)}),s.dispose(),a}dispose(){return super.dispose(),this._filters.forEach(t=>{t.dispose()}),Mo(this,["detune","frequency","gain","Q"]),this.frequency.dispose(),this.Q.dispose(),this.detune.dispose(),this.gain.dispose(),this}}class xo extends Ue{constructor(){const t=W(xo.getDefaults(),arguments,["attack","decay","sustain","release"]);super(t),this.name="FrequencyEnvelope",this._octaves=t.octaves,this._baseFrequency=this.toFrequency(t.baseFrequency),this._exponent=this.input=new or({context:this.context,value:t.exponent}),this._scale=this.output=new Rs({context:this.context,min:this._baseFrequency,max:this._baseFrequency*Math.pow(2,this._octaves)}),this._sig.chain(this._exponent,this._scale)}static getDefaults(){return Object.assign(Ue.getDefaults(),{baseFrequency:200,exponent:1,octaves:4})}get baseFrequency(){return this._baseFrequency}set baseFrequency(t){const s=this.toFrequency(t);ve(s,0),this._baseFrequency=s,this._scale.min=this._baseFrequency,this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(t){this._octaves=t,this._scale.max=this._baseFrequency*Math.pow(2,t)}get exponent(){return this._exponent.value}set exponent(t){this._exponent.value=t}dispose(){return super.dispose(),this._exponent.dispose(),this._scale.dispose(),this}}class li extends Ve{constructor(){const t=W(li.getDefaults(),arguments);super(t),this.name="MonoSynth",this.oscillator=new Ms(Object.assign(t.oscillator,{context:this.context,detune:t.detune,onstop:()=>this.onsilence(this)})),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.filter=new gn(Object.assign(t.filter,{context:this.context})),this.filterEnvelope=new xo(Object.assign(t.filterEnvelope,{context:this.context})),this.envelope=new ur(Object.assign(t.envelope,{context:this.context})),this.oscillator.chain(this.filter,this.envelope,this.output),this.filterEnvelope.connect(this.filter.frequency),gt(this,["oscillator","frequency","detune","filter","filterEnvelope","envelope"])}static getDefaults(){return Object.assign(Ve.getDefaults(),{envelope:Object.assign(ze(Ue.getDefaults(),Object.keys($.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.9}),filter:Object.assign(ze(gn.getDefaults(),Object.keys($.getDefaults())),{Q:1,rolloff:-12,type:"lowpass"}),filterEnvelope:Object.assign(ze(xo.getDefaults(),Object.keys($.getDefaults())),{attack:.6,baseFrequency:200,decay:.2,exponent:2,octaves:3,release:2,sustain:.5}),oscillator:Object.assign(ze(Ms.getDefaults(),Object.keys(le.getDefaults())),{type:"sawtooth"})})}_triggerEnvelopeAttack(t,s=1){if(this.envelope.triggerAttack(t,s),this.filterEnvelope.triggerAttack(t),this.oscillator.start(t),this.envelope.sustain===0){const a=this.toSeconds(this.envelope.attack),l=this.toSeconds(this.envelope.decay);this.oscillator.stop(t+a+l)}}_triggerEnvelopeRelease(t){this.envelope.triggerRelease(t),this.filterEnvelope.triggerRelease(t),this.oscillator.stop(t+this.toSeconds(this.envelope.release))}getLevelAtTime(t){return t=this.toSeconds(t),this.envelope.getValueAtTime(t)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this.filterEnvelope.dispose(),this.filter.dispose(),this}}class od extends Ve{constructor(){const t=W(od.getDefaults(),arguments);super(t),this.name="DuoSynth",this.voice0=new li(Object.assign(t.voice0,{context:this.context,onsilence:()=>this.onsilence(this)})),this.voice1=new li(Object.assign(t.voice1,{context:this.context})),this.harmonicity=new ne({context:this.context,units:"positive",value:t.harmonicity}),this._vibrato=new Ke({frequency:t.vibratoRate,context:this.context,min:-50,max:50}),this._vibrato.start(),this.vibratoRate=this._vibrato.frequency,this._vibratoGain=new dt({context:this.context,units:"normalRange",gain:t.vibratoAmount}),this.vibratoAmount=this._vibratoGain.gain,this.frequency=new vt({context:this.context,units:"frequency",value:440}),this.detune=new vt({context:this.context,units:"cents",value:t.detune}),this.frequency.connect(this.voice0.frequency),this.frequency.chain(this.harmonicity,this.voice1.frequency),this._vibrato.connect(this._vibratoGain),this._vibratoGain.fan(this.voice0.detune,this.voice1.detune),this.detune.fan(this.voice0.detune,this.voice1.detune),this.voice0.connect(this.output),this.voice1.connect(this.output),gt(this,["voice0","voice1","frequency","vibratoAmount","vibratoRate"])}getLevelAtTime(t){return t=this.toSeconds(t),this.voice0.envelope.getValueAtTime(t)+this.voice1.envelope.getValueAtTime(t)}static getDefaults(){return kn(Ve.getDefaults(),{vibratoAmount:.5,vibratoRate:5,harmonicity:1.5,voice0:kn(ze(li.getDefaults(),Object.keys(Ve.getDefaults())),{filterEnvelope:{attack:.01,decay:0,sustain:1,release:.5},envelope:{attack:.01,decay:0,sustain:1,release:.5}}),voice1:kn(ze(li.getDefaults(),Object.keys(Ve.getDefaults())),{filterEnvelope:{attack:.01,decay:0,sustain:1,release:.5},envelope:{attack:.01,decay:0,sustain:1,release:.5}})})}_triggerEnvelopeAttack(t,s){this.voice0._triggerEnvelopeAttack(t,s),this.voice1._triggerEnvelopeAttack(t,s)}_triggerEnvelopeRelease(t){return this.voice0._triggerEnvelopeRelease(t),this.voice1._triggerEnvelopeRelease(t),this}dispose(){return super.dispose(),this.voice0.dispose(),this.voice1.dispose(),this.frequency.dispose(),this.detune.dispose(),this._vibrato.dispose(),this.vibratoRate.dispose(),this._vibratoGain.dispose(),this.harmonicity.dispose(),this}}class ld extends vo{constructor(){const t=W(ld.getDefaults(),arguments);super(t),this.name="FMSynth",this.modulationIndex=new ne({context:this.context,value:t.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output)}static getDefaults(){return Object.assign(vo.getDefaults(),{modulationIndex:10})}dispose(){return super.dispose(),this.modulationIndex.dispose(),this}}const _y=[1,1.483,1.932,2.546,2.63,3.897];class cd extends Ve{constructor(){const t=W(cd.getDefaults(),arguments);super(t),this.name="MetalSynth",this._oscillators=[],this._freqMultipliers=[],this.detune=new vt({context:this.context,units:"cents",value:t.detune}),this.frequency=new vt({context:this.context,units:"frequency"}),this._amplitude=new dt({context:this.context,gain:0}).connect(this.output),this._highpass=new gn({Q:0,context:this.context,type:"highpass"}).connect(this._amplitude);for(let s=0;s<_y.length;s++){const a=new lr({context:this.context,harmonicity:t.harmonicity,modulationIndex:t.modulationIndex,modulationType:"square",onstop:s===0?()=>this.onsilence(this):Dt,type:"square"});a.connect(this._highpass),this._oscillators[s]=a;const l=new ne({context:this.context,value:_y[s]});this._freqMultipliers[s]=l,this.frequency.chain(l,a.frequency),this.detune.connect(a.detune)}this._filterFreqScaler=new Rs({context:this.context,max:7e3,min:this.toFrequency(t.resonance)}),this.envelope=new Ue({attack:t.envelope.attack,attackCurve:"linear",context:this.context,decay:t.envelope.decay,release:t.envelope.release,sustain:0}),this.envelope.chain(this._filterFreqScaler,this._highpass.frequency),this.envelope.connect(this._amplitude.gain),this._octaves=t.octaves,this.octaves=t.octaves}static getDefaults(){return kn(Ve.getDefaults(),{envelope:Object.assign(ze(Ue.getDefaults(),Object.keys($.getDefaults())),{attack:.001,decay:1.4,release:.2}),harmonicity:5.1,modulationIndex:32,octaves:1.5,resonance:4e3})}_triggerEnvelopeAttack(t,s=1){return this.envelope.triggerAttack(t,s),this._oscillators.forEach(a=>a.start(t)),this.envelope.sustain===0&&this._oscillators.forEach(a=>{a.stop(t+this.toSeconds(this.envelope.attack)+this.toSeconds(this.envelope.decay))}),this}_triggerEnvelopeRelease(t){return this.envelope.triggerRelease(t),this._oscillators.forEach(s=>s.stop(t+this.toSeconds(this.envelope.release))),this}getLevelAtTime(t){return t=this.toSeconds(t),this.envelope.getValueAtTime(t)}get modulationIndex(){return this._oscillators[0].modulationIndex.value}set modulationIndex(t){this._oscillators.forEach(s=>s.modulationIndex.value=t)}get harmonicity(){return this._oscillators[0].harmonicity.value}set harmonicity(t){this._oscillators.forEach(s=>s.harmonicity.value=t)}get resonance(){return this._filterFreqScaler.min}set resonance(t){this._filterFreqScaler.min=this.toFrequency(t),this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(t){this._octaves=t,this._filterFreqScaler.max=this._filterFreqScaler.min*Math.pow(2,t)}dispose(){return super.dispose(),this._oscillators.forEach(t=>t.dispose()),this._freqMultipliers.forEach(t=>t.dispose()),this.frequency.dispose(),this.detune.dispose(),this._filterFreqScaler.dispose(),this._amplitude.dispose(),this.envelope.dispose(),this._highpass.dispose(),this}}class jo extends Hn{constructor(){const t=W(jo.getDefaults(),arguments);super(t),this.name="MembraneSynth",this.portamento=0,this.pitchDecay=t.pitchDecay,this.octaves=t.octaves,gt(this,["oscillator","envelope"])}static getDefaults(){return kn(Ve.getDefaults(),Hn.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(t,s){const a=this.toSeconds(s),l=this.toFrequency(t instanceof Pe?t.toFrequency():t),u=l*this.octaves;return this.oscillator.frequency.setValueAtTime(u,a),this.oscillator.frequency.exponentialRampToValueAtTime(l,a+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}Zn([Ov(0)],jo.prototype,"octaves",void 0);Zn([qs(0)],jo.prototype,"pitchDecay",void 0);class ud extends zn{constructor(){const t=W(ud.getDefaults(),arguments);super(t),this.name="NoiseSynth",this.noise=new fi(Object.assign({context:this.context},t.noise)),this.envelope=new ur(Object.assign({context:this.context},t.envelope)),this.noise.chain(this.envelope,this.output)}static getDefaults(){return Object.assign(zn.getDefaults(),{envelope:Object.assign(ze(Ue.getDefaults(),Object.keys($.getDefaults())),{decay:.1,sustain:0}),noise:Object.assign(ze(fi.getDefaults(),Object.keys(le.getDefaults())),{type:"white"})})}triggerAttack(t,s=1){return t=this.toSeconds(t),this.envelope.triggerAttack(t,s),this.noise.start(t),this.envelope.sustain===0&&this.noise.stop(t+this.toSeconds(this.envelope.attack)+this.toSeconds(this.envelope.decay)),this}triggerRelease(t){return t=this.toSeconds(t),this.envelope.triggerRelease(t),this.noise.stop(t+this.toSeconds(this.envelope.release)),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",0),this._syncMethod("triggerRelease",0)),this}triggerAttackRelease(t,s,a=1){return s=this.toSeconds(s),t=this.toSeconds(t),this.triggerAttack(s,a),this.triggerRelease(s+t),this}dispose(){return super.dispose(),this.noise.dispose(),this.envelope.dispose(),this}}const hd=new Set;function fd(o){hd.add(o)}function Nv(o,t){const s=`registerProcessor("${o}", ${t})`;hd.add(s)}function y2(){return Array.from(hd).join(`
`)}class Sf extends ${constructor(t){super(t),this.name="ToneAudioWorklet",this.workletOptions={},this.onprocessorerror=Dt;const s=URL.createObjectURL(new Blob([y2()],{type:"text/javascript"})),a=this._audioWorkletName();this._dummyGain=this.context.createGain(),this._dummyParam=this._dummyGain.gain,this.context.addAudioWorkletModule(s).then(()=>{this.disposed||(this._worklet=this.context.createAudioWorkletNode(a,this.workletOptions),this._worklet.onprocessorerror=this.onprocessorerror.bind(this),this.onReady(this._worklet))})}dispose(){return super.dispose(),this._dummyGain.disconnect(),this._worklet&&(this._worklet.port.postMessage("dispose"),this._worklet.disconnect()),this}}const v2=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the {@link ToneAudioWorklet}. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;fd(v2);const b2=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;fd(b2);const x2=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;fd(x2);const kv="feedback-comb-filter",S2=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;Nv(kv,S2);class Uo extends Sf{constructor(){const t=W(Uo.getDefaults(),arguments,["delayTime","resonance"]);super(t),this.name="FeedbackCombFilter",this.input=new dt({context:this.context}),this.output=new dt({context:this.context}),this.delayTime=new Tt({context:this.context,value:t.delayTime,units:"time",minValue:0,maxValue:1,param:this._dummyParam,swappable:!0}),this.resonance=new Tt({context:this.context,value:t.resonance,units:"normalRange",param:this._dummyParam,swappable:!0}),gt(this,["resonance","delayTime"])}_audioWorkletName(){return kv}static getDefaults(){return Object.assign($.getDefaults(),{delayTime:.1,resonance:.5})}onReady(t){xn(this.input,t,this.output);const s=t.parameters.get("delayTime");this.delayTime.setParam(s);const a=t.parameters.get("feedback");this.resonance.setParam(a)}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this.delayTime.dispose(),this.resonance.dispose(),this}}class Bo extends ${constructor(){const t=W(Bo.getDefaults(),arguments,["frequency","type"]);super(t),this.name="OnePoleFilter",this._frequency=t.frequency,this._type=t.type,this.input=new dt({context:this.context}),this.output=new dt({context:this.context}),this._createFilter()}static getDefaults(){return Object.assign($.getDefaults(),{frequency:880,type:"lowpass"})}_createFilter(){const t=this._filter,s=this.toFrequency(this._frequency),a=1/(2*Math.PI*s);if(this._type==="lowpass"){const l=1/(a*this.context.sampleRate),u=l-1;this._filter=this.context.createIIRFilter([l,0],[1,u])}else{const l=1/(a*this.context.sampleRate)-1;this._filter=this.context.createIIRFilter([1,-1],[1,l])}this.input.chain(this._filter,this.output),t&&this.context.setTimeout(()=>{this.disposed||(this.input.disconnect(t),t.disconnect())},this.blockTime)}get frequency(){return this._frequency}set frequency(t){this._frequency=t,this._createFilter()}get type(){return this._type}set type(t){this._type=t,this._createFilter()}getFrequencyResponse(t=128){const s=new Float32Array(t);for(let u=0;u<t;u++){const d=Math.pow(u/t,2)*19980+20;s[u]=d}const a=new Float32Array(t),l=new Float32Array(t);return this._filter.getFrequencyResponse(s,a,l),a}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this._filter.disconnect(),this}}class Lo extends ${constructor(){const t=W(Lo.getDefaults(),arguments,["delayTime","resonance","dampening"]);super(t),this.name="LowpassCombFilter",this._combFilter=this.output=new Uo({context:this.context,delayTime:t.delayTime,resonance:t.resonance}),this.delayTime=this._combFilter.delayTime,this.resonance=this._combFilter.resonance,this._lowpass=this.input=new Bo({context:this.context,frequency:t.dampening,type:"lowpass"}),this._lowpass.connect(this._combFilter)}static getDefaults(){return Object.assign($.getDefaults(),{dampening:3e3,delayTime:.1,resonance:.5})}get dampening(){return this._lowpass.frequency}set dampening(t){this._lowpass.frequency=t}dispose(){return super.dispose(),this._combFilter.dispose(),this._lowpass.dispose(),this}}class dd extends zn{constructor(){const t=W(dd.getDefaults(),arguments);super(t),this.name="PluckSynth",this._noise=new fi({context:this.context,type:"pink"}),this.attackNoise=t.attackNoise,this._lfcf=new Lo({context:this.context,dampening:t.dampening,resonance:t.resonance}),this.resonance=t.resonance,this.release=t.release,this._noise.connect(this._lfcf),this._lfcf.connect(this.output)}static getDefaults(){return kn(zn.getDefaults(),{attackNoise:1,dampening:4e3,resonance:.7,release:1})}get dampening(){return this._lfcf.dampening}set dampening(t){this._lfcf.dampening=t}triggerAttack(t,s){const a=this.toFrequency(t);s=this.toSeconds(s);const l=1/a;return this._lfcf.delayTime.setValueAtTime(l,s),this._noise.start(s),this._noise.stop(s+l*this.attackNoise),this._lfcf.resonance.cancelScheduledValues(s),this._lfcf.resonance.setValueAtTime(this.resonance,s),this}triggerRelease(t){return this._lfcf.resonance.linearRampTo(0,this.release,t),this}dispose(){return super.dispose(),this._noise.dispose(),this._lfcf.dispose(),this}}class pd extends zn{constructor(){const t=W(pd.getDefaults(),arguments,["voice","options"]);super(t),this.name="PolySynth",this._availableVoices=[],this._activeVoices=[],this._voices=[],this._gcTimeout=-1,this._averageActiveVoices=0,this._syncedRelease=l=>this.releaseAll(l),pt(!bn(t.voice),"DEPRECATED: The polyphony count is no longer the first argument.");const s=t.voice.getDefaults();this.options=Object.assign(s,t.options),this.voice=t.voice,this.maxPolyphony=t.maxPolyphony,this._dummyVoice=this._getNextAvailableVoice();const a=this._voices.indexOf(this._dummyVoice);this._voices.splice(a,1),this._gcTimeout=this.context.setInterval(this._collectGarbage.bind(this),1)}static getDefaults(){return Object.assign(zn.getDefaults(),{maxPolyphony:32,options:{},voice:Hn})}get activeVoices(){return this._activeVoices.length}_makeVoiceAvailable(t){this._availableVoices.push(t);const s=this._activeVoices.findIndex(a=>a.voice===t);this._activeVoices.splice(s,1)}_getNextAvailableVoice(){if(this._availableVoices.length)return this._availableVoices.shift();if(this._voices.length<this.maxPolyphony){const t=new this.voice(Object.assign(this.options,{context:this.context,onsilence:this._makeVoiceAvailable.bind(this)}));return pt(t instanceof Ve,"Voice must extend Monophonic class"),t.connect(this.output),this._voices.push(t),t}else tr("Max polyphony exceeded. Note dropped.")}_collectGarbage(){if(this._averageActiveVoices=Math.max(this._averageActiveVoices*.95,this.activeVoices),this._availableVoices.length&&this._voices.length>Math.ceil(this._averageActiveVoices+1)){const t=this._availableVoices.shift(),s=this._voices.indexOf(t);this._voices.splice(s,1),this.context.isOffline||t.dispose()}}_triggerAttack(t,s,a){t.forEach(l=>{const u=new Qa(this.context,l).toMidi(),f=this._getNextAvailableVoice();f&&(f.triggerAttack(l,s,a),this._activeVoices.push({midi:u,voice:f,released:!1}),this.log("triggerAttack",l,s))})}_triggerRelease(t,s){t.forEach(a=>{const l=new Qa(this.context,a).toMidi(),u=this._activeVoices.find(({midi:f,released:d})=>f===l&&!d);u&&(u.voice.triggerRelease(s),u.released=!0,this.log("triggerRelease",a,s))})}_scheduleEvent(t,s,a,l){pt(!this.disposed,"Synth was already disposed"),a<=this.now()?t==="attack"?this._triggerAttack(s,a,l):this._triggerRelease(s,a):this.context.setTimeout(()=>{this.disposed||this._scheduleEvent(t,s,a,l)},a-this.now())}triggerAttack(t,s,a){Array.isArray(t)||(t=[t]);const l=this.toSeconds(s);return this._scheduleEvent("attack",t,l,a),this}triggerRelease(t,s){Array.isArray(t)||(t=[t]);const a=this.toSeconds(s);return this._scheduleEvent("release",t,a),this}triggerAttackRelease(t,s,a,l){const u=this.toSeconds(a);if(this.triggerAttack(t,u,l),je(s)){pt(je(t),"If the duration is an array, the notes must also be an array"),t=t;for(let f=0;f<t.length;f++){const d=s[Math.min(f,s.length-1)],p=this.toSeconds(d);pt(p>0,"The duration must be greater than 0"),this.triggerRelease(t[f],u+p)}}else{const f=this.toSeconds(s);pt(f>0,"The duration must be greater than 0"),this.triggerRelease(t,u+f)}return this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}set(t){const s=ze(t,["onsilence","context"]);return this.options=kn(this.options,s),this._voices.forEach(a=>a.set(s)),this._dummyVoice.set(s),this}get(){return this._dummyVoice.get()}releaseAll(t){const s=this.toSeconds(t);return this._activeVoices.forEach(({voice:a})=>{a.triggerRelease(s)}),this}dispose(){return super.dispose(),this._dummyVoice.dispose(),this._voices.forEach(t=>t.dispose()),this._activeVoices=[],this._availableVoices=[],this.context.clearInterval(this._gcTimeout),this}}class Fo extends zn{constructor(){const t=W(Fo.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");super(t),this.name="Sampler",this._activeSources=new Map;const s={};Object.keys(t.urls).forEach(a=>{const l=parseInt(a,10);if(pt(fo(a)||bn(l)&&isFinite(l),`url key is neither a note or midi pitch: ${a}`),fo(a)){const u=new Pe(this.context,a).toMidi();s[u]=t.urls[a]}else bn(l)&&isFinite(l)&&(s[l]=t.urls[l])}),this._buffers=new rr({urls:s,onload:t.onload,baseUrl:t.baseUrl,onerror:t.onerror}),this.attack=t.attack,this.release=t.release,this.curve=t.curve,this._buffers.loaded&&Promise.resolve().then(t.onload)}static getDefaults(){return Object.assign(zn.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:Dt,onerror:Dt,release:.1,urls:{}})}_findClosest(t){let a=0;for(;a<96;){if(this._buffers.has(t+a))return-a;if(this._buffers.has(t-a))return a;a++}throw new Error(`No available buffers for note: ${t}`)}triggerAttack(t,s,a=1){return this.log("triggerAttack",t,s,a),Array.isArray(t)||(t=[t]),t.forEach(l=>{const u=Dv(new Pe(this.context,l).toFrequency()),f=Math.round(u),d=u-f,p=this._findClosest(f),m=f-p,_=this._buffers.get(m),y=Ya(p+d),x=new _i({url:_,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:y}).connect(this.output);x.start(s,0,_.duration/y,a),je(this._activeSources.get(f))||this._activeSources.set(f,[]),this._activeSources.get(f).push(x),x.onended=()=>{if(this._activeSources&&this._activeSources.has(f)){const b=this._activeSources.get(f),S=b.indexOf(x);S!==-1&&b.splice(S,1)}}}),this}triggerRelease(t,s){return this.log("triggerRelease",t,s),Array.isArray(t)||(t=[t]),t.forEach(a=>{const l=new Pe(this.context,a).toMidi();if(this._activeSources.has(l)&&this._activeSources.get(l).length){const u=this._activeSources.get(l);s=this.toSeconds(s),u.forEach(f=>{f.stop(s)}),this._activeSources.set(l,[])}}),this}releaseAll(t){const s=this.toSeconds(t);return this._activeSources.forEach(a=>{for(;a.length;)a.shift().stop(s)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(t,s,a,l=1){const u=this.toSeconds(a);return this.triggerAttack(t,u,l),je(s)?(pt(je(t),"notes must be an array when duration is array"),t.forEach((f,d)=>{const p=s[Math.min(d,s.length-1)];this.triggerRelease(f,u+this.toSeconds(p))})):this.triggerRelease(t,u+this.toSeconds(s)),this}add(t,s,a){if(pt(fo(t)||isFinite(t),`note must be a pitch or midi: ${t}`),fo(t)){const l=new Pe(this.context,t).toMidi();this._buffers.add(l,s,a)}else this._buffers.add(t,s,a);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(t=>{t.forEach(s=>s.dispose())}),this._activeSources.clear(),this}}Zn([qs(0)],Fo.prototype,"attack",void 0);Zn([qs(0)],Fo.prototype,"release",void 0);class is extends Oe{constructor(){const t=W(is.getDefaults(),arguments,["callback","value"]);super(t),this.name="ToneEvent",this._state=new ir("stopped"),this._startOffset=0,this._loop=t.loop,this.callback=t.callback,this.value=t.value,this._loopStart=this.toTicks(t.loopStart),this._loopEnd=this.toTicks(t.loopEnd),this._playbackRate=t.playbackRate,this._probability=t.probability,this._humanize=t.humanize,this.mute=t.mute,this._playbackRate=t.playbackRate,this._state.increasing=!0,this._rescheduleEvents()}static getDefaults(){return Object.assign(Oe.getDefaults(),{callback:Dt,humanize:!1,loop:!1,loopEnd:"1m",loopStart:0,mute:!1,playbackRate:1,probability:1,value:null})}_rescheduleEvents(t=-1){this._state.forEachFrom(t,s=>{let a;if(s.state==="started"){s.id!==-1&&this.context.transport.clear(s.id);const l=s.time+Math.round(this.startOffset/this._playbackRate);if(this._loop===!0||bn(this._loop)&&this._loop>1){a=1/0,bn(this._loop)&&(a=this._loop*this._getLoopDuration());const u=this._state.getAfter(l);u!==null&&(a=Math.min(a,u.time-l)),a!==1/0&&(a=new te(this.context,a));const f=new te(this.context,this._getLoopDuration());s.id=this.context.transport.scheduleRepeat(this._tick.bind(this),f,new te(this.context,l),a)}else s.id=this.context.transport.schedule(this._tick.bind(this),new te(this.context,l))}})}get state(){return this._state.getValueAtTime(this.context.transport.ticks)}get startOffset(){return this._startOffset}set startOffset(t){this._startOffset=t}get probability(){return this._probability}set probability(t){this._probability=t}get humanize(){return this._humanize}set humanize(t){this._humanize=t}start(t){const s=this.toTicks(t);return this._state.getValueAtTime(s)==="stopped"&&(this._state.add({id:-1,state:"started",time:s}),this._rescheduleEvents(s)),this}stop(t){this.cancel(t);const s=this.toTicks(t);if(this._state.getValueAtTime(s)==="started"){this._state.setStateAtTime("stopped",s,{id:-1});const a=this._state.getBefore(s);let l=s;a!==null&&(l=a.time),this._rescheduleEvents(l)}return this}cancel(t){t=qn(t,-1/0);const s=this.toTicks(t);return this._state.forEachFrom(s,a=>{this.context.transport.clear(a.id)}),this._state.cancel(s),this}_tick(t){const s=this.context.transport.getTicksAtTime(t);if(!this.mute&&this._state.getValueAtTime(s)==="started"){if(this.probability<1&&Math.random()>this.probability)return;if(this.humanize){let a=.02;If(this.humanize)||(a=this.toSeconds(this.humanize)),t+=(Math.random()*2-1)*a}this.callback(t,this.value)}}_getLoopDuration(){return(this._loopEnd-this._loopStart)/this._playbackRate}get loop(){return this._loop}set loop(t){this._loop=t,this._rescheduleEvents()}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t,this._rescheduleEvents()}get loopEnd(){return new te(this.context,this._loopEnd).toSeconds()}set loopEnd(t){this._loopEnd=this.toTicks(t),this._loop&&this._rescheduleEvents()}get loopStart(){return new te(this.context,this._loopStart).toSeconds()}set loopStart(t){this._loopStart=this.toTicks(t),this._loop&&this._rescheduleEvents()}get progress(){if(this._loop){const t=this.context.transport.ticks,s=this._state.get(t);if(s!==null&&s.state==="started"){const a=this._getLoopDuration();return(t-s.time)%a/a}else return 0}else return 0}dispose(){return super.dispose(),this.cancel(),this._state.dispose(),this}}class Za extends Oe{constructor(){const t=W(Za.getDefaults(),arguments,["callback","interval"]);super(t),this.name="Loop",this._event=new is({context:this.context,callback:this._tick.bind(this),loop:!0,loopEnd:t.interval,playbackRate:t.playbackRate,probability:t.probability,humanize:t.humanize}),this.callback=t.callback,this.iterations=t.iterations}static getDefaults(){return Object.assign(Oe.getDefaults(),{interval:"4n",callback:Dt,playbackRate:1,iterations:1/0,probability:1,mute:!1,humanize:!1})}start(t){return this._event.start(t),this}stop(t){return this._event.stop(t),this}cancel(t){return this._event.cancel(t),this}_tick(t){this.callback(t)}get state(){return this._event.state}get progress(){return this._event.progress}get interval(){return this._event.loopEnd}set interval(t){this._event.loopEnd=t}get playbackRate(){return this._event.playbackRate}set playbackRate(t){this._event.playbackRate=t}get humanize(){return this._event.humanize}set humanize(t){this._event.humanize=t}get probability(){return this._event.probability}set probability(t){this._event.probability=t}get mute(){return this._event.mute}set mute(t){this._event.mute=t}get iterations(){return this._event.loop===!0?1/0:this._event.loop}set iterations(t){t===1/0?this._event.loop=!0:this._event.loop=t}dispose(){return super.dispose(),this._event.dispose(),this}}class So extends is{constructor(){const t=W(So.getDefaults(),arguments,["callback","events"]);super(t),this.name="Part",this._state=new ir("stopped"),this._events=new Set,this._state.increasing=!0,t.events.forEach(s=>{je(s)?this.add(s[0],s[1]):this.add(s)})}static getDefaults(){return Object.assign(is.getDefaults(),{events:[]})}start(t,s){const a=this.toTicks(t);if(this._state.getValueAtTime(a)!=="started"){s=qn(s,this._loop?this._loopStart:0),this._loop?s=qn(s,this._loopStart):s=qn(s,0);const l=this.toTicks(s);this._state.add({id:-1,offset:l,state:"started",time:a}),this._forEach(u=>{this._startNote(u,a,l)})}return this}_startNote(t,s,a){s-=a,this._loop?t.startOffset>=this._loopStart&&t.startOffset<this._loopEnd?(t.startOffset<a&&(s+=this._getLoopDuration()),t.start(new te(this.context,s))):t.startOffset<this._loopStart&&t.startOffset>=a&&(t.loop=!1,t.start(new te(this.context,s))):t.startOffset>=a&&t.start(new te(this.context,s))}get startOffset(){return this._startOffset}set startOffset(t){this._startOffset=t,this._forEach(s=>{s.startOffset+=this._startOffset})}stop(t){const s=this.toTicks(t);return this._state.cancel(s),this._state.setStateAtTime("stopped",s),this._forEach(a=>{a.stop(t)}),this}at(t,s){const a=new _e(this.context,t).toTicks(),l=new te(this.context,1).toSeconds(),u=this._events.values();let f=u.next();for(;!f.done;){const d=f.value;if(Math.abs(a-d.startOffset)<l)return wt(s)&&(d.value=s),d;f=u.next()}return wt(s)?(this.add(t,s),this.at(t)):null}add(t,s){t instanceof Object&&Reflect.has(t,"time")&&(s=t,t=s.time);const a=this.toTicks(t);let l;return s instanceof is?(l=s,l.callback=this._tick.bind(this)):l=new is({callback:this._tick.bind(this),context:this.context,value:s}),l.startOffset=a,l.set({humanize:this.humanize,loop:this.loop,loopEnd:this.loopEnd,loopStart:this.loopStart,playbackRate:this.playbackRate,probability:this.probability}),this._events.add(l),this._restartEvent(l),this}_restartEvent(t){this._state.forEach(s=>{s.state==="started"?this._startNote(t,s.time,s.offset):t.stop(new te(this.context,s.time))})}remove(t,s){return Cs(t)&&t.hasOwnProperty("time")&&(s=t,t=s.time),t=this.toTicks(t),this._events.forEach(a=>{a.startOffset===t&&(on(s)||wt(s)&&a.value===s)&&(this._events.delete(a),a.dispose())}),this}clear(){return this._forEach(t=>t.dispose()),this._events.clear(),this}cancel(t){return this._forEach(s=>s.cancel(t)),this._state.cancel(this.toTicks(t)),this}_forEach(t){return this._events&&this._events.forEach(s=>{s instanceof So?s._forEach(t):t(s)}),this}_setAll(t,s){this._forEach(a=>{a[t]=s})}_tick(t,s){this.mute||this.callback(t,s)}_testLoopBoundries(t){this._loop&&(t.startOffset<this._loopStart||t.startOffset>=this._loopEnd)?t.cancel(0):t.state==="stopped"&&this._restartEvent(t)}get probability(){return this._probability}set probability(t){this._probability=t,this._setAll("probability",t)}get humanize(){return this._humanize}set humanize(t){this._humanize=t,this._setAll("humanize",t)}get loop(){return this._loop}set loop(t){this._loop=t,this._forEach(s=>{s.loopStart=this.loopStart,s.loopEnd=this.loopEnd,s.loop=t,this._testLoopBoundries(s)})}get loopEnd(){return new te(this.context,this._loopEnd).toSeconds()}set loopEnd(t){this._loopEnd=this.toTicks(t),this._loop&&this._forEach(s=>{s.loopEnd=t,this._testLoopBoundries(s)})}get loopStart(){return new te(this.context,this._loopStart).toSeconds()}set loopStart(t){this._loopStart=this.toTicks(t),this._loop&&this._forEach(s=>{s.loopStart=this.loopStart,this._testLoopBoundries(s)})}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t,this._setAll("playbackRate",t)}get length(){return this._events.size}dispose(){return super.dispose(),this.clear(),this}}function*T2(o){let t=0;for(;t<o;)t=Yi(t,0,o-1),yield t,t++}function*w2(o){let t=o-1;for(;t>=0;)t=Yi(t,0,o-1),yield t,t--}function*ho(o,t){for(;;)yield*t(o)}function*gy(o,t){let s=t?0:o-1;for(;;)s=Yi(s,0,o-1),yield s,t?(s++,s>=o-1&&(t=!1)):(s--,s<=0&&(t=!0))}function*A2(o){let t=0,s=0;for(;t<o;)t=Yi(t,0,o-1),yield t,s++,t+=s%2?2:-1}function*E2(o){let t=o-1,s=0;for(;t>=0;)t=Yi(t,0,o-1),yield t,s++,t+=s%2?-2:1}function*D2(o){for(;;)yield Math.floor(Math.random()*o)}function*C2(o){const t=[];for(let s=0;s<o;s++)t.push(s);for(;t.length>0;){const s=t.splice(Math.floor(t.length*Math.random()),1);yield Yi(s[0],0,o-1)}}function*O2(o){let t=Math.floor(Math.random()*o);for(;;)t===0?t++:t===o-1||Math.random()<.5?t--:t++,yield t}function*yy(o,t="up",s=0){switch(pt(o>=1,"The number of values must be at least one"),t){case"up":yield*ho(o,T2);case"down":yield*ho(o,w2);case"upDown":yield*gy(o,!0);case"downUp":yield*gy(o,!1);case"alternateUp":yield*ho(o,A2);case"alternateDown":yield*ho(o,E2);case"random":yield*D2(o);case"randomOnce":yield*ho(o,C2);case"randomWalk":yield*O2(o)}}class md extends Za{constructor(){const t=W(md.getDefaults(),arguments,["callback","values","pattern"]);super(t),this.name="Pattern",this.callback=t.callback,this._values=t.values,this._pattern=yy(t.values.length,t.pattern),this._type=t.pattern}static getDefaults(){return Object.assign(Za.getDefaults(),{pattern:"up",values:[],callback:Dt})}_tick(t){const s=this._pattern.next();this._index=s.value,this._value=this._values[s.value],this.callback(t,this._value)}get values(){return this._values}set values(t){this._values=t,this.pattern=this._type}get value(){return this._value}get index(){return this._index}get pattern(){return this._type}set pattern(t){this._type=t,this._pattern=yy(this._values.length,this._type)}}class _d extends is{constructor(){const t=W(_d.getDefaults(),arguments,["callback","events","subdivision"]);super(t),this.name="Sequence",this._part=new So({callback:this._seqCallback.bind(this),context:this.context}),this._events=[],this._eventsArray=[],this._subdivision=this.toTicks(t.subdivision),this.events=t.events,this.loop=t.loop,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd,this.playbackRate=t.playbackRate,this.probability=t.probability,this.humanize=t.humanize,this.mute=t.mute,this.playbackRate=t.playbackRate}static getDefaults(){return Object.assign(ze(is.getDefaults(),["value"]),{events:[],loop:!0,loopEnd:0,loopStart:0,subdivision:"8n"})}_seqCallback(t,s){s!==null&&!this.mute&&this.callback(t,s)}get events(){return this._events}set events(t){this.clear(),this._eventsArray=t,this._events=this._createSequence(this._eventsArray),this._eventsUpdated()}start(t,s){return this._part.start(t,s&&this._indexTime(s)),this}stop(t){return this._part.stop(t),this}get subdivision(){return new te(this.context,this._subdivision).toSeconds()}_createSequence(t){return new Proxy(t,{get:(s,a)=>s[a],set:(s,a,l)=>(Xn(a)&&isFinite(parseInt(a,10))&&je(l)?s[a]=this._createSequence(l):s[a]=l,this._eventsUpdated(),!0)})}_eventsUpdated(){this._part.clear(),this._rescheduleSequence(this._eventsArray,this._subdivision,this.startOffset),this.loopEnd=this.loopEnd}_rescheduleSequence(t,s,a){t.forEach((l,u)=>{const f=u*s+a;if(je(l))this._rescheduleSequence(l,s/l.length,f);else{const d=new te(this.context,f,"i").toSeconds();this._part.add(d,l)}})}_indexTime(t){return new te(this.context,t*this._subdivision+this.startOffset).toSeconds()}clear(){return this._part.clear(),this}dispose(){return super.dispose(),this._part.dispose(),this}get loop(){return this._part.loop}set loop(t){this._part.loop=t}get loopStart(){return this._loopStart}set loopStart(t){this._loopStart=t,this._part.loopStart=this._indexTime(t)}get loopEnd(){return this._loopEnd}set loopEnd(t){this._loopEnd=t,t===0?this._part.loopEnd=this._indexTime(this._eventsArray.length):this._part.loopEnd=this._indexTime(t)}get startOffset(){return this._part.startOffset}set startOffset(t){this._part.startOffset=t}get playbackRate(){return this._part.playbackRate}set playbackRate(t){this._part.playbackRate=t}get probability(){return this._part.probability}set probability(t){this._part.probability=t}get progress(){return this._part.progress}get humanize(){return this._part.humanize}set humanize(t){this._part.humanize=t}get length(){return this._part.length}}class hr extends ${constructor(){const t=W(hr.getDefaults(),arguments,["fade"]);super(t),this.name="CrossFade",this._panner=this.context.createStereoPanner(),this._split=this.context.createChannelSplitter(2),this._g2a=new Rv({context:this.context}),this.a=new dt({context:this.context,gain:0}),this.b=new dt({context:this.context,gain:0}),this.output=new dt({context:this.context}),this._internalChannels=[this.a,this.b],this.fade=new vt({context:this.context,units:"normalRange",value:t.fade}),gt(this,"fade"),this.context.getConstant(1).connect(this._panner),this._panner.connect(this._split),this._panner.channelCount=1,this._panner.channelCountMode="explicit",Je(this._split,this.a.gain,0),Je(this._split,this.b.gain,1),this.fade.chain(this._g2a,this._panner.pan),this.a.connect(this.output),this.b.connect(this.output)}static getDefaults(){return Object.assign($.getDefaults(),{fade:.5})}dispose(){return super.dispose(),this.a.dispose(),this.b.dispose(),this.output.dispose(),this.fade.dispose(),this._g2a.dispose(),this._panner.disconnect(),this._split.disconnect(),this}}class xe extends ${constructor(t){super(t),this.name="Effect",this._dryWet=new hr({context:this.context}),this.wet=this._dryWet.fade,this.effectSend=new dt({context:this.context}),this.effectReturn=new dt({context:this.context}),this.input=new dt({context:this.context}),this.output=this._dryWet,this.input.fan(this._dryWet.a,this.effectSend),this.effectReturn.connect(this._dryWet.b),this.wet.setValueAtTime(t.wet,0),this._internalChannels=[this.effectReturn,this.effectSend],gt(this,"wet")}static getDefaults(){return Object.assign($.getDefaults(),{wet:1})}connectEffect(t){return this._internalChannels.push(t),this.effectSend.chain(t,this.effectReturn),this}dispose(){return super.dispose(),this._dryWet.dispose(),this.effectSend.dispose(),this.effectReturn.dispose(),this.wet.dispose(),this}}class Sc extends xe{constructor(t){super(t),this.name="LFOEffect",this._lfo=new Ke({context:this.context,frequency:t.frequency,amplitude:t.depth}),this.depth=this._lfo.amplitude,this.frequency=this._lfo.frequency,this.type=t.type,gt(this,["frequency","depth"])}static getDefaults(){return Object.assign(xe.getDefaults(),{frequency:1,type:"sine",depth:1})}start(t){return this._lfo.start(t),this}stop(t){return this._lfo.stop(t),this}sync(){return this._lfo.sync(),this}unsync(){return this._lfo.unsync(),this}get type(){return this._lfo.type}set type(t){this._lfo.type=t}dispose(){return super.dispose(),this._lfo.dispose(),this.frequency.dispose(),this.depth.dispose(),this}}class gd extends Sc{constructor(){const t=W(gd.getDefaults(),arguments,["frequency","baseFrequency","octaves"]);super(t),this.name="AutoFilter",this.filter=new gn(Object.assign(t.filter,{context:this.context})),this.connectEffect(this.filter),this._lfo.connect(this.filter.frequency),this.octaves=t.octaves,this.baseFrequency=t.baseFrequency}static getDefaults(){return Object.assign(Sc.getDefaults(),{baseFrequency:200,octaves:2.6,filter:{type:"lowpass",rolloff:-12,Q:1}})}get baseFrequency(){return this._lfo.min}set baseFrequency(t){this._lfo.min=this.toFrequency(t),this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(t){this._octaves=t,this._lfo.max=this._lfo.min*Math.pow(2,t)}dispose(){return super.dispose(),this.filter.dispose(),this}}class Go extends ${constructor(){const t=W(Go.getDefaults(),arguments,["pan"]);super(t),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner,this.pan=new Tt({context:this.context,param:this._panner.pan,value:t.pan,minValue:-1,maxValue:1}),this._panner.channelCount=t.channelCount,this._panner.channelCountMode="explicit",gt(this,"pan")}static getDefaults(){return Object.assign($.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}class yd extends Sc{constructor(){const t=W(yd.getDefaults(),arguments,["frequency"]);super(t),this.name="AutoPanner",this._panner=new Go({context:this.context,channelCount:t.channelCount}),this.connectEffect(this._panner),this._lfo.connect(this._panner.pan),this._lfo.min=-1,this._lfo.max=1}static getDefaults(){return Object.assign(Sc.getDefaults(),{channelCount:1})}dispose(){return super.dispose(),this._panner.dispose(),this}}class Ho extends ${constructor(){const t=W(Ho.getDefaults(),arguments,["smoothing"]);super(t),this.name="Follower",this._abs=this.input=new Mv({context:this.context}),this._lowpass=this.output=new Bo({context:this.context,frequency:1/this.toSeconds(t.smoothing),type:"lowpass"}),this._abs.connect(this._lowpass),this._smoothing=t.smoothing}static getDefaults(){return Object.assign($.getDefaults(),{smoothing:.05})}get smoothing(){return this._smoothing}set smoothing(t){this._smoothing=t,this._lowpass.frequency=1/this.toSeconds(this.smoothing)}dispose(){return super.dispose(),this._abs.dispose(),this._lowpass.dispose(),this}}class vd extends xe{constructor(){const t=W(vd.getDefaults(),arguments,["baseFrequency","octaves","sensitivity"]);super(t),this.name="AutoWah",this._follower=new Ho({context:this.context,smoothing:t.follower}),this._sweepRange=new Lc({context:this.context,min:0,max:1,exponent:.5}),this._baseFrequency=this.toFrequency(t.baseFrequency),this._octaves=t.octaves,this._inputBoost=new dt({context:this.context}),this._bandpass=new gn({context:this.context,rolloff:-48,frequency:0,Q:t.Q}),this._peaking=new gn({context:this.context,type:"peaking"}),this._peaking.gain.value=t.gain,this.gain=this._peaking.gain,this.Q=this._bandpass.Q,this.effectSend.chain(this._inputBoost,this._follower,this._sweepRange),this._sweepRange.connect(this._bandpass.frequency),this._sweepRange.connect(this._peaking.frequency),this.effectSend.chain(this._bandpass,this._peaking,this.effectReturn),this._setSweepRange(),this.sensitivity=t.sensitivity,gt(this,["gain","Q"])}static getDefaults(){return Object.assign(xe.getDefaults(),{baseFrequency:100,octaves:6,sensitivity:0,Q:2,gain:2,follower:.2})}get octaves(){return this._octaves}set octaves(t){this._octaves=t,this._setSweepRange()}get follower(){return this._follower.smoothing}set follower(t){this._follower.smoothing=t}get baseFrequency(){return this._baseFrequency}set baseFrequency(t){this._baseFrequency=this.toFrequency(t),this._setSweepRange()}get sensitivity(){return Ro(1/this._inputBoost.gain.value)}set sensitivity(t){this._inputBoost.gain.value=1/Ia(t)}_setSweepRange(){this._sweepRange.min=this._baseFrequency,this._sweepRange.max=Math.min(this._baseFrequency*Math.pow(2,this._octaves),this.context.sampleRate/2)}dispose(){return super.dispose(),this._follower.dispose(),this._sweepRange.dispose(),this._bandpass.dispose(),this._peaking.dispose(),this._inputBoost.dispose(),this}}const qv="bit-crusher",M2=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;Nv(qv,M2);class bd extends xe{constructor(){const t=W(bd.getDefaults(),arguments,["bits"]);super(t),this.name="BitCrusher",this._bitCrusherWorklet=new xd({context:this.context,bits:t.bits}),this.connectEffect(this._bitCrusherWorklet),this.bits=this._bitCrusherWorklet.bits}static getDefaults(){return Object.assign(xe.getDefaults(),{bits:4})}dispose(){return super.dispose(),this._bitCrusherWorklet.dispose(),this}}class xd extends Sf{constructor(){const t=W(xd.getDefaults(),arguments);super(t),this.name="BitCrusherWorklet",this.input=new dt({context:this.context}),this.output=new dt({context:this.context}),this.bits=new Tt({context:this.context,value:t.bits,units:"positive",minValue:1,maxValue:16,param:this._dummyParam,swappable:!0})}static getDefaults(){return Object.assign(Sf.getDefaults(),{bits:12})}_audioWorkletName(){return qv}onReady(t){xn(this.input,t,this.output);const s=t.parameters.get("bits");this.bits.setParam(s)}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this.bits.dispose(),this}}class Sd extends xe{constructor(){const t=W(Sd.getDefaults(),arguments,["order"]);super(t),this.name="Chebyshev",this._shaper=new Wn({context:this.context,length:4096}),this._order=t.order,this.connectEffect(this._shaper),this.order=t.order,this.oversample=t.oversample}static getDefaults(){return Object.assign(xe.getDefaults(),{order:1,oversample:"none"})}_getCoefficient(t,s,a){return a.has(s)||(s===0?a.set(s,0):s===1?a.set(s,t):a.set(s,2*t*this._getCoefficient(t,s-1,a)-this._getCoefficient(t,s-2,a))),a.get(s)}get order(){return this._order}set order(t){pt(Number.isInteger(t),"'order' must be an integer"),this._order=t,this._shaper.setMap(s=>this._getCoefficient(s,t,new Map))}get oversample(){return this._shaper.oversample}set oversample(t){this._shaper.oversample=t}dispose(){return super.dispose(),this._shaper.dispose(),this}}class Pi extends ${constructor(){const t=W(Pi.getDefaults(),arguments,["channels"]);super(t),this.name="Split",this._splitter=this.input=this.output=this.context.createChannelSplitter(t.channels),this._internalChannels=[this._splitter]}static getDefaults(){return Object.assign($.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._splitter.disconnect(),this}}class gi extends ${constructor(){const t=W(gi.getDefaults(),arguments,["channels"]);super(t),this.name="Merge",this._merger=this.output=this.input=this.context.createChannelMerger(t.channels)}static getDefaults(){return Object.assign($.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._merger.disconnect(),this}}class as extends ${constructor(t){super(t),this.name="StereoEffect",this.input=new dt({context:this.context}),this.input.channelCount=2,this.input.channelCountMode="explicit",this._dryWet=this.output=new hr({context:this.context,fade:t.wet}),this.wet=this._dryWet.fade,this._split=new Pi({context:this.context,channels:2}),this._merge=new gi({context:this.context,channels:2}),this.input.connect(this._split),this.input.connect(this._dryWet.a),this._merge.connect(this._dryWet.b),gt(this,["wet"])}connectEffectLeft(...t){this._split.connect(t[0],0,0),xn(...t),Je(t[t.length-1],this._merge,0,0)}connectEffectRight(...t){this._split.connect(t[0],1,0),xn(...t),Je(t[t.length-1],this._merge,0,1)}static getDefaults(){return Object.assign($.getDefaults(),{wet:1})}dispose(){return super.dispose(),this._dryWet.dispose(),this._split.dispose(),this._merge.dispose(),this}}class Tf extends as{constructor(t){super(t),this.feedback=new vt({context:this.context,value:t.feedback,units:"normalRange"}),this._feedbackL=new dt({context:this.context}),this._feedbackR=new dt({context:this.context}),this._feedbackSplit=new Pi({context:this.context,channels:2}),this._feedbackMerge=new gi({context:this.context,channels:2}),this._merge.connect(this._feedbackSplit),this._feedbackMerge.connect(this._split),this._feedbackSplit.connect(this._feedbackL,0,0),this._feedbackL.connect(this._feedbackMerge,0,0),this._feedbackSplit.connect(this._feedbackR,1,0),this._feedbackR.connect(this._feedbackMerge,0,1),this.feedback.fan(this._feedbackL.gain,this._feedbackR.gain),gt(this,["feedback"])}static getDefaults(){return Object.assign(as.getDefaults(),{feedback:.5})}dispose(){return super.dispose(),this.feedback.dispose(),this._feedbackL.dispose(),this._feedbackR.dispose(),this._feedbackSplit.dispose(),this._feedbackMerge.dispose(),this}}class Td extends Tf{constructor(){const t=W(Td.getDefaults(),arguments,["frequency","delayTime","depth"]);super(t),this.name="Chorus",this._depth=t.depth,this._delayTime=t.delayTime/1e3,this._lfoL=new Ke({context:this.context,frequency:t.frequency,min:0,max:1}),this._lfoR=new Ke({context:this.context,frequency:t.frequency,min:0,max:1,phase:180}),this._delayNodeL=new vn({context:this.context}),this._delayNodeR=new vn({context:this.context}),this.frequency=this._lfoL.frequency,gt(this,["frequency"]),this._lfoL.frequency.connect(this._lfoR.frequency),this.connectEffectLeft(this._delayNodeL),this.connectEffectRight(this._delayNodeR),this._lfoL.connect(this._delayNodeL.delayTime),this._lfoR.connect(this._delayNodeR.delayTime),this.depth=this._depth,this.type=t.type,this.spread=t.spread}static getDefaults(){return Object.assign(Tf.getDefaults(),{frequency:1.5,delayTime:3.5,depth:.7,type:"sine",spread:180,feedback:0,wet:.5})}get depth(){return this._depth}set depth(t){this._depth=t;const s=this._delayTime*t;this._lfoL.min=Math.max(this._delayTime-s,0),this._lfoL.max=this._delayTime+s,this._lfoR.min=Math.max(this._delayTime-s,0),this._lfoR.max=this._delayTime+s}get delayTime(){return this._delayTime*1e3}set delayTime(t){this._delayTime=t/1e3,this.depth=this._depth}get type(){return this._lfoL.type}set type(t){this._lfoL.type=t,this._lfoR.type=t}get spread(){return this._lfoR.phase-this._lfoL.phase}set spread(t){this._lfoL.phase=90-t/2,this._lfoR.phase=t/2+90}start(t){return this._lfoL.start(t),this._lfoR.start(t),this}stop(t){return this._lfoL.stop(t),this._lfoR.stop(t),this}sync(){return this._lfoL.sync(),this._lfoR.sync(),this}unsync(){return this._lfoL.unsync(),this._lfoR.unsync(),this}dispose(){return super.dispose(),this._lfoL.dispose(),this._lfoR.dispose(),this._delayNodeL.dispose(),this._delayNodeR.dispose(),this.frequency.dispose(),this}}class wd extends xe{constructor(){const t=W(wd.getDefaults(),arguments,["distortion"]);super(t),this.name="Distortion",this._shaper=new Wn({context:this.context,length:4096}),this._distortion=t.distortion,this.connectEffect(this._shaper),this.distortion=t.distortion,this.oversample=t.oversample}static getDefaults(){return Object.assign(xe.getDefaults(),{distortion:.4,oversample:"none"})}get distortion(){return this._distortion}set distortion(t){this._distortion=t;const s=t*100,a=Math.PI/180;this._shaper.setMap(l=>Math.abs(l)<.001?0:(3+s)*l*20*a/(Math.PI+s*Math.abs(l)))}get oversample(){return this._shaper.oversample}set oversample(t){this._shaper.oversample=t}dispose(){return super.dispose(),this._shaper.dispose(),this}}class Tc extends xe{constructor(t){super(t),this.name="FeedbackEffect",this._feedbackGain=new dt({context:this.context,gain:t.feedback,units:"normalRange"}),this.feedback=this._feedbackGain.gain,gt(this,"feedback"),this.effectReturn.chain(this._feedbackGain,this.effectSend)}static getDefaults(){return Object.assign(xe.getDefaults(),{feedback:.125})}dispose(){return super.dispose(),this._feedbackGain.dispose(),this.feedback.dispose(),this}}class Ad extends Tc{constructor(){const t=W(Ad.getDefaults(),arguments,["delayTime","feedback"]);super(t),this.name="FeedbackDelay",this._delayNode=new vn({context:this.context,delayTime:t.delayTime,maxDelay:t.maxDelay}),this.delayTime=this._delayNode.delayTime,this.connectEffect(this._delayNode),gt(this,"delayTime")}static getDefaults(){return Object.assign(Tc.getDefaults(),{delayTime:.25,maxDelay:1})}dispose(){return super.dispose(),this._delayNode.dispose(),this.delayTime.dispose(),this}}class R2 extends ${constructor(t){super(t),this.name="PhaseShiftAllpass",this.input=new dt({context:this.context}),this.output=new dt({context:this.context}),this.offset90=new dt({context:this.context});const s=[.6923878,.9360654322959,.988229522686,.9987488452737],a=[.4021921162426,.856171088242,.9722909545651,.9952884791278];this._bank0=this._createAllPassFilterBank(s),this._bank1=this._createAllPassFilterBank(a),this._oneSampleDelay=this.context.createIIRFilter([0,1],[1,0]),xn(this.input,...this._bank0,this._oneSampleDelay,this.output),xn(this.input,...this._bank1,this.offset90)}_createAllPassFilterBank(t){return t.map(a=>{const l=[[a*a,0,-1],[1,0,-(a*a)]];return this.context.createIIRFilter(l[0],l[1])})}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this.offset90.dispose(),this._bank0.forEach(t=>t.disconnect()),this._bank1.forEach(t=>t.disconnect()),this._oneSampleDelay.disconnect(),this}}class Ed extends xe{constructor(){const t=W(Ed.getDefaults(),arguments,["frequency"]);super(t),this.name="FrequencyShifter",this.frequency=new vt({context:this.context,units:"frequency",value:t.frequency,minValue:-this.context.sampleRate/2,maxValue:this.context.sampleRate/2}),this._sine=new ko({context:this.context,type:"sine"}),this._cosine=new ee({context:this.context,phase:-90,type:"sine"}),this._sineMultiply=new ne({context:this.context}),this._cosineMultiply=new ne({context:this.context}),this._negate=new ad({context:this.context}),this._add=new Qi({context:this.context}),this._phaseShifter=new R2({context:this.context}),this.effectSend.connect(this._phaseShifter),this.frequency.fan(this._sine.frequency,this._cosine.frequency),this._phaseShifter.offset90.connect(this._cosineMultiply),this._cosine.connect(this._cosineMultiply.factor),this._phaseShifter.connect(this._sineMultiply),this._sine.connect(this._sineMultiply.factor),this._sineMultiply.connect(this._negate),this._cosineMultiply.connect(this._add),this._negate.connect(this._add.addend),this._add.connect(this.effectReturn);const s=this.immediate();this._sine.start(s),this._cosine.start(s)}static getDefaults(){return Object.assign(xe.getDefaults(),{frequency:0})}dispose(){return super.dispose(),this.frequency.dispose(),this._add.dispose(),this._cosine.dispose(),this._cosineMultiply.dispose(),this._negate.dispose(),this._phaseShifter.dispose(),this._sine.dispose(),this._sineMultiply.dispose(),this}}const vy=[1557/44100,1617/44100,1491/44100,1422/44100,1277/44100,1356/44100,1188/44100,1116/44100],by=[225,556,441,341];class Dd extends as{constructor(){const t=W(Dd.getDefaults(),arguments,["roomSize","dampening"]);super(t),this.name="Freeverb",this._combFilters=[],this._allpassFiltersL=[],this._allpassFiltersR=[],this.roomSize=new vt({context:this.context,value:t.roomSize,units:"normalRange"}),this._allpassFiltersL=by.map(s=>{const a=this.context.createBiquadFilter();return a.type="allpass",a.frequency.value=s,a}),this._allpassFiltersR=by.map(s=>{const a=this.context.createBiquadFilter();return a.type="allpass",a.frequency.value=s,a}),this._combFilters=vy.map((s,a)=>{const l=new Lo({context:this.context,dampening:t.dampening,delayTime:s});return a<vy.length/2?this.connectEffectLeft(l,...this._allpassFiltersL):this.connectEffectRight(l,...this._allpassFiltersR),this.roomSize.connect(l.resonance),l}),gt(this,["roomSize"])}static getDefaults(){return Object.assign(as.getDefaults(),{roomSize:.7,dampening:3e3})}get dampening(){return this._combFilters[0].dampening}set dampening(t){this._combFilters.forEach(s=>s.dampening=t)}dispose(){return super.dispose(),this._allpassFiltersL.forEach(t=>t.disconnect()),this._allpassFiltersR.forEach(t=>t.disconnect()),this._combFilters.forEach(t=>t.dispose()),this.roomSize.dispose(),this}}const xy=[1687/25e3,1601/25e3,2053/25e3,2251/25e3],N2=[.773,.802,.753,.733],k2=[347,113,37];class Cd extends as{constructor(){const t=W(Cd.getDefaults(),arguments,["roomSize"]);super(t),this.name="JCReverb",this._allpassFilters=[],this._feedbackCombFilters=[],this.roomSize=new vt({context:this.context,value:t.roomSize,units:"normalRange"}),this._scaleRoomSize=new Rs({context:this.context,min:-.733,max:.197}),this._allpassFilters=k2.map(s=>{const a=this.context.createBiquadFilter();return a.type="allpass",a.frequency.value=s,a}),this._feedbackCombFilters=xy.map((s,a)=>{const l=new Uo({context:this.context,delayTime:s});return this._scaleRoomSize.connect(l.resonance),l.resonance.value=N2[a],a<xy.length/2?this.connectEffectLeft(...this._allpassFilters,l):this.connectEffectRight(...this._allpassFilters,l),l}),this.roomSize.connect(this._scaleRoomSize),gt(this,["roomSize"])}static getDefaults(){return Object.assign(as.getDefaults(),{roomSize:.5})}dispose(){return super.dispose(),this._allpassFilters.forEach(t=>t.disconnect()),this._feedbackCombFilters.forEach(t=>t.dispose()),this.roomSize.dispose(),this._scaleRoomSize.dispose(),this}}class Sy extends Tf{constructor(t){super(t),this._feedbackL.disconnect(),this._feedbackL.connect(this._feedbackMerge,0,1),this._feedbackR.disconnect(),this._feedbackR.connect(this._feedbackMerge,0,0),gt(this,["feedback"])}}class Od extends Sy{constructor(){const t=W(Od.getDefaults(),arguments,["delayTime","feedback"]);super(t),this.name="PingPongDelay",this._leftDelay=new vn({context:this.context,maxDelay:t.maxDelay}),this._rightDelay=new vn({context:this.context,maxDelay:t.maxDelay}),this._rightPreDelay=new vn({context:this.context,maxDelay:t.maxDelay}),this.delayTime=new vt({context:this.context,units:"time",value:t.delayTime}),this.connectEffectLeft(this._leftDelay),this.connectEffectRight(this._rightPreDelay,this._rightDelay),this.delayTime.fan(this._leftDelay.delayTime,this._rightDelay.delayTime,this._rightPreDelay.delayTime),this._feedbackL.disconnect(),this._feedbackL.connect(this._rightDelay),gt(this,["delayTime"])}static getDefaults(){return Object.assign(Sy.getDefaults(),{delayTime:.25,maxDelay:1})}dispose(){return super.dispose(),this._leftDelay.dispose(),this._rightDelay.dispose(),this._rightPreDelay.dispose(),this.delayTime.dispose(),this}}class Md extends Tc{constructor(){const t=W(Md.getDefaults(),arguments,["pitch"]);super(t),this.name="PitchShift",this._frequency=new vt({context:this.context}),this._delayA=new vn({maxDelay:1,context:this.context}),this._lfoA=new Ke({context:this.context,min:0,max:.1,type:"sawtooth"}).connect(this._delayA.delayTime),this._delayB=new vn({maxDelay:1,context:this.context}),this._lfoB=new Ke({context:this.context,min:0,max:.1,type:"sawtooth",phase:180}).connect(this._delayB.delayTime),this._crossFade=new hr({context:this.context}),this._crossFadeLFO=new Ke({context:this.context,min:0,max:1,type:"triangle",phase:90}).connect(this._crossFade.fade),this._feedbackDelay=new vn({delayTime:t.delayTime,context:this.context}),this.delayTime=this._feedbackDelay.delayTime,gt(this,"delayTime"),this._pitch=t.pitch,this._windowSize=t.windowSize,this._delayA.connect(this._crossFade.a),this._delayB.connect(this._crossFade.b),this._frequency.fan(this._lfoA.frequency,this._lfoB.frequency,this._crossFadeLFO.frequency),this.effectSend.fan(this._delayA,this._delayB),this._crossFade.chain(this._feedbackDelay,this.effectReturn);const s=this.now();this._lfoA.start(s),this._lfoB.start(s),this._crossFadeLFO.start(s),this.windowSize=this._windowSize}static getDefaults(){return Object.assign(Tc.getDefaults(),{pitch:0,windowSize:.1,delayTime:0,feedback:0})}get pitch(){return this._pitch}set pitch(t){this._pitch=t;let s=0;t<0?(this._lfoA.min=0,this._lfoA.max=this._windowSize,this._lfoB.min=0,this._lfoB.max=this._windowSize,s=Ya(t-1)+1):(this._lfoA.min=this._windowSize,this._lfoA.max=0,this._lfoB.min=this._windowSize,this._lfoB.max=0,s=Ya(t)-1),this._frequency.value=s*(1.2/this._windowSize)}get windowSize(){return this._windowSize}set windowSize(t){this._windowSize=this.toSeconds(t),this.pitch=this._pitch}dispose(){return super.dispose(),this._frequency.dispose(),this._delayA.dispose(),this._delayB.dispose(),this._lfoA.dispose(),this._lfoB.dispose(),this._crossFade.dispose(),this._crossFadeLFO.dispose(),this._feedbackDelay.dispose(),this}}class Rd extends as{constructor(){const t=W(Rd.getDefaults(),arguments,["frequency","octaves","baseFrequency"]);super(t),this.name="Phaser",this._lfoL=new Ke({context:this.context,frequency:t.frequency,min:0,max:1}),this._lfoR=new Ke({context:this.context,frequency:t.frequency,min:0,max:1,phase:180}),this._baseFrequency=this.toFrequency(t.baseFrequency),this._octaves=t.octaves,this.Q=new vt({context:this.context,value:t.Q,units:"positive"}),this._filtersL=this._makeFilters(t.stages,this._lfoL),this._filtersR=this._makeFilters(t.stages,this._lfoR),this.frequency=this._lfoL.frequency,this.frequency.value=t.frequency,this.connectEffectLeft(...this._filtersL),this.connectEffectRight(...this._filtersR),this._lfoL.frequency.connect(this._lfoR.frequency),this.baseFrequency=t.baseFrequency,this.octaves=t.octaves,this._lfoL.start(),this._lfoR.start(),gt(this,["frequency","Q"])}static getDefaults(){return Object.assign(as.getDefaults(),{frequency:.5,octaves:3,stages:10,Q:10,baseFrequency:350})}_makeFilters(t,s){const a=[];for(let l=0;l<t;l++){const u=this.context.createBiquadFilter();u.type="allpass",this.Q.connect(u.Q),s.connect(u.frequency),a.push(u)}return a}get octaves(){return this._octaves}set octaves(t){this._octaves=t;const s=this._baseFrequency*Math.pow(2,t);this._lfoL.max=s,this._lfoR.max=s}get baseFrequency(){return this._baseFrequency}set baseFrequency(t){this._baseFrequency=this.toFrequency(t),this._lfoL.min=this._baseFrequency,this._lfoR.min=this._baseFrequency,this.octaves=this._octaves}dispose(){return super.dispose(),this.Q.dispose(),this._lfoL.dispose(),this._lfoR.dispose(),this._filtersL.forEach(t=>t.disconnect()),this._filtersR.forEach(t=>t.disconnect()),this.frequency.dispose(),this}}class Nd extends xe{constructor(){const t=W(Nd.getDefaults(),arguments,["decay"]);super(t),this.name="Reverb",this._convolver=this.context.createConvolver(),this.ready=Promise.resolve();const s=this.toSeconds(t.decay);ve(s,.001),this._decay=s;const a=this.toSeconds(t.preDelay);ve(a,0),this._preDelay=a,this.generate(),this.connectEffect(this._convolver)}static getDefaults(){return Object.assign(xe.getDefaults(),{decay:1.5,preDelay:.01})}get decay(){return this._decay}set decay(t){t=this.toSeconds(t),ve(t,.001),this._decay=t,this.generate()}get preDelay(){return this._preDelay}set preDelay(t){t=this.toSeconds(t),ve(t,0),this._preDelay=t,this.generate()}generate(){return Qt(this,void 0,void 0,function*(){const t=this.ready,s=new sr(2,this._decay+this._preDelay,this.context.sampleRate),a=new fi({context:s}),l=new fi({context:s}),u=new gi({context:s});a.connect(u,0,0),l.connect(u,0,1);const f=new dt({context:s}).toDestination();u.connect(f),a.start(0),l.start(0),f.gain.setValueAtTime(0,0),f.gain.setValueAtTime(1,this._preDelay),f.gain.exponentialApproachValueAtTime(0,this._preDelay,this.decay);const d=s.render();return this.ready=d.then(Dt),yield t,this._convolver.buffer=(yield d).get(),this})}dispose(){return super.dispose(),this._convolver.disconnect(),this}}class Io extends ${constructor(){super(W(Io.getDefaults(),arguments)),this.name="MidSideSplit",this._split=this.input=new Pi({channels:2,context:this.context}),this._midAdd=new Qi({context:this.context}),this.mid=new ne({context:this.context,value:Math.SQRT1_2}),this._sideSubtract=new Wi({context:this.context}),this.side=new ne({context:this.context,value:Math.SQRT1_2}),this._split.connect(this._midAdd,0),this._split.connect(this._midAdd.addend,1),this._split.connect(this._sideSubtract,0),this._split.connect(this._sideSubtract.subtrahend,1),this._midAdd.connect(this.mid),this._sideSubtract.connect(this.side)}dispose(){return super.dispose(),this.mid.dispose(),this.side.dispose(),this._midAdd.dispose(),this._sideSubtract.dispose(),this._split.dispose(),this}}class Yo extends ${constructor(){super(W(Yo.getDefaults(),arguments)),this.name="MidSideMerge",this.mid=new dt({context:this.context}),this.side=new dt({context:this.context}),this._left=new Qi({context:this.context}),this._leftMult=new ne({context:this.context,value:Math.SQRT1_2}),this._right=new Wi({context:this.context}),this._rightMult=new ne({context:this.context,value:Math.SQRT1_2}),this._merge=this.output=new gi({context:this.context}),this.mid.fan(this._left),this.side.connect(this._left.addend),this.mid.connect(this._right),this.side.connect(this._right.subtrahend),this._left.connect(this._leftMult),this._right.connect(this._rightMult),this._leftMult.connect(this._merge,0,0),this._rightMult.connect(this._merge,0,1)}dispose(){return super.dispose(),this.mid.dispose(),this.side.dispose(),this._leftMult.dispose(),this._rightMult.dispose(),this._left.dispose(),this._right.dispose(),this}}class Ty extends xe{constructor(t){super(t),this.name="MidSideEffect",this._midSideMerge=new Yo({context:this.context}),this._midSideSplit=new Io({context:this.context}),this._midSend=this._midSideSplit.mid,this._sideSend=this._midSideSplit.side,this._midReturn=this._midSideMerge.mid,this._sideReturn=this._midSideMerge.side,this.effectSend.connect(this._midSideSplit),this._midSideMerge.connect(this.effectReturn)}connectEffectMid(...t){this._midSend.chain(...t,this._midReturn)}connectEffectSide(...t){this._sideSend.chain(...t,this._sideReturn)}dispose(){return super.dispose(),this._midSideSplit.dispose(),this._midSideMerge.dispose(),this._midSend.dispose(),this._sideSend.dispose(),this._midReturn.dispose(),this._sideReturn.dispose(),this}}class kd extends Ty{constructor(){const t=W(kd.getDefaults(),arguments,["width"]);super(t),this.name="StereoWidener",this.width=new vt({context:this.context,value:t.width,units:"normalRange"}),gt(this,["width"]),this._twoTimesWidthMid=new ne({context:this.context,value:2}),this._twoTimesWidthSide=new ne({context:this.context,value:2}),this._midMult=new ne({context:this.context}),this._twoTimesWidthMid.connect(this._midMult.factor),this.connectEffectMid(this._midMult),this._oneMinusWidth=new Wi({context:this.context}),this._oneMinusWidth.connect(this._twoTimesWidthMid),Je(this.context.getConstant(1),this._oneMinusWidth),this.width.connect(this._oneMinusWidth.subtrahend),this._sideMult=new ne({context:this.context}),this.width.connect(this._twoTimesWidthSide),this._twoTimesWidthSide.connect(this._sideMult.factor),this.connectEffectSide(this._sideMult)}static getDefaults(){return Object.assign(Ty.getDefaults(),{width:.5})}dispose(){return super.dispose(),this.width.dispose(),this._midMult.dispose(),this._sideMult.dispose(),this._twoTimesWidthMid.dispose(),this._twoTimesWidthSide.dispose(),this._oneMinusWidth.dispose(),this}}class qd extends as{constructor(){const t=W(qd.getDefaults(),arguments,["frequency","depth"]);super(t),this.name="Tremolo",this._lfoL=new Ke({context:this.context,type:t.type,min:1,max:0}),this._lfoR=new Ke({context:this.context,type:t.type,min:1,max:0}),this._amplitudeL=new dt({context:this.context}),this._amplitudeR=new dt({context:this.context}),this.frequency=new vt({context:this.context,value:t.frequency,units:"frequency"}),this.depth=new vt({context:this.context,value:t.depth,units:"normalRange"}),gt(this,["frequency","depth"]),this.connectEffectLeft(this._amplitudeL),this.connectEffectRight(this._amplitudeR),this._lfoL.connect(this._amplitudeL.gain),this._lfoR.connect(this._amplitudeR.gain),this.frequency.fan(this._lfoL.frequency,this._lfoR.frequency),this.depth.fan(this._lfoR.amplitude,this._lfoL.amplitude),this.spread=t.spread}static getDefaults(){return Object.assign(as.getDefaults(),{frequency:10,type:"sine",depth:.5,spread:180})}start(t){return this._lfoL.start(t),this._lfoR.start(t),this}stop(t){return this._lfoL.stop(t),this._lfoR.stop(t),this}sync(){return this._lfoL.sync(),this._lfoR.sync(),this.context.transport.syncSignal(this.frequency),this}unsync(){return this._lfoL.unsync(),this._lfoR.unsync(),this.context.transport.unsyncSignal(this.frequency),this}get type(){return this._lfoL.type}set type(t){this._lfoL.type=t,this._lfoR.type=t}get spread(){return this._lfoR.phase-this._lfoL.phase}set spread(t){this._lfoL.phase=90-t/2,this._lfoR.phase=t/2+90}dispose(){return super.dispose(),this._lfoL.dispose(),this._lfoR.dispose(),this._amplitudeL.dispose(),this._amplitudeR.dispose(),this.frequency.dispose(),this.depth.dispose(),this}}class zd extends xe{constructor(){const t=W(zd.getDefaults(),arguments,["frequency","depth"]);super(t),this.name="Vibrato",this._delayNode=new vn({context:this.context,delayTime:0,maxDelay:t.maxDelay}),this._lfo=new Ke({context:this.context,type:t.type,min:0,max:t.maxDelay,frequency:t.frequency,phase:-90}).start().connect(this._delayNode.delayTime),this.frequency=this._lfo.frequency,this.depth=this._lfo.amplitude,this.depth.value=t.depth,gt(this,["frequency","depth"]),this.effectSend.chain(this._delayNode,this.effectReturn)}static getDefaults(){return Object.assign(xe.getDefaults(),{maxDelay:.005,frequency:5,depth:.1,type:"sine"})}get type(){return this._lfo.type}set type(t){this._lfo.type=t}dispose(){return super.dispose(),this._delayNode.dispose(),this._lfo.dispose(),this.frequency.dispose(),this.depth.dispose(),this}}class Xo extends ${constructor(){const t=W(Xo.getDefaults(),arguments,["type","size"]);super(t),this.name="Analyser",this._analysers=[],this._buffers=[],this.input=this.output=this._gain=new dt({context:this.context}),this._split=new Pi({context:this.context,channels:t.channels}),this.input.connect(this._split),ve(t.channels,1);for(let s=0;s<t.channels;s++)this._analysers[s]=this.context.createAnalyser(),this._split.connect(this._analysers[s],s,0);this.size=t.size,this.type=t.type,this.smoothing=t.smoothing}static getDefaults(){return Object.assign($.getDefaults(),{size:1024,smoothing:.8,type:"fft",channels:1})}getValue(){return this._analysers.forEach((t,s)=>{const a=this._buffers[s];this._type==="fft"?t.getFloatFrequencyData(a):this._type==="waveform"&&t.getFloatTimeDomainData(a)}),this.channels===1?this._buffers[0]:this._buffers}get size(){return this._analysers[0].frequencyBinCount}set size(t){this._analysers.forEach((s,a)=>{s.fftSize=t*2,this._buffers[a]=new Float32Array(t)})}get channels(){return this._analysers.length}get type(){return this._type}set type(t){pt(t==="waveform"||t==="fft",`Analyser: invalid type: ${t}`),this._type=t}get smoothing(){return this._analysers[0].smoothingTimeConstant}set smoothing(t){this._analysers.forEach(s=>s.smoothingTimeConstant=t)}dispose(){return super.dispose(),this._analysers.forEach(t=>t.disconnect()),this._split.dispose(),this._gain.dispose(),this}}class di extends ${constructor(){super(W(di.getDefaults(),arguments)),this.name="MeterBase",this.input=this.output=this._analyser=new Xo({context:this.context,size:256,type:"waveform"})}dispose(){return super.dispose(),this._analyser.dispose(),this}}class Vd extends di{constructor(){const t=W(Vd.getDefaults(),arguments,["smoothing"]);super(t),this.name="Meter",this.input=this.output=this._analyser=new Xo({context:this.context,size:256,type:"waveform",channels:t.channelCount}),this.smoothing=t.smoothing,this.normalRange=t.normalRange,this._rms=new Array(t.channelCount),this._rms.fill(0)}static getDefaults(){return Object.assign(di.getDefaults(),{smoothing:.8,normalRange:!1,channelCount:1})}getLevel(){return tr("'getLevel' has been changed to 'getValue'"),this.getValue()}getValue(){const t=this._analyser.getValue(),a=(this.channels===1?[t]:t).map((l,u)=>{const f=l.reduce((p,m)=>p+m*m,0),d=Math.sqrt(f/l.length);return this._rms[u]=Math.max(d,this._rms[u]*this.smoothing),this.normalRange?this._rms[u]:Ro(this._rms[u])});return this.channels===1?a[0]:a}get channels(){return this._analyser.channels}dispose(){return super.dispose(),this._analyser.dispose(),this}}class jd extends di{constructor(){const t=W(jd.getDefaults(),arguments,["size"]);super(t),this.name="FFT",this.normalRange=t.normalRange,this._analyser.type="fft",this.size=t.size}static getDefaults(){return Object.assign($.getDefaults(),{normalRange:!1,size:1024,smoothing:.8})}getValue(){return this._analyser.getValue().map(s=>this.normalRange?Ia(s):s)}get size(){return this._analyser.size}set size(t){this._analyser.size=t}get smoothing(){return this._analyser.smoothing}set smoothing(t){this._analyser.smoothing=t}getFrequencyOfIndex(t){return pt(0<=t&&t<this.size,`index must be greater than or equal to 0 and less than ${this.size}`),t*this.context.sampleRate/(this.size*2)}}class Ud extends di{constructor(){super(W(Ud.getDefaults(),arguments)),this.name="DCMeter",this._analyser.type="waveform",this._analyser.size=256}getValue(){return this._analyser.getValue()[0]}}class Bd extends di{constructor(){const t=W(Bd.getDefaults(),arguments,["size"]);super(t),this.name="Waveform",this._analyser.type="waveform",this.size=t.size}static getDefaults(){return Object.assign(di.getDefaults(),{size:1024})}getValue(){return this._analyser.getValue()}get size(){return this._analyser.size}set size(t){this._analyser.size=t}}class fe extends ${constructor(){const t=W(fe.getDefaults(),arguments,["solo"]);super(t),this.name="Solo",this.input=this.output=new dt({context:this.context}),fe._allSolos.has(this.context)||fe._allSolos.set(this.context,new Set),fe._allSolos.get(this.context).add(this),this.solo=t.solo}static getDefaults(){return Object.assign($.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(t){t?this._addSolo():this._removeSolo(),fe._allSolos.get(this.context).forEach(s=>s._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){fe._soloed.has(this.context)||fe._soloed.set(this.context,new Set),fe._soloed.get(this.context).add(this)}_removeSolo(){fe._soloed.has(this.context)&&fe._soloed.get(this.context).delete(this)}_isSoloed(){return fe._soloed.has(this.context)&&fe._soloed.get(this.context).has(this)}_noSolos(){return!fe._soloed.has(this.context)||fe._soloed.has(this.context)&&fe._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),fe._allSolos.get(this.context).delete(this),this._removeSolo(),this}}fe._allSolos=new Map;fe._soloed=new Map;class Fc extends ${constructor(){const t=W(Fc.getDefaults(),arguments,["pan","volume"]);super(t),this.name="PanVol",this._panner=this.input=new Go({context:this.context,pan:t.pan,channelCount:t.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new ks({context:this.context,volume:t.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=t.mute,gt(this,["pan","volume"])}static getDefaults(){return Object.assign($.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class Li extends ${constructor(){const t=W(Li.getDefaults(),arguments,["volume","pan"]);super(t),this.name="Channel",this._solo=this.input=new fe({solo:t.solo,context:this.context}),this._panVol=this.output=new Fc({context:this.context,pan:t.pan,volume:t.volume,mute:t.mute,channelCount:t.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),gt(this,["pan","volume"])}static getDefaults(){return Object.assign($.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(t){this._solo.solo=t}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(t){this._panVol.mute=t}_getBus(t){return Li.buses.has(t)||Li.buses.set(t,new dt({context:this.context})),Li.buses.get(t)}send(t,s=0){const a=this._getBus(t),l=new dt({context:this.context,units:"decibels",gain:s});return this.connect(l),l.connect(a),l}receive(t){return this._getBus(t).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}Li.buses=new Map;class Ld extends ${constructor(){super(W(Ld.getDefaults(),arguments)),this.name="Mono",this.input=new dt({context:this.context}),this._merge=this.output=new gi({channels:2,context:this.context}),this.input.connect(this._merge,0,0),this.input.connect(this._merge,0,1)}dispose(){return super.dispose(),this._merge.dispose(),this.input.dispose(),this}}class Qo extends ${constructor(){const t=W(Qo.getDefaults(),arguments,["lowFrequency","highFrequency"]);super(t),this.name="MultibandSplit",this.input=new dt({context:this.context}),this.output=void 0,this.low=new gn({context:this.context,frequency:0,type:"lowpass"}),this._lowMidFilter=new gn({context:this.context,frequency:0,type:"highpass"}),this.mid=new gn({context:this.context,frequency:0,type:"lowpass"}),this.high=new gn({context:this.context,frequency:0,type:"highpass"}),this._internalChannels=[this.low,this.mid,this.high],this.lowFrequency=new vt({context:this.context,units:"frequency",value:t.lowFrequency}),this.highFrequency=new vt({context:this.context,units:"frequency",value:t.highFrequency}),this.Q=new vt({context:this.context,units:"positive",value:t.Q}),this.input.fan(this.low,this.high),this.input.chain(this._lowMidFilter,this.mid),this.lowFrequency.fan(this.low.frequency,this._lowMidFilter.frequency),this.highFrequency.fan(this.mid.frequency,this.high.frequency),this.Q.connect(this.low.Q),this.Q.connect(this._lowMidFilter.Q),this.Q.connect(this.mid.Q),this.Q.connect(this.high.Q),gt(this,["high","mid","low","highFrequency","lowFrequency"])}static getDefaults(){return Object.assign($.getDefaults(),{Q:1,highFrequency:2500,lowFrequency:400})}dispose(){return super.dispose(),Mo(this,["high","mid","low","highFrequency","lowFrequency"]),this.low.dispose(),this._lowMidFilter.dispose(),this.mid.dispose(),this.high.dispose(),this.lowFrequency.dispose(),this.highFrequency.dispose(),this.Q.dispose(),this}}class Fd extends ${constructor(){const t=W(Fd.getDefaults(),arguments,["positionX","positionY","positionZ"]);super(t),this.name="Panner3D",this._panner=this.input=this.output=this.context.createPanner(),this.panningModel=t.panningModel,this.maxDistance=t.maxDistance,this.distanceModel=t.distanceModel,this.coneOuterGain=t.coneOuterGain,this.coneOuterAngle=t.coneOuterAngle,this.coneInnerAngle=t.coneInnerAngle,this.refDistance=t.refDistance,this.rolloffFactor=t.rolloffFactor,this.positionX=new Tt({context:this.context,param:this._panner.positionX,value:t.positionX}),this.positionY=new Tt({context:this.context,param:this._panner.positionY,value:t.positionY}),this.positionZ=new Tt({context:this.context,param:this._panner.positionZ,value:t.positionZ}),this.orientationX=new Tt({context:this.context,param:this._panner.orientationX,value:t.orientationX}),this.orientationY=new Tt({context:this.context,param:this._panner.orientationY,value:t.orientationY}),this.orientationZ=new Tt({context:this.context,param:this._panner.orientationZ,value:t.orientationZ})}static getDefaults(){return Object.assign($.getDefaults(),{coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:0,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1})}setPosition(t,s,a){return this.positionX.value=t,this.positionY.value=s,this.positionZ.value=a,this}setOrientation(t,s,a){return this.orientationX.value=t,this.orientationY.value=s,this.orientationZ.value=a,this}get panningModel(){return this._panner.panningModel}set panningModel(t){this._panner.panningModel=t}get refDistance(){return this._panner.refDistance}set refDistance(t){this._panner.refDistance=t}get rolloffFactor(){return this._panner.rolloffFactor}set rolloffFactor(t){this._panner.rolloffFactor=t}get distanceModel(){return this._panner.distanceModel}set distanceModel(t){this._panner.distanceModel=t}get coneInnerAngle(){return this._panner.coneInnerAngle}set coneInnerAngle(t){this._panner.coneInnerAngle=t}get coneOuterAngle(){return this._panner.coneOuterAngle}set coneOuterAngle(t){this._panner.coneOuterAngle=t}get coneOuterGain(){return this._panner.coneOuterGain}set coneOuterGain(t){this._panner.coneOuterGain=t}get maxDistance(){return this._panner.maxDistance}set maxDistance(t){this._panner.maxDistance=t}dispose(){return super.dispose(),this._panner.disconnect(),this.orientationX.dispose(),this.orientationY.dispose(),this.orientationZ.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this}}class wc extends ${constructor(){const t=W(wc.getDefaults(),arguments);super(t),this.name="Recorder",this.input=new dt({context:this.context}),pt(wc.supported,"Media Recorder API is not available"),this._stream=this.context.createMediaStreamDestination(),this.input.connect(this._stream),this._recorder=new MediaRecorder(this._stream.stream,{mimeType:t.mimeType})}static getDefaults(){return $.getDefaults()}get mimeType(){return this._recorder.mimeType}static get supported(){return Ze!==null&&Reflect.has(Ze,"MediaRecorder")}get state(){return this._recorder.state==="inactive"?"stopped":this._recorder.state==="paused"?"paused":"started"}start(){return Qt(this,void 0,void 0,function*(){pt(this.state!=="started","Recorder is already started");const t=new Promise(s=>{const a=()=>{this._recorder.removeEventListener("start",a,!1),s()};this._recorder.addEventListener("start",a,!1)});return this.state==="stopped"?this._recorder.start():this._recorder.resume(),yield t})}stop(){return Qt(this,void 0,void 0,function*(){pt(this.state!=="stopped","Recorder is not started");const t=new Promise(s=>{const a=l=>{this._recorder.removeEventListener("dataavailable",a,!1),s(l.data)};this._recorder.addEventListener("dataavailable",a,!1)});return this._recorder.stop(),yield t})}pause(){return pt(this.state==="started","Recorder must be started"),this._recorder.pause(),this}dispose(){return super.dispose(),this.input.dispose(),this._stream.disconnect(),this}}class Os extends ${constructor(){const t=W(Os.getDefaults(),arguments,["threshold","ratio"]);super(t),this.name="Compressor",this._compressor=this.context.createDynamicsCompressor(),this.input=this._compressor,this.output=this._compressor,this.threshold=new Tt({minValue:this._compressor.threshold.minValue,maxValue:this._compressor.threshold.maxValue,context:this.context,convert:!1,param:this._compressor.threshold,units:"decibels",value:t.threshold}),this.attack=new Tt({minValue:this._compressor.attack.minValue,maxValue:this._compressor.attack.maxValue,context:this.context,param:this._compressor.attack,units:"time",value:t.attack}),this.release=new Tt({minValue:this._compressor.release.minValue,maxValue:this._compressor.release.maxValue,context:this.context,param:this._compressor.release,units:"time",value:t.release}),this.knee=new Tt({minValue:this._compressor.knee.minValue,maxValue:this._compressor.knee.maxValue,context:this.context,convert:!1,param:this._compressor.knee,units:"decibels",value:t.knee}),this.ratio=new Tt({minValue:this._compressor.ratio.minValue,maxValue:this._compressor.ratio.maxValue,context:this.context,convert:!1,param:this._compressor.ratio,units:"positive",value:t.ratio}),gt(this,["knee","release","attack","ratio","threshold"])}static getDefaults(){return Object.assign($.getDefaults(),{attack:.003,knee:30,ratio:12,release:.25,threshold:-24})}get reduction(){return this._compressor.reduction}dispose(){return super.dispose(),this._compressor.disconnect(),this.attack.dispose(),this.release.dispose(),this.threshold.dispose(),this.ratio.dispose(),this.knee.dispose(),this}}class Gd extends ${constructor(){const t=W(Gd.getDefaults(),arguments,["threshold","smoothing"]);super(t),this.name="Gate",this._follower=new Ho({context:this.context,smoothing:t.smoothing}),this._gt=new Bc({context:this.context,value:Ia(t.threshold)}),this.input=new dt({context:this.context}),this._gate=this.output=new dt({context:this.context}),this.input.connect(this._gate),this.input.chain(this._follower,this._gt,this._gate.gain)}static getDefaults(){return Object.assign($.getDefaults(),{smoothing:.1,threshold:-40})}get threshold(){return Ro(this._gt.value)}set threshold(t){this._gt.value=Ia(t)}get smoothing(){return this._follower.smoothing}set smoothing(t){this._follower.smoothing=t}dispose(){return super.dispose(),this.input.dispose(),this._follower.dispose(),this._gt.dispose(),this._gate.dispose(),this}}class Hd extends ${constructor(){const t=W(Hd.getDefaults(),arguments,["threshold"]);super(t),this.name="Limiter",this._compressor=this.input=this.output=new Os({context:this.context,ratio:20,attack:.003,release:.01,threshold:t.threshold}),this.threshold=this._compressor.threshold,gt(this,"threshold")}static getDefaults(){return Object.assign($.getDefaults(),{threshold:-12})}get reduction(){return this._compressor.reduction}dispose(){return super.dispose(),this._compressor.dispose(),this.threshold.dispose(),this}}class Id extends ${constructor(){const t=W(Id.getDefaults(),arguments);super(t),this.name="MidSideCompressor",this._midSideSplit=this.input=new Io({context:this.context}),this._midSideMerge=this.output=new Yo({context:this.context}),this.mid=new Os(Object.assign(t.mid,{context:this.context})),this.side=new Os(Object.assign(t.side,{context:this.context})),this._midSideSplit.mid.chain(this.mid,this._midSideMerge.mid),this._midSideSplit.side.chain(this.side,this._midSideMerge.side),gt(this,["mid","side"])}static getDefaults(){return Object.assign($.getDefaults(),{mid:{ratio:3,threshold:-24,release:.03,attack:.02,knee:16},side:{ratio:6,threshold:-30,release:.25,attack:.03,knee:10}})}dispose(){return super.dispose(),this.mid.dispose(),this.side.dispose(),this._midSideSplit.dispose(),this._midSideMerge.dispose(),this}}class Yd extends ${constructor(){const t=W(Yd.getDefaults(),arguments);super(t),this.name="MultibandCompressor",this._splitter=this.input=new Qo({context:this.context,lowFrequency:t.lowFrequency,highFrequency:t.highFrequency}),this.lowFrequency=this._splitter.lowFrequency,this.highFrequency=this._splitter.highFrequency,this.output=new dt({context:this.context}),this.low=new Os(Object.assign(t.low,{context:this.context})),this.mid=new Os(Object.assign(t.mid,{context:this.context})),this.high=new Os(Object.assign(t.high,{context:this.context})),this._splitter.low.chain(this.low,this.output),this._splitter.mid.chain(this.mid,this.output),this._splitter.high.chain(this.high,this.output),gt(this,["high","mid","low","highFrequency","lowFrequency"])}static getDefaults(){return Object.assign($.getDefaults(),{lowFrequency:250,highFrequency:2e3,low:{ratio:6,threshold:-30,release:.25,attack:.03,knee:10},mid:{ratio:3,threshold:-24,release:.03,attack:.02,knee:16},high:{ratio:3,threshold:-24,release:.03,attack:.02,knee:16}})}dispose(){return super.dispose(),this._splitter.dispose(),this.low.dispose(),this.mid.dispose(),this.high.dispose(),this.output.dispose(),this}}class Xd extends ${constructor(){const t=W(Xd.getDefaults(),arguments,["low","mid","high"]);super(t),this.name="EQ3",this.output=new dt({context:this.context}),this._internalChannels=[],this.input=this._multibandSplit=new Qo({context:this.context,highFrequency:t.highFrequency,lowFrequency:t.lowFrequency}),this._lowGain=new dt({context:this.context,gain:t.low,units:"decibels"}),this._midGain=new dt({context:this.context,gain:t.mid,units:"decibels"}),this._highGain=new dt({context:this.context,gain:t.high,units:"decibels"}),this.low=this._lowGain.gain,this.mid=this._midGain.gain,this.high=this._highGain.gain,this.Q=this._multibandSplit.Q,this.lowFrequency=this._multibandSplit.lowFrequency,this.highFrequency=this._multibandSplit.highFrequency,this._multibandSplit.low.chain(this._lowGain,this.output),this._multibandSplit.mid.chain(this._midGain,this.output),this._multibandSplit.high.chain(this._highGain,this.output),gt(this,["low","mid","high","lowFrequency","highFrequency"]),this._internalChannels=[this._multibandSplit]}static getDefaults(){return Object.assign($.getDefaults(),{high:0,highFrequency:2500,low:0,lowFrequency:400,mid:0})}dispose(){return super.dispose(),Mo(this,["low","mid","high","lowFrequency","highFrequency"]),this._multibandSplit.dispose(),this.lowFrequency.dispose(),this.highFrequency.dispose(),this._lowGain.dispose(),this._midGain.dispose(),this._highGain.dispose(),this.low.dispose(),this.mid.dispose(),this.high.dispose(),this.Q.dispose(),this}}class Qd extends ${constructor(){const t=W(Qd.getDefaults(),arguments,["url","onload"]);super(t),this.name="Convolver",this._convolver=this.context.createConvolver(),this._buffer=new zt(t.url,s=>{this.buffer=s,t.onload()}),this.input=new dt({context:this.context}),this.output=new dt({context:this.context}),this._buffer.loaded&&(this.buffer=this._buffer),this.normalize=t.normalize,this.input.chain(this._convolver,this.output)}static getDefaults(){return Object.assign($.getDefaults(),{normalize:!0,onload:Dt})}load(t){return Qt(this,void 0,void 0,function*(){this.buffer=yield this._buffer.load(t)})}get buffer(){return this._buffer.length?this._buffer:null}set buffer(t){t&&this._buffer.set(t),this._convolver.buffer&&(this.input.disconnect(),this._convolver.disconnect(),this._convolver=this.context.createConvolver(),this.input.chain(this._convolver,this.output));const s=this._buffer.get();this._convolver.buffer=s||null}get normalize(){return this._convolver.normalize}set normalize(t){this._convolver.normalize=t}dispose(){return super.dispose(),this._buffer.dispose(),this._convolver.disconnect(),this}}function q2(){return Pt().now()}function z2(){return Pt().immediate()}const Ui=Pt().transport;function V2(){return Pt().transport}const j2=Pt().destination,U2=Pt().destination;function B2(){return Pt().destination}const L2=Pt().listener;function F2(){return Pt().listener}const G2=Pt().draw;function H2(){return Pt().draw}const ri=Pt();function I2(){return zt.loaded()}const Y2=zt,X2=rr,Q2=_i,Z2=Object.freeze(Object.defineProperty({__proto__:null,AMOscillator:qo,AMSynth:rd,Abs:Mv,Add:Qi,AmplitudeEnvelope:ur,Analyser:Xo,AudioToGain:Vc,AutoFilter:gd,AutoPanner:yd,AutoWah:vd,BaseContext:Zf,BiquadFilter:bo,BitCrusher:bd,Buffer:Y2,BufferSource:Q2,Buffers:X2,Channel:Li,Chebyshev:Sd,Chorus:Td,Clock:ar,Compressor:Os,Context:nr,Convolver:Qd,CrossFade:hr,DCMeter:Ud,Delay:vn,Destination:j2,Distortion:wd,Draw:G2,DuoSynth:od,EQ3:Xd,Emitter:er,Envelope:Ue,FFT:jd,FMOscillator:lr,FMSynth:ld,FatOscillator:zo,FeedbackCombFilter:Uo,FeedbackDelay:Ad,Filter:gn,Follower:Ho,Freeverb:Dd,Frequency:r2,FrequencyClass:Pe,FrequencyEnvelope:xo,FrequencyShifter:Ed,Gain:dt,GainToAudio:Rv,Gate:Gd,GrainPlayer:id,GreaterThan:Bc,GreaterThanZero:Uc,IntervalTimeline:Cv,JCReverb:Cd,LFO:Ke,Limiter:Hd,Listener:L2,Loop:Za,LowpassCombFilter:Lo,Master:U2,MembraneSynth:jo,Merge:gi,MetalSynth:cd,Meter:Vd,MidSideCompressor:Id,MidSideMerge:Yo,MidSideSplit:Io,Midi:h2,MidiClass:Qa,Mono:Ld,MonoSynth:li,MultibandCompressor:Yd,MultibandSplit:Qo,Multiply:ne,Negate:ad,Noise:fi,NoiseSynth:ud,Offline:u2,OfflineContext:sr,OmniOscillator:Ms,OnePoleFilter:Bo,Oscillator:ee,PWMOscillator:Vo,PanVol:Fc,Panner:Go,Panner3D:Fd,Param:Tt,Part:So,Pattern:md,Phaser:Rd,PingPongDelay:Od,PitchShift:Md,Player:Zi,Players:sd,PluckSynth:dd,PolySynth:pd,Pow:or,PulseOscillator:cr,Recorder:wc,Reverb:Nd,Sampler:Fo,Scale:Rs,ScaleExp:Lc,Sequence:_d,Signal:vt,Solo:fe,Split:Pi,StateTimeline:ir,StereoWidener:kd,Subtract:Wi,SyncedSignal:g2,Synth:Hn,Ticks:f2,TicksClass:te,Time:s2,TimeClass:_n,Timeline:yn,ToneAudioBuffer:zt,ToneAudioBuffers:rr,ToneAudioNode:$,ToneBufferSource:_i,ToneEvent:is,ToneOscillatorNode:ko,Transport:Ui,TransportTime:o2,TransportTimeClass:_e,Tremolo:qd,Unit:m2,UserMedia:_o,Vibrato:zd,Volume:ks,WaveShaper:Wn,Waveform:Bd,Zero:jc,connect:Je,connectSeries:xn,connectSignal:No,context:ri,dbToGain:Ia,debug:GA,defaultArg:qn,disconnect:Kf,fanIn:l2,ftom:oi,gainToDb:Ro,getContext:Pt,getDestination:B2,getDraw:H2,getListener:F2,getTransport:V2,immediate:z2,intervalToFrequencyRatio:Ya,isArray:je,isBoolean:If,isDefined:wt,isFunction:bv,isNote:fo,isNumber:bn,isObject:Cs,isString:Xn,isUndef:on,loaded:I2,mtof:Wf,now:q2,optionsFromArguments:W,setContext:xc,start:Ba,supported:LA,version:Af},Symbol.toStringTag,{value:"Module"})),W2=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],wy=[2,3,4,5,6],P2=()=>{const[o,t]=mt.useState(!1),[s,a]=mt.useState([]),[l,u]=mt.useState([3]),[f,d]=mt.useState(1),[p]=mt.useState(3),[m,_]=mt.useState("tuning"),[y,x]=mt.useState(null),b=mt.useRef([]),S=mt.useRef(null),w=mt.useCallback(T=>{switch(b.current.forEach(z=>{z&&z.dispose()}),b.current=[],T){case"retro":for(let z=0;z<3;z++){const G=new Hn({oscillator:{type:"square"}}).toDestination();b.current.push(G)}break;case'"brass"':for(let z=0;z<3;z++){const G=new li({oscillator:{type:"sawtooth"},filterEnvelope:{attack:.1,decay:.2,sustain:.9,release:1},envelope:{attack:.1,decay:.2,sustain:.9,release:1}}).toDestination();b.current.push(G)}break;case"tuning":for(let z=0;z<3;z++){const G=new Hn({oscillator:{type:"triangle"},envelope:{attack:.05,decay:.1,sustain:.8,release:1}}).toDestination();b.current.push(G)}break;default:for(let z=0;z<3;z++){const G=new Hn().toDestination();b.current.push(G)}break}},[]),E=mt.useCallback(()=>{b.current.forEach(T=>{T&&(T.triggerRelease(),T.dispose())}),b.current=[],S.current&&(clearTimeout(S.current),S.current=null),t(!1)},[]);mt.useEffect(()=>{const T=async()=>{document.visibilityState==="visible"&&ri.state!=="running"&&(await Ba(),await ri.resume())};return document.addEventListener("visibilitychange",T),()=>{document.removeEventListener("visibilitychange",T)}},[]);const O=mt.useCallback(async()=>{try{x(null),ri.state!=="running"?(await Ba(),await ri.resume()):await Ba(),w(m),s.forEach((T,z)=>{if(b.current[z]){const G=l[z]||p;b.current[z]?.triggerAttack(`${T}${G}`)}}),t(!0)}catch{x("oops! something went wrong! you may need to refresh the website"),t(!1),S.current||(S.current=window.setTimeout(()=>{S.current=null,!o&&O()},2e3))}},[s,l,f,p,m,w]),U=mt.useCallback(()=>{E()},[E]),B=mt.useCallback(T=>{a(z=>{let G;if(z.includes(T)){const I=z.indexOf(T);G=[...z.slice(0,I),...z.slice(I+1)]}else z.length<f?G=[...z,T]:G=[...z.slice(1),T];return o&&(b.current.forEach(I=>{I&&I.triggerRelease()}),G.forEach((I,X)=>{if(b.current[X]){const st=l[X]||p;b.current[X]?.triggerAttack(`${I}${st}`)}})),G})},[o,f,p,l]),Q=mt.useCallback(T=>{if(d(T),u(z=>z.length<T?[...z,...Array(T-z.length).fill(p)]:z.length>T?z.slice(0,T):z),s.length>T){const z=s.slice(-T);a(z),o&&(b.current.forEach(G=>{G&&G.triggerRelease()}),z.forEach((G,I)=>{if(b.current[I]){const X=l[I]||p;b.current[I]?.triggerAttack(`${G}${X}`)}}))}},[s,p,o,l]),D=mt.useCallback((T,z)=>{u(G=>{const I=[...G];return I[T]=z,I}),o&&s[T]&&b.current[T]&&(b.current[T]?.triggerRelease(),b.current[T]?.triggerAttack(`${s[T]}${z}`))},[o,s]),M=mt.useCallback(T=>{_(T),o&&s.length>0&&(w(T),s.forEach((z,G)=>{if(b.current[G]){const I=l[G]||p;b.current[G]?.triggerAttack(`${z}${I}`)}}))},[o,s,l,f,p,w]),k=mt.useCallback(async()=>{if(await Ba(),await ri.resume(),o)U();else try{O()}catch{x("oops! something went wrong! you may need to refresh the website"),S.current||(S.current=window.setTimeout(()=>{S.current=null,!o&&O()},2e3))}},[o,U,O]);return mt.useEffect(()=>()=>{E()},[E]),it.jsxs("div",{style:{padding:"2vw 1vw",border:"1px solid #ccc",borderRadius:8,textAlign:"center",overflow:"visible",cursor:"pointer",backgroundColor:o?"#f0f8ff":"#fff",transition:"background-color 0.2s ease",width:"100%",maxWidth:500,minWidth:260,height:"85vh",maxHeight:"85vh",minHeight:320,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",boxSizing:"border-box"},onClick:k,children:[it.jsx("h2",{style:{fontSize:"1.5rem",margin:"0 0 8px 0"},children:"Drone"}),it.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:"clamp(8px, 1.5vw, 16px)",width:"100%",maxWidth:420,minWidth:220,height:"100%",fontSize:"clamp(12px, 1.2vw, 16px)",padding:"clamp(4px, 1vw, 16px)",boxSizing:"border-box"},children:[it.jsx("div",{style:{display:"flex",justifyContent:"center",width:"100%",maxWidth:"280px"},children:[1,2,3].map(T=>it.jsxs("button",{onClick:z=>{z.stopPropagation(),Q(T)},style:{padding:"6px 12px",fontSize:"12px",border:"none",borderRadius:"0px",backgroundColor:f===T?"#ff5722":"#e8e8e8",color:f===T?"white":"#333",cursor:"pointer",transition:"all 0.2s ease",flex:1,margin:"0px"},"aria-label":`Select ${T} note${T>1?"s":""} maximum`,children:[T," note",T>1?"s":""]},T))}),it.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",width:"100%",maxWidth:"280px"},children:W2.map(T=>it.jsx("button",{onClick:z=>{z.stopPropagation(),B(T)},style:{padding:"12px 4px",fontSize:"14px",border:"none",borderRadius:"0px",backgroundColor:s.includes(T)?"#4caf50":"#e8e8e8",color:s.includes(T)?"white":"#333",cursor:"pointer",transition:"all 0.2s ease",minHeight:"48px",margin:"0px"},"aria-label":`Select note ${T}`,children:T},T))}),f===1?it.jsx("div",{style:{display:"flex",justifyContent:"center",flexWrap:"wrap",width:"100%",maxWidth:"280px"},children:wy.map(T=>it.jsx("button",{onClick:z=>{z.stopPropagation(),D(0,T)},style:{padding:"8px 12px",fontSize:"14px",border:"none",borderRadius:"0px",backgroundColor:l[0]===T?"#2196f3":"#e8e8e8",color:l[0]===T?"white":"#333",cursor:"pointer",transition:"all 0.2s ease",minWidth:"40px",margin:"0px",flex:1},"aria-label":`Select octave ${T}`,children:T},T))}):it.jsxs(it.Fragment,{children:[it.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px",width:"100%",maxWidth:"280px"},children:Array.from({length:f}).map((T,z)=>{const G=s[z];return it.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"8px"},children:[it.jsxs("span",{style:{fontSize:"12px",minWidth:"48px",textAlign:"center"},children:[G||"--",":"]}),it.jsx("div",{style:{display:"flex",flex:1},children:wy.map(I=>it.jsx("button",{onClick:X=>{X.stopPropagation(),D(z,I)},style:{padding:"6px 8px",fontSize:"12px",border:"none",borderRadius:"0px",backgroundColor:l[z]===I?"#2196f3":"#e8e8e8",color:l[z]===I?"white":"#333",cursor:"pointer",transition:"all 0.2s ease",flex:1,margin:"0px"},"aria-label":`Select octave ${I} for slot ${z+1}`,children:I},I))})]},z)})}),(f===2||f===3)&&it.jsx("div",{style:{fontSize:"12px",color:"#888",fontStyle:"italic",marginTop:"4px",textAlign:"center"},children:"Just intonation coming soon, hopefully"})]}),it.jsx("div",{style:{fontSize:"18px",marginTop:"8px",textAlign:"center"},children:s.length===0?"--":s.length===1?`${s[0]}${l[0]??p}`:`${s.map((T,z)=>`${T}${l[z]??p}`).join(", ")}`}),it.jsx("div",{style:{display:"flex",justifyContent:"center",width:"100%",maxWidth:"280px"},children:[{type:"tuning",label:"tone 1",color:"#00bcd4"},{type:"pure",label:"tone 2",color:"#9c27b0"},{type:'"brass"',label:"tone 3",color:"#795548"},{type:"retro",label:"tone 4",color:"#ff9800"}].map(({type:T,label:z,color:G})=>it.jsx("button",{onClick:I=>{I.stopPropagation(),M(T)},style:{padding:"6px 10px",fontSize:"12px",border:"none",borderRadius:"0px",backgroundColor:m===T?G:"#e8e8e8",color:m===T?"white":"#333",cursor:"pointer",transition:"all 0.2s ease",minWidth:"50px",margin:"0px",flex:1},"aria-label":`Select ${z} sound`,children:z},T))}),y&&it.jsx("div",{style:{color:"red",fontSize:"14px",textAlign:"center"},children:y})]})]})},K2=[44,46,48,50,52,54,56,58,60,63,66,69,72,76,80,84,88,92,96,100,104,108,112,116,120,126,132,138,144,152,160,168,176,184,200,208],uc=[{label:"Click 1",file:"/practice-helper/metronome_sounds/Perc_Chair_lo.wav"},{label:"Click 2",file:"/practice-helper/metronome_sounds/Perc_MetronomeQuartz_lo.wav"},{label:"Click 3",file:"/practice-helper/metronome_sounds/Synth_Bell_A_hi.wav"},{label:"Click 4",file:"/practice-helper/metronome_sounds/Synth_Square_D_hi.wav"},{label:"Click 5",file:"/practice-helper/metronome_sounds/Synth_Weird_A_hi.wav"}];function J2(o){const t=o.split("/").pop()?.replace(/\.wav$/i,"")||o,s=uc.find(a=>a.file===o);return s?`${t} (${s.label})`:t}const $2=()=>{const[o,t]=mt.useState(88),[s,a]=mt.useState(!1),[l,u]=mt.useState(0),[f,d]=mt.useState(!1),[p,m]=mt.useState(null),[_,y]=mt.useState(uc.map(M=>M.file)),x=mt.useRef(null),b=mt.useRef(null);mt.useEffect(()=>(fetch("/practice-helper/metronome_sounds/index.json").then(M=>M.json()).then(M=>y(M.map(k=>"/practice-helper/metronome_sounds/"+k))).catch(()=>y(uc.map(M=>M.file))),()=>{O()}),[]),mt.useEffect(()=>()=>{O()},[]);async function S(){try{return ri.state!=="running"&&(await Ba(),await ri.resume()),!0}catch{return m("Audio could not be started. Try clicking again or refresh."),!1}}async function w(M){return d(!0),x.current&&(x.current.dispose(),x.current=null),new Promise((k,T)=>{const z=new Zi({url:M,autostart:!1,volume:12,onload:()=>{d(!1),k(z)},onerror:G=>{d(!1),m("Failed to load sound."),T(G)}}).toDestination()})}async function E(){if(m(null),!!await S()){O();try{const k=await w(_[l]);x.current=k,Ui.bpm.value=o,b.current=new Za(T=>{x.current&&x.current.loaded&&x.current.start(T)},"4n"),b.current.start(0),Ui.start(),a(!0)}catch{m("Could not start metronome."),a(!1)}}}function O(){if(a(!1),b.current){try{b.current.stop(0)}catch{}try{b.current.dispose()}catch{}b.current=null}if(x.current){try{x.current.dispose()}catch{}x.current=null}try{Ui.stop(),Ui.cancel()}catch{}}async function U(){s?O():await E()}async function B(M){u(M),s&&(O(),await E())}function Q(M){const k=Number(M.target.value);t(k),s&&(Ui.bpm.value=k)}function D(M){t(M),s&&(Ui.bpm.value=M)}return it.jsxs("div",{style:{padding:"2vw 1vw",border:"1px solid #ccc",borderRadius:8,cursor:"pointer",backgroundColor:s?"#f0f8ff":"#fff",transition:"background-color 0.2s ease",width:"100%",maxWidth:500,minWidth:260,height:"85vh",maxHeight:"85vh",minHeight:320,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",boxSizing:"border-box"},onClick:U,children:[it.jsx("h2",{style:{fontSize:"1.5rem",margin:"0 0 8px 0"},children:"Metronome"}),it.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:"clamp(8px, 1.5vw, 16px)",width:"100%",maxWidth:420,minWidth:220,fontSize:"clamp(12px, 1.2vw, 16px)",padding:"clamp(4px, 1vw, 16px)",boxSizing:"border-box"},children:[it.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(6, 1fr)",width:"100%",maxWidth:380,gap:0},children:K2.map(M=>it.jsx("button",{onClick:k=>{k.stopPropagation(),D(M)},style:{padding:"6px 2px",fontSize:"11px",border:"none",borderRadius:"0px",backgroundColor:o===M?"#4caf50":"#e8e8e8",color:o===M?"white":"#333",cursor:"pointer",transition:"all 0.2s ease",minHeight:"34px",margin:"0px"},"aria-label":`Set BPM to ${M}`,children:M},M))}),it.jsx("div",{style:{display:"flex",alignItems:"center",gap:"6px",fontSize:"15px"},children:it.jsxs("label",{children:["Custom:",it.jsx("input",{type:"number",min:30,max:300,value:o,onChange:Q,style:{width:60,marginLeft:6,fontSize:"15px",padding:"3px 6px"},onClick:M=>M.stopPropagation(),"aria-label":"Set custom metronome BPM"})]})}),it.jsx("div",{style:{display:"flex",justifyContent:"center",width:"100%",maxWidth:380,marginTop:6},children:uc.map(M=>{const k=_.findIndex(T=>T===M.file);return it.jsx("button",{onClick:T=>{T.stopPropagation(),B(k)},style:{padding:"5px 6px",fontSize:"11px",border:"none",borderRadius:"0px",backgroundColor:l===k?"#4caf50":"#e8e8e8",color:l===k?"white":"#333",cursor:s?"not-allowed":"pointer",transition:"all 0.2s ease",minWidth:"38px",margin:"0px",flex:1},"aria-label":`Select ${M.label} click sound`,disabled:s,children:M.label},M.file)})}),it.jsx("div",{style:{marginTop:8,width:"100%",maxWidth:420,display:"flex",justifyContent:"center"},children:it.jsx("select",{value:l,onChange:M=>{s||B(Number(M.target.value))},style:{fontSize:13,padding:"3px 6px",width:"100%",maxWidth:320},"aria-label":"Select metronome sound",disabled:s,children:_.map((M,k)=>it.jsx("option",{value:k,children:J2(M)},M))})}),it.jsxs("div",{style:{marginTop:4,width:"100%",maxWidth:320,fontSize:10,color:"#888",fontStyle:"italic",textAlign:"center",lineHeight:1.4},children:["metronome sounds recorded by Ludwig Peter Müller",it.jsx("br",{}),"for use under Creative Commons CC0 1.0 Universal"]}),f&&it.jsx("div",{style:{color:"#888",fontSize:13,marginTop:8},children:"Loading sound..."}),p&&it.jsx("div",{style:{color:"red",fontSize:"14px",textAlign:"center"},children:p})]})]})};function tE(){const o=window.navigator.userAgent;return/Safari/.test(o)&&!/Chrome|Chromium|Edg|OPR|Brave|Android/i.test(o)}const Ay=["click anywhere on a tool to turn it on/off.","all of the tools can be used simultaneously.","try using multi-note drones!","permanently allow microphone for this site in your browser settings","tuner markings include just temperament!","choose from 122 metronome sounds!","this website helps avoid phone usage during practicing.",'"drone" comes from the old english drǣn, meaning male bee.',"the tuner is not very forgiving...","what do you call two violists playing the same note? a minor second.","stop clicking me and get back to practicing!"],eE=()=>{const[o,t]=mt.useState(null),[s,a]=mt.useState(null),[l,u]=mt.useState(!1),[f,d]=mt.useState(0),[p,m]=mt.useState(!1),[_,y]=mt.useState(null),[x,b]=mt.useState(tE()),S=mt.useRef(!1),w=mt.useRef(null),E=mt.useRef(null),O=mt.useCallback(()=>{w.current&&(clearTimeout(w.current),w.current=null),E.current&&(clearTimeout(E.current),E.current=null)},[]),U=mt.useCallback(()=>{if(l){u(!1),O();return}d(k=>(k+1)%Ay.length),O(),u(!0),E.current=window.setTimeout(()=>{u(!1)},3e3)},[l,O]);mt.useEffect(()=>()=>{O()},[O]);const B=x&&!p,[Q,D]=mt.useState(!1);mt.useEffect(()=>{!B&&!S.current&&(d(0),O(),w.current=window.setTimeout(()=>{u(!0),E.current=window.setTimeout(()=>{u(!1)},7e3)},1e3),S.current=!0)},[B,O]);const M=mt.useCallback(async()=>{try{const k=await rb(()=>Promise.resolve().then(()=>Z2),void 0);k.context.state!=="running"&&(await k.start(),await k.context.resume()),m(!0),y(null),b(!1)}catch{y("Please refresh and try again.")}},[]);return mt.useEffect(()=>{function k(){D(window.innerWidth<956||window.innerHeight<600)}return k(),window.addEventListener("resize",k),()=>window.removeEventListener("resize",k)},[]),Q?it.jsxs("div",{style:{width:"100vw",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center",fontSize:"2rem",color:"#888",background:"#fff",textAlign:"center"},children:["screen too small",it.jsx("br",{}),"the point of this website is to not use your phone!"]}):it.jsxs(it.Fragment,{children:[B&&it.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.35)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center"},onClick:M,onTouchStart:M,children:it.jsxs("div",{style:{background:"#fff",borderRadius:12,boxShadow:"0 2px 16px rgba(0,0,0,0.18)",padding:"32px 36px",minWidth:320,textAlign:"center",fontSize:22,color:"#333",cursor:"pointer",userSelect:"none",maxWidth:"90vw"},children:[it.jsx("div",{style:{fontWeight:600,marginBottom:12},children:"Tuner / Drone / Metronome"}),it.jsx("div",{style:{fontSize:15,color:"#666"},children:"click anywhere to start"}),_&&it.jsx("div",{style:{color:"red",fontSize:15,marginTop:16},children:_})]})}),it.jsxs("div",{className:"app-flex",style:{filter:B?"blur(2px)":void 0},children:[it.jsxs("button",{className:`hint ${l?"expanded":""}`,onClick:U,"aria-label":"Toggle hint information",type:"button",children:[it.jsx("span",{className:"hint-text",children:Ay[f]}),it.jsxs("svg",{className:"info-icon",width:"14",height:"14",viewBox:"0 0 14 14",fill:"currentColor","aria-hidden":"true",children:[it.jsx("circle",{cx:"7",cy:"7",r:"6.5",stroke:"currentColor",strokeWidth:"1",fill:"none"}),it.jsx("text",{x:"7",y:"9.5",textAnchor:"middle",fontSize:"8",fill:"currentColor",fontWeight:"bold",children:"i"})]})]}),it.jsxs("div",{className:"socials-bar",children:[it.jsx("a",{href:"https://www.facebook.com/teddy.zhang.3133/",target:"_blank",rel:"noopener noreferrer","aria-label":"Facebook",className:"social-icon",children:it.jsx("img",{src:"/practice-helper/social_icons/square-facebook-brands.svg",alt:"Facebook",width:20,height:20,className:"social-icon"})}),it.jsx("a",{href:"https://www.instagram.com/teddysbassoon/",target:"_blank",rel:"noopener noreferrer","aria-label":"Instagram",className:"social-icon",children:it.jsx("img",{src:"/practice-helper/social_icons/instagram-brands-solid.svg",alt:"Instagram",width:20,height:20,className:"social-icon"})}),it.jsx("a",{href:"https://www.youtube.com/@teddysbassoon",target:"_blank",rel:"noopener noreferrer","aria-label":"YouTube",className:"social-icon",children:it.jsx("img",{src:"/practice-helper/social_icons/youtube-brands.svg",alt:"YouTube",width:20,height:20,className:"social-icon"})}),it.jsx("a",{href:"https://github.com/teddy-zhng/practice-helper",target:"_blank",rel:"noopener noreferrer","aria-label":"GitHub",className:"social-icon",children:it.jsx("img",{src:"/practice-helper/social_icons/github-brands.svg",alt:"GitHub",width:20,height:20,className:"social-icon"})})]}),it.jsxs("div",{className:"bottom-blurb",children:["practice helper by Teddy Zhang |"," ",it.jsx("a",{href:"https://coff.ee/teddyzhng",target:"_blank",rel:"noopener noreferrer",className:"bottom-blurb-link","aria-label":"Support this site on coff.ee",children:"support this site"})]}),it.jsx("div",{className:"column",children:it.jsx(gb,{note:o,cents:s,setNote:t,setCents:a})}),it.jsx("div",{className:"column",children:it.jsx(P2,{})}),it.jsx("div",{className:"column",children:it.jsx($2,{})})]})]})};sb.createRoot(document.getElementById("root")).render(it.jsx(mt.StrictMode,{children:it.jsx(eE,{})}));
